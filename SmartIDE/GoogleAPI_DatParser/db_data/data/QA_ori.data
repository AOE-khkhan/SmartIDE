===ID===
584e5a413e2ca51be94fed8a
===QUESTION===
How do I compare strings in Java?
I've been using the  ==  operator in my program to compare all my strings so far.
However, I ran into a bug, changed one of them into  .equals()  instead, and it fixed the bug. Is  ==  bad? When should it and should it not be used? What's the difference? 
===LINK===
http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java
===KEYWORDS===
compare 
===ANSWER===
3733
<html><body><p><code>==</code> tests for reference equality (whether they are the same object).</p><p><code>.equals()</code> tests for value equality (whether they are logically "equal"). </p><p><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals(java.lang.Object,%20java.lang.Object)" rel="nofollow noreferrer">Objects.equals()</a> checks for nulls before calling <code>.equals()</code> so you don't have to (available as of JDK7, also available in <a href="https://github.com/google/guava/wiki/CommonObjectUtilitiesExplained#equals" rel="nofollow noreferrer">Guava</a>).</p><p>Consequently, if you want to test whether two strings have the same value you will probably want to use <code>Objects.equals()</code>.</p><pre><code>// These two have the same value
new String("test").equals("test") // --&gt; true 

// ... but they are not the same object
new String("test") == "test" // --&gt; false 

// ... neither are these
new String("test") == new String("test") // --&gt; false 

// ... but these are because literals are interned by 
// the compiler and thus refer to the same object
"test" == "test" // --&gt; true 

// ... but you should really just call Objects.equals()
Objects.equals("test", new String("test")) // --&gt; true
Objects.equals(null, "test") // --&gt; false
</code></pre><p>You almost <strong>always</strong> want to use<code>Objects.equals()</code>. In the <strong>rare</strong> situation where you <strong>know</strong> you're dealing with <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#intern--" rel="nofollow noreferrer">interned</a> strings, you <em>can</em> use <code>==</code>.</p></body></html>

===ID===
584e5a423e2ca51be94fed8b
===QUESTION===
Is Java “pass-by-reference” or “pass-by-value”?
I always thought Java was  pass-by-reference ; however I've seen a couple of blog posts (for example,  this blog ) that claim it's not. I don't think I understand the distinction they're making.  What is the explanation? 
===LINK===
http://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value
===KEYWORDS===
“pass 
===ANSWER===
3185
<html><body><p>Java is always <strong>pass-by-value</strong>. Unfortunately, they decided to call pointers references, thus confusing newbies. Because those <em>references</em> are passed by value.</p><p>It goes like this:</p><pre><code>public static void main( String[] args ){
    Dog aDog = new Dog("Max");
    foo(aDog);

    if (aDog.getName().equals("Max")) { //true
        System.out.println( "Java passes by value." );

    } else if (aDog.getName().equals("Fifi")) {
        System.out.println( "Java passes by reference." );
    }
}

public static void foo(Dog d) {
    d.getName().equals("Max"); // true

    d = new Dog("Fifi");
    d.getName().equals("Fifi"); // true
}
</code></pre><p>In this <a href="http://ideone.com/oUEPbg" rel="nofollow noreferrer">example</a> <code>aDog.getName()</code> will still return <code>"Max"</code>. The value <code>aDog</code> within <code>main</code> is not overwritten in the function <code>foo</code> with the <code>Dog</code> <code>"Fifi"</code> as the object reference is passed by value. If it were passed by reference, then the <code>aDog.getName()</code> in <code>main</code> would return <code>"Fifi"</code> after the call to <code>foo</code>.</p><p>Likewise:</p><pre><code>Dog aDog = new Dog("Max");
foo(aDog);
aDog.getName().equals("Fifi"); // true
public void foo(Dog d) {
    d.getName().equals("Max"); // true
    d.setName("Fifi");
}
</code></pre><p>In the above example, <code>FiFi</code> is the dog's name after call to <code>foo(aDog)</code>. Any operations that <code>foo</code> performs on <code>d</code> are such that, for all practical purposes, they are performed on <code>aDog</code> itself (except <code>d=new Dog("Boxer")</code>).</p></body></html>

===ID===
584e5a433e2ca51be94fed8c
===QUESTION===
The Use of Multiple JFrames: Good or Bad Practice? [closed]
I'm developing an application which displays images, and plays sounds from a database. I'm trying to decide, whether to use a separate  JFrame  to add images to the database from the GUI.  I'm just wondering whether it is good practice to use multiple  JFrame  windows? 
===LINK===
http://stackoverflow.com/questions/9554636/the-use-of-multiple-jframes-good-or-bad-practice
===KEYWORDS===
good 
===ANSWER===
323
<html><body><p>I'm just wondering whether it is good practice to use multiple JFrames?</p><p>Bad (bad, bad) practice.  </p><li>User unfriendly: The user sees multiple icons in their task bar when expecting to see only one.  Plus the side effects of the coding problems..</li><li>A nightmare to code and maintain:

<ul>
<li>A <a href="http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html" rel="nofollow noreferrer">modal dialog</a> offers the easy opportunity to focus attention on the content of that dialog - choose/fix/cancel this, <strong>then</strong> proceed.  Multiple frames do not.</li>
<li>A dialog (or floating tool-bar) with a parent will come to front when the parent is clicked on - you'd have to implement that in frames if that was the desired behavior.</li>
</ul></li><li>A <a href="http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html" rel="nofollow noreferrer">modal dialog</a> offers the easy opportunity to focus attention on the content of that dialog - choose/fix/cancel this, <strong>then</strong> proceed.  Multiple frames do not.</li><li>A dialog (or floating tool-bar) with a parent will come to front when the parent is clicked on - you'd have to implement that in frames if that was the desired behavior.</li><p>There are any number of ways of displaying many elements in one GUI, e.g.:</p><li><a href="http://docs.oracle.com/javase/tutorial/uiswing/layout/card.html" rel="nofollow noreferrer"><code>CardLayout</code></a> (short <a href="http://stackoverflow.com/a/5786005/418556">demo.</a>). Good for:

<ol>
<li>Showing wizard like dialogs.</li>
<li>Displaying list, tree etc. selections for items that have an associated component.</li>
<li>Flipping between no component and visible component.</li>
</ol></li><li>Showing wizard like dialogs.</li><li>Displaying list, tree etc. selections for items that have an associated component.</li><li>Flipping between no component and visible component.</li><li><a href="http://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html" rel="nofollow noreferrer"><code>JInternalFrame</code>/<code>JDesktopPane</code></a> typically used for an <a href="http://en.wikipedia.org/wiki/Multiple_document_interface" rel="nofollow noreferrer">MDI</a>.</li><li><a href="http://docs.oracle.com/javase/tutorial/uiswing/components/tabbedpane.html" rel="nofollow noreferrer"><code>JTabbedPane</code></a> for groups of components.</li><li><a href="http://docs.oracle.com/javase/tutorial/uiswing/components/splitpane.html" rel="nofollow noreferrer"><code>JSplitPane</code></a> A way to display two components of which the importance between one or the other (the size) varies according to what the user is doing.</li><li><a href="http://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html" rel="nofollow noreferrer"><code>JLayeredPane</code></a> far many well ..layered components.</li><li><a href="http://docs.oracle.com/javase/tutorial/uiswing/components/toolbar.html" rel="nofollow noreferrer"><code>JToolBar</code></a> typically contains groups of actions or controls.  Can be dragged around the GUI, or off it entirely according to user need.  As mentioned above, will minimize/restore according to the parent doing so.</li><li>As items in a <a href="http://docs.oracle.com/javase/tutorial/uiswing/components/list.html" rel="nofollow noreferrer"><code>JList</code></a> (simple example below).</li><li>As nodes in a <a href="http://docs.oracle.com/javase/tutorial/uiswing/components/tree.html" rel="nofollow noreferrer"><code>JTree</code></a>.</li><li><a href="http://stackoverflow.com/a/5630271/418556">Nested layouts</a>.<br><img src="https://i.stack.imgur.com/Jaqap.png"/></br></li><p>But if those strategies do not work for a particular use-case, try the following.  Establish a single main <code>JFrame</code>, then have <a href="http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html" rel="nofollow noreferrer"><code>JDialog</code></a> or <a href="http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#features" rel="nofollow noreferrer"><code>JOptionPane</code></a> instances appear for the rest of the free-floating elements, using the frame as the parent for the dialogs.</p><p>In this case where the multiple elements are images, it would be better to use either of the following instead:</p><li>A single <code>JLabel</code> (centered in a scroll pane) to display whichever image the user is interested in at that moment.  As seen in <a href="http://stackoverflow.com/a/13463684/418556"><code>ImageViewer</code></a>.<br><img src="https://i.stack.imgur.com/5JXpC.gif"/></br></li><li>A single row <code>JList</code>. As seen in <a href="http://stackoverflow.com/a/9544652/418556">this answer</a>.  The 'single row' part of that only works if they are all the same dimensions.  Alternately, if you are prepared to scale the images on the fly, and they are all the same aspect ratio (e.g. 4:3 or 16:9).</li><p><img src="https://i.stack.imgur.com/q8hEl.jpg"/></p></body></html>

===ID===
584e5a433e2ca51be94fed8d
===QUESTION===
How to avoid Java code in JSP files?
I'm new to Java EE and I know that something like the following three lines is an old school way of coding and in JSP version 2 there exists a method to avoid Java code in JSP files. Can someone please tell me the alternative JSP 2 lines, and what this technique is called? 
===LINK===
http://stackoverflow.com/questions/3177733/how-to-avoid-java-code-in-jsp-files
===KEYWORDS===
school 
===ANSWER===
1641
<html><body><p>The use of <em>scriptlets</em> (those <code>&lt;% %&gt;</code> things) in <a href="http://stackoverflow.com/tags/jsp/info">JSP</a> is indeed highly discouraged since the birth of <em>taglibs</em> (like <a href="http://stackoverflow.com/tags/jstl/info">JSTL</a>) and <a href="http://stackoverflow.com/tags/el/info">EL</a> (<a href="http://stackoverflow.com/tags/el/info">Expression Language</a>, those <code>${}</code> things) over a decade ago.</p><p>The major disadvantages of <em>scriptlets</em> are:</p><li><strong>Reusability:</strong> you can't reuse scriptlets.</li><li><strong>Replaceability:</strong> you can't make scriptlets abstract.</li><li><strong>OO-ability:</strong> you can't make use of inheritance/composition.</li><li><strong>Debuggability:</strong> if scriptlet throws an exception halfway, all you get is a blank page.</li><li><strong>Testability:</strong> scriptlets are not unit-testable.</li><li><strong>Maintainability:</strong> per saldo more time is needed to maintain mingled/cluttered/duplicated code logic.</li><p><strike>Sun</strike> Oracle itself also recommends in the <a href="http://www.oracle.com/technetwork/articles/javase/code-convention-138726.html" rel="nofollow noreferrer">JSP coding conventions</a> to avoid use of <em>scriptlets</em> whenever the same functionality is possible by (tag) classes. Here are several cites of relevance:</p><p>From JSP 1.2 Specification, it is highly recommended that the JSP Standard Tag Library  (JSTL) be used in your web application to help <strong>reduce the need for JSP scriptlets</strong> in your pages. Pages that use JSTL are, in general, easier to read and maintain. </p><p>...</p><p>Where possible, <strong>avoid JSP scriptlets</strong> whenever tag libraries provide equivalent functionality. This makes pages easier to read and maintain, helps to separate business logic from presentation logic, and will make your pages easier to evolve into JSP 2.0-style pages (JSP 2.0 Specification supports but deemphasizes the use of scriptlets).</p><p>...</p><p>In the spirit of adopting the model-view-controller (MVC) design pattern to reduce coupling between the presentation tier from the business logic, <strong>JSP scriptlets should not be used</strong> for writing business logic. Rather, JSP scriptlets are used if necessary to transform data (also called "value objects") returned from processing the client's requests into a proper client-ready format. Even then, this would be better done with a front controller servlet or a custom tag.</p><p><strong>How to replace <em>scriptlets</em> entirely depends on the sole purpose of the code/logic. More than often this code is to be placed in a fullworthy Java class:</strong></p><li><p>If you want to invoke the <strong>same</strong> Java code on <em>every</em> request, less-or-more regardless of the requested page, e.g. checking if an user is logged in, then implement a <a href="http://stackoverflow.com/tags/servlet-filters/info">filter</a> and write code accordingly in <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/Filter.html#doFilter%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse,%20javax.servlet.FilterChain%29" rel="nofollow noreferrer"><code>doFilter()</code></a> method. E.g.:</p>
<pre class="lang-java prettyprint-override"><code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {
    if (((HttpServletRequest) request).getSession().getAttribute("user") == null) {
        ((HttpServletResponse) response).sendRedirect("login"); // Not logged in, redirect to login page.
    } else {
        chain.doFilter(request, response); // Logged in, just continue request.
    }
}
</code></pre>
<p>When mapped on an appropriate <code>&lt;url-pattern&gt;</code> covering the JSP pages of interest, then you don't need to copypaste the same piece of code over all JSP pages.</p>
<hr/></li><p>If you want to invoke the <strong>same</strong> Java code on <em>every</em> request, less-or-more regardless of the requested page, e.g. checking if an user is logged in, then implement a <a href="http://stackoverflow.com/tags/servlet-filters/info">filter</a> and write code accordingly in <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/Filter.html#doFilter%28javax.servlet.ServletRequest,%20javax.servlet.ServletResponse,%20javax.servlet.FilterChain%29" rel="nofollow noreferrer"><code>doFilter()</code></a> method. E.g.:</p><pre class="lang-java prettyprint-override"><code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {
    if (((HttpServletRequest) request).getSession().getAttribute("user") == null) {
        ((HttpServletResponse) response).sendRedirect("login"); // Not logged in, redirect to login page.
    } else {
        chain.doFilter(request, response); // Logged in, just continue request.
    }
}
</code></pre><p>When mapped on an appropriate <code>&lt;url-pattern&gt;</code> covering the JSP pages of interest, then you don't need to copypaste the same piece of code over all JSP pages.</p><li><p>If you want to invoke some Java code to <strong>preprocess</strong> a request, e.g. preloading some list from a database to display in some table, if necessary based on some query parameters, then implement a <a href="http://stackoverflow.com/tags/servlets/info">servlet</a> and write code accordingly in <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html#doGet%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29" rel="nofollow noreferrer"><code>doGet()</code></a> method. E.g.:</p>
<pre class="lang-java prettyprint-override"><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    try {
        List&lt;Product&gt; products = productService.list(); // Obtain all products.
        request.setAttribute("products", products); // Store products in request scope.
        request.getRequestDispatcher("/WEB-INF/products.jsp").forward(request, response); // Forward to JSP page to display them in a HTML table.
    } catch (SQLException e) {
        throw new ServletException("Retrieving products failed!", e);
    }
}
</code></pre>
<p>This way dealing with exceptions is easier. The DB is not accessed in the midst of JSP rendering, but far before the JSP is been displayed. You still have the possibility to change the response whenever the DB access throws an exception. In the above example, the default error 500 page will be displayed which you can anyway customize by an <code>&lt;error-page&gt;</code> in <code>web.xml</code>.</p>
<hr/></li><p>If you want to invoke some Java code to <strong>preprocess</strong> a request, e.g. preloading some list from a database to display in some table, if necessary based on some query parameters, then implement a <a href="http://stackoverflow.com/tags/servlets/info">servlet</a> and write code accordingly in <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html#doGet%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29" rel="nofollow noreferrer"><code>doGet()</code></a> method. E.g.:</p><pre class="lang-java prettyprint-override"><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    try {
        List&lt;Product&gt; products = productService.list(); // Obtain all products.
        request.setAttribute("products", products); // Store products in request scope.
        request.getRequestDispatcher("/WEB-INF/products.jsp").forward(request, response); // Forward to JSP page to display them in a HTML table.
    } catch (SQLException e) {
        throw new ServletException("Retrieving products failed!", e);
    }
}
</code></pre><p>This way dealing with exceptions is easier. The DB is not accessed in the midst of JSP rendering, but far before the JSP is been displayed. You still have the possibility to change the response whenever the DB access throws an exception. In the above example, the default error 500 page will be displayed which you can anyway customize by an <code>&lt;error-page&gt;</code> in <code>web.xml</code>.</p><li><p>If you want to invoke some Java code to <strong>postprocess</strong> a request, e.g. processing a form submit, then implement a <a href="http://stackoverflow.com/tags/servlets/info">servlet</a> and write code accordingly in <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html#doPost%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29" rel="nofollow noreferrer"><code>doPost()</code></a> method. E.g.:</p>
<pre class="lang-java prettyprint-override"><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    String username = request.getParameter("username");
    String password = request.getParameter("password");
    User user = userService.find(username, password);

    if (user != null) {
        request.getSession().setAttribute("user", user); // Login user.
        response.sendRedirect("home"); // Redirect to home page.
    } else {
        request.setAttribute("message", "Unknown username/password. Please retry."); // Store error message in request scope.
        request.getRequestDispatcher("/WEB-INF/login.jsp").forward(request, response); // Forward to JSP page to redisplay login form with error.
    }
}
</code></pre>
<p>This way dealing with different result page destinations is easier: redisplaying the form with validation errors in case of an error (in this particular example you can redisplay it using <code>${message}</code> in <a href="http://stackoverflow.com/tags/el/info">EL</a>), or just taking to the desired target page in case of success.</p>
<hr/></li><p>If you want to invoke some Java code to <strong>postprocess</strong> a request, e.g. processing a form submit, then implement a <a href="http://stackoverflow.com/tags/servlets/info">servlet</a> and write code accordingly in <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html#doPost%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29" rel="nofollow noreferrer"><code>doPost()</code></a> method. E.g.:</p><pre class="lang-java prettyprint-override"><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    String username = request.getParameter("username");
    String password = request.getParameter("password");
    User user = userService.find(username, password);

    if (user != null) {
        request.getSession().setAttribute("user", user); // Login user.
        response.sendRedirect("home"); // Redirect to home page.
    } else {
        request.setAttribute("message", "Unknown username/password. Please retry."); // Store error message in request scope.
        request.getRequestDispatcher("/WEB-INF/login.jsp").forward(request, response); // Forward to JSP page to redisplay login form with error.
    }
}
</code></pre><p>This way dealing with different result page destinations is easier: redisplaying the form with validation errors in case of an error (in this particular example you can redisplay it using <code>${message}</code> in <a href="http://stackoverflow.com/tags/el/info">EL</a>), or just taking to the desired target page in case of success.</p><li><p>If you want to invoke some Java code to <strong>control</strong> the execution plan and/or the destination of the request and the response, then implement a <a href="http://stackoverflow.com/tags/servlets/info">servlet</a> according the <a href="http://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/3542297#3542297">MVC's Front Controller Pattern</a>. E.g.:</p>
<pre class="lang-java prettyprint-override"><code>protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    try {
        Action action = ActionFactory.getAction(request);
        String view = action.execute(request, response);

        if (view.equals(request.getPathInfo().substring(1)) {
            request.getRequestDispatcher("/WEB-INF/" + view + ".jsp").forward(request, response);
        } else {
            response.sendRedirect(view);
        }
    } catch (Exception e) {
        throw new ServletException("Executing action failed.", e);
    }
}
</code></pre>
<p>Or just adopt a MVC framework like <a href="http://stackoverflow.com/tags/jsf/info">JSF</a>, <a href="http://stackoverflow.com/tags/spring-mvc/info">Spring MVC</a>, <a href="http://stackoverflow.com/tags/wicket/info">Wicket</a>, etc so that you end up with just a JSP/Facelets page and a Javabean class without the need for a custom servlet.</p>
<hr/></li><p>If you want to invoke some Java code to <strong>control</strong> the execution plan and/or the destination of the request and the response, then implement a <a href="http://stackoverflow.com/tags/servlets/info">servlet</a> according the <a href="http://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/3542297#3542297">MVC's Front Controller Pattern</a>. E.g.:</p><pre class="lang-java prettyprint-override"><code>protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    try {
        Action action = ActionFactory.getAction(request);
        String view = action.execute(request, response);

        if (view.equals(request.getPathInfo().substring(1)) {
            request.getRequestDispatcher("/WEB-INF/" + view + ".jsp").forward(request, response);
        } else {
            response.sendRedirect(view);
        }
    } catch (Exception e) {
        throw new ServletException("Executing action failed.", e);
    }
}
</code></pre><p>Or just adopt a MVC framework like <a href="http://stackoverflow.com/tags/jsf/info">JSF</a>, <a href="http://stackoverflow.com/tags/spring-mvc/info">Spring MVC</a>, <a href="http://stackoverflow.com/tags/wicket/info">Wicket</a>, etc so that you end up with just a JSP/Facelets page and a Javabean class without the need for a custom servlet.</p><li><p>If you want to invoke some Java code to <strong>control the flow</strong> inside a JSP page, then you need to grab an (existing) flow control taglib like <a href="http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/tld-summary.html" rel="nofollow noreferrer">JSTL core</a>. E.g. displaying <code>List&lt;Product&gt;</code> in a table:</p>
<pre class="lang-html prettyprint-override"><code>&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;
...
&lt;table&gt;
    &lt;c:forEach items="${products}" var="product"&gt;
        &lt;tr&gt;
            &lt;td&gt;${product.name}&lt;/td&gt;
            &lt;td&gt;${product.description}&lt;/td&gt;
            &lt;td&gt;${product.price}&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/c:forEach&gt;
&lt;/table&gt;
</code></pre>
<p>With XML-style tags which fits nicely among all that HTML, the code is better readable (and thus better maintainable) than a bunch of scriptlets with various opening and closing braces (<em>"Where the heck does this closing brace belong to?"</em>). An easy aid is to configure your web application to throw an exception whenever <em>scriptlets</em> are still been used by adding the following piece to <code>web.xml</code>:</p>
<pre class="lang-xml prettyprint-override"><code>&lt;jsp-config&gt;
    &lt;jsp-property-group&gt;
        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;
        &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;
    &lt;/jsp-property-group&gt;
&lt;/jsp-config&gt;
</code></pre>
<p>In <a href="http://stackoverflow.com/tags/facelets/info">Facelets</a>, the successor of JSP, which is part of the Java EE provided MVC framework <a href="http://stackoverflow.com/tags/jsf/info">JSF</a>, it is already <strong>not</strong> possible to use <em>scriptlets</em>. This way you're automatically forced to do things "the right way".</p>
<hr/></li><p>If you want to invoke some Java code to <strong>control the flow</strong> inside a JSP page, then you need to grab an (existing) flow control taglib like <a href="http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/tld-summary.html" rel="nofollow noreferrer">JSTL core</a>. E.g. displaying <code>List&lt;Product&gt;</code> in a table:</p><pre class="lang-html prettyprint-override"><code>&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;
...
&lt;table&gt;
    &lt;c:forEach items="${products}" var="product"&gt;
        &lt;tr&gt;
            &lt;td&gt;${product.name}&lt;/td&gt;
            &lt;td&gt;${product.description}&lt;/td&gt;
            &lt;td&gt;${product.price}&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/c:forEach&gt;
&lt;/table&gt;
</code></pre><p>With XML-style tags which fits nicely among all that HTML, the code is better readable (and thus better maintainable) than a bunch of scriptlets with various opening and closing braces (<em>"Where the heck does this closing brace belong to?"</em>). An easy aid is to configure your web application to throw an exception whenever <em>scriptlets</em> are still been used by adding the following piece to <code>web.xml</code>:</p><pre class="lang-xml prettyprint-override"><code>&lt;jsp-config&gt;
    &lt;jsp-property-group&gt;
        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;
        &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;
    &lt;/jsp-property-group&gt;
&lt;/jsp-config&gt;
</code></pre><p>In <a href="http://stackoverflow.com/tags/facelets/info">Facelets</a>, the successor of JSP, which is part of the Java EE provided MVC framework <a href="http://stackoverflow.com/tags/jsf/info">JSF</a>, it is already <strong>not</strong> possible to use <em>scriptlets</em>. This way you're automatically forced to do things "the right way".</p><li><p>If you want to invoke some Java code to <strong>access and display</strong> "backend" data inside a JSP page, then you need to use EL (Expression Language), those <code>${}</code> things. E.g. redisplaying submitted input values:</p>
<pre class="lang-html prettyprint-override"><code>&lt;input type="text" name="foo" value="${param.foo}" /&gt;
</code></pre>
<p>The <code>${param.foo}</code> displays the outcome of <code>request.getParameter("foo")</code>.</p>
<hr/></li><p>If you want to invoke some Java code to <strong>access and display</strong> "backend" data inside a JSP page, then you need to use EL (Expression Language), those <code>${}</code> things. E.g. redisplaying submitted input values:</p><pre class="lang-html prettyprint-override"><code>&lt;input type="text" name="foo" value="${param.foo}" /&gt;
</code></pre><p>The <code>${param.foo}</code> displays the outcome of <code>request.getParameter("foo")</code>.</p><li><p>If you want to invoke some <strong>utility</strong> Java code directly in the JSP page (typically <code>public static</code> methods), then you need to define them as EL functions. There's a standard <a href="http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fn/tld-summary.html" rel="nofollow noreferrer">functions taglib</a> in JSTL, but <a href="http://docs.oracle.com/javaee/5/tutorial/doc/bnahq.html#bnaiq" rel="nofollow noreferrer">you can also easily create functions yourself</a>. Here's an example how JSTL <code>fn:escapeXml</code> is useful to prevent <a href="http://en.wikipedia.org/wiki/Cross-site_scripting" rel="nofollow noreferrer">XSS</a> <a href="http://ha.ckers.org/xss.html" rel="nofollow noreferrer">attacks</a>.</p>
<pre class="lang-html prettyprint-override"><code>&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %&gt;
...
&lt;input type="text" name="foo" value="${fn:escapeXml(param.foo)}" /&gt;
</code></pre>
<p>Note that the XSS sensitivity is in no way specifically related to Java/JSP/JSTL/EL/whatever, this problem needs to be taken into account in <strong>every</strong> webapplication you develop. The problem of <em>scriptlets</em> is that it provides no way of builtin preventions, at least not using the standard Java API. JSP's successor Facelets has already implicit HTML escaping, so you don't need to worry about XSS holes in Facelets.</p></li><p>If you want to invoke some <strong>utility</strong> Java code directly in the JSP page (typically <code>public static</code> methods), then you need to define them as EL functions. There's a standard <a href="http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fn/tld-summary.html" rel="nofollow noreferrer">functions taglib</a> in JSTL, but <a href="http://docs.oracle.com/javaee/5/tutorial/doc/bnahq.html#bnaiq" rel="nofollow noreferrer">you can also easily create functions yourself</a>. Here's an example how JSTL <code>fn:escapeXml</code> is useful to prevent <a href="http://en.wikipedia.org/wiki/Cross-site_scripting" rel="nofollow noreferrer">XSS</a> <a href="http://ha.ckers.org/xss.html" rel="nofollow noreferrer">attacks</a>.</p><pre class="lang-html prettyprint-override"><code>&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %&gt;
...
&lt;input type="text" name="foo" value="${fn:escapeXml(param.foo)}" /&gt;
</code></pre><p>Note that the XSS sensitivity is in no way specifically related to Java/JSP/JSTL/EL/whatever, this problem needs to be taken into account in <strong>every</strong> webapplication you develop. The problem of <em>scriptlets</em> is that it provides no way of builtin preventions, at least not using the standard Java API. JSP's successor Facelets has already implicit HTML escaping, so you don't need to worry about XSS holes in Facelets.</p><li><a href="http://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp/2097732#2097732">What's the difference between JSP, Servlet and JSF?</a></li><li><a href="http://stackoverflow.com/questions/3106452/java-servlet-instantiation-and-session-variables/3106909#3106909">How does Servlet, ServletContext, HttpSession and HttpServletRequest/Response work?</a></li><li><a href="http://stackoverflow.com/questions/5003142/jsp-using-mvc-and-jdbc">Basic MVC example with JSP, Servlet and JDBC</a></li><li><a href="http://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/">Design patterns in Java web applications</a></li><li><a href="http://balusc.blogspot.com/2010/01/hidden-features-of-jspservlet.html" rel="nofollow noreferrer">Hidden features of JSP/Servlet</a></li></body></html>

===ID===
584e5a443e2ca51be94fed8e
===QUESTION===
Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?
Several times I've been criticized for having suggested the use of the following methods: on  Swing  components. I don't see any alternative to their use when I want to define proportions between displayed components. I have been told this: With layouts the answer is always the same: use a suitable
  LayoutManager I have searched the web a little bit, but I haven't found any comprehensive analysis of the subject. So I have the following questions: I hope to have been clear. 
===LINK===
http://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi
===KEYWORDS===
set 
===ANSWER===
179
<html><body><li><blockquote>
<p>Should I completely avoid the use of those methods?</p>
</blockquote>
<p>Yes for application code.</p></li><p>Should I completely avoid the use of those methods?</p><p>Yes for application code.</p><li><blockquote>
<p>The methods have been defined for a reason. So when should I use them? In which context? For what purposes?</p>
</blockquote>
<p>I don't know, personally I think of it as an API design accident. Slightly forced by compound components having special ideas about child sizes. "Slightly", because they should have implemented their needs with a custom LayoutManager.</p></li><p>The methods have been defined for a reason. So when should I use them? In which context? For what purposes?</p><p>I don't know, personally I think of it as an API design accident. Slightly forced by compound components having special ideas about child sizes. "Slightly", because they should have implemented their needs with a custom LayoutManager.</p><li><blockquote>
<p>What exactly are the negative consequences of using those methods? (I can only think adding portability between systems with different screen resolution.)</p>
</blockquote>
<p>Some (incomplete, and unfortunately the links are broken due to migration of SwingLabs to java.net) technical reasons are for instance mentioned in the <a href="http://web.archive.org/web/20110614145256/http://wiki.java.net/twiki/bin/view/Javadesktop/SwingLabsImperialRules?TWIKISID=e1a6667476691b56753dc9b0744828c6#Do_not_use_component_setXXSize">Rules (hehe)</a> or in the <a href="http://web.archive.org/web/20100207211337/http://www.jguru.com/faq/view.jsp?EID=237070">link</a> @bendicott found in his/her comment to <a href="http://stackoverflow.com/questions/7074514/images-in-jtable-cells-off-by-one-pixel">my answer</a>. Socially, posing tons of work onto your unfortunate fellow who has to maintain the code and has to track down a broken layout.</p></li><p>What exactly are the negative consequences of using those methods? (I can only think adding portability between systems with different screen resolution.)</p><p>Some (incomplete, and unfortunately the links are broken due to migration of SwingLabs to java.net) technical reasons are for instance mentioned in the <a href="http://web.archive.org/web/20110614145256/http://wiki.java.net/twiki/bin/view/Javadesktop/SwingLabsImperialRules?TWIKISID=e1a6667476691b56753dc9b0744828c6#Do_not_use_component_setXXSize">Rules (hehe)</a> or in the <a href="http://web.archive.org/web/20100207211337/http://www.jguru.com/faq/view.jsp?EID=237070">link</a> @bendicott found in his/her comment to <a href="http://stackoverflow.com/questions/7074514/images-in-jtable-cells-off-by-one-pixel">my answer</a>. Socially, posing tons of work onto your unfortunate fellow who has to maintain the code and has to track down a broken layout.</p><li><blockquote>
<p>I don't think any LayoutManager can exactly satisfy all desired layout needs. Do I really need to implement a new LayoutManager for every little variation on my layout?</p>
</blockquote>
<p>Yes, there are LayoutManagers powerful enough to satisfy a very good approximation to "all layout needs". The big three are JGoodies FormLayout, MigLayout, DesignGridLayout. So no, in practice, you rarely write LayoutManagers except for simple highly specialized environments.</p></li><p>I don't think any LayoutManager can exactly satisfy all desired layout needs. Do I really need to implement a new LayoutManager for every little variation on my layout?</p><p>Yes, there are LayoutManagers powerful enough to satisfy a very good approximation to "all layout needs". The big three are JGoodies FormLayout, MigLayout, DesignGridLayout. So no, in practice, you rarely write LayoutManagers except for simple highly specialized environments.</p><li><blockquote>
<p>If the answer to 4 is "yes", won't this lead to a proliferation of LayoutManager classes which will become difficult to maintain? </p>
</blockquote>
<p>(The answer to 4 is "no".)</p></li><p>If the answer to 4 is "yes", won't this lead to a proliferation of LayoutManager classes which will become difficult to maintain? </p><p>(The answer to 4 is "no".)</p><li><blockquote>
<p>In a situation where I need to define proportions between children of a Component (for example, child 1 should use 10% of space, child 2 40%, child 3 50%), is it possible to achieve that without implementing a custom LayoutManager?</p>
</blockquote>
<p>Any of the Big-Three can, can't even GridBag (never bothered to really master, too much trouble for too little power).</p></li><p>In a situation where I need to define proportions between children of a Component (for example, child 1 should use 10% of space, child 2 40%, child 3 50%), is it possible to achieve that without implementing a custom LayoutManager?</p><p>Any of the Big-Three can, can't even GridBag (never bothered to really master, too much trouble for too little power).</p></body></html>

===ID===
584e5a443e2ca51be94fed8f
===QUESTION===
How to add JTable in JPanel with null layout?
I want to add  JTable  into  JPanel  whose layout is  null .   JPanel  contains other components. I have to add  JTable  at proper position. 
===LINK===
http://stackoverflow.com/questions/5621338/how-to-add-jtable-in-jpanel-with-null-layout
===KEYWORDS===
jpanel 
===ANSWER===
139
<html><body><p>The Java Tutorial has comprehensive information on using layout managers. See the <a href="http://download.oracle.com/javase/tutorial/uiswing/layout/index.html" rel="nofollow noreferrer">Laying Out Components Within a Container</a> lesson for further details.</p><p>One aspect of layouts that is <em>not</em> covered well by the tutorial is that of nested layouts, putting one layout inside another to get complex effects.</p><p>The following code puts a variety of components into a frame to demonstrate how to use nested layouts.  All the layouts that are explicitly set are shown as a titled-border for the panel on which they are used.</p><p>Notable aspects of the code are:</p><li>There is a combo-box to change PLAF (Pluggable Look and Feel) at run-time.</li><li>The GUI is expandable to the user's need.</li><li>The image in the bottom of the split-pane is centered in the scroll-pane.</li><li>The label instances on the left are dynamically added using the button.</li><p><img height="580" src="https://i.stack.imgur.com/RljPH.png" title="GUI screen shot with Nimbus PLAF" width="681"/></p><pre><code>import java.awt.*;
import java.awt.image.BufferedImage;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import javax.swing.border.TitledBorder;

/** A short example of a nested layout that can change PLAF at runtime.
The TitledBorder of each JPanel shows the layouts explicitly set.
@author Andrew Thompson
@version 2011-04-12 */
class NestedLayoutExample {

    public static void main(String[] args) {

        Runnable r = new Runnable() {

            public void run() {
                final JFrame frame = new JFrame("Nested Layout Example");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

                final JPanel gui = new JPanel(new BorderLayout(5,5));
                gui.setBorder( new TitledBorder("BorderLayout(5,5)") );

                //JToolBar tb = new JToolBar();
                JPanel plafComponents = new JPanel(
                    new FlowLayout(FlowLayout.RIGHT, 3,3));
                plafComponents.setBorder(
                    new TitledBorder("FlowLayout(FlowLayout.RIGHT, 3,3)") );

                final UIManager.LookAndFeelInfo[] plafInfos =
                    UIManager.getInstalledLookAndFeels();
                String[] plafNames = new String[plafInfos.length];
                for (int ii=0; ii&lt;plafInfos.length; ii++) {
                    plafNames[ii] = plafInfos[ii].getName();
                }
                final JComboBox plafChooser = new JComboBox(plafNames);
                plafComponents.add(plafChooser);

                final JCheckBox pack = new JCheckBox("Pack on PLAF change", true);
                plafComponents.add(pack);

                plafChooser.addActionListener( new ActionListener(){
                    public void actionPerformed(ActionEvent ae) {
                        int index = plafChooser.getSelectedIndex();
                        try {
                            UIManager.setLookAndFeel(
                                plafInfos[index].getClassName() );
                            SwingUtilities.updateComponentTreeUI(frame);
                            if (pack.isSelected()) {
                                frame.pack();
                                frame.setMinimumSize(frame.getSize());
                            }
                        } catch(Exception e) {
                            e.printStackTrace();
                        }
                    }
                } );

                gui.add(plafComponents, BorderLayout.NORTH);

                JPanel dynamicLabels = new JPanel(new BorderLayout(4,4));
                dynamicLabels.setBorder(
                    new TitledBorder("BorderLayout(4,4)") );
                gui.add(dynamicLabels, BorderLayout.WEST);

                final JPanel labels = new JPanel(new GridLayout(0,2,3,3));
                labels.setBorder(
                    new TitledBorder("GridLayout(0,2,3,3)") );

                JButton addNew = new JButton("Add Another Label");
                dynamicLabels.add( addNew, BorderLayout.NORTH );
                addNew.addActionListener( new ActionListener(){

                    private int labelCount = 0;

                    public void actionPerformed(ActionEvent ae) {
                        labels.add( new JLabel("Label " + ++labelCount) );
                        frame.validate();
                    }
                } );

                dynamicLabels.add( new JScrollPane(labels), BorderLayout.CENTER );

                String[] header = {"Name", "Value"};
                String[] a = new String[0];
                String[] names = System.getProperties().
                    stringPropertyNames().toArray(a);
                String[][] data = new String[names.length][2];
                for (int ii=0; ii&lt;names.length; ii++) {
                    data[ii][0] = names[ii];
                    data[ii][1] = System.getProperty(names[ii]);
                }
                DefaultTableModel model = new DefaultTableModel(data, header);
                JTable table = new JTable(model);
                try {
                    // 1.6+
                    table.setAutoCreateRowSorter(true);
                } catch(Exception continuewithNoSort) {
                }
                JScrollPane tableScroll = new JScrollPane(table);
                Dimension tablePreferred = tableScroll.getPreferredSize();
                tableScroll.setPreferredSize(
                    new Dimension(tablePreferred.width, tablePreferred.height/3) );

                JPanel imagePanel = new JPanel(new GridBagLayout());
                imagePanel.setBorder(
                    new TitledBorder("GridBagLayout()") );

                BufferedImage bi = new BufferedImage(
                    200,200,BufferedImage.TYPE_INT_ARGB);
                Graphics2D g = bi.createGraphics();
                GradientPaint gp = new GradientPaint(
                    20f,20f,Color.red, 180f,180f,Color.yellow);
                g.setPaint(gp);
                g.fillRect(0,0,200,200);
                ImageIcon ii = new ImageIcon(bi);
                JLabel imageLabel = new JLabel(ii);
                imagePanel.add( imageLabel, null );

                JSplitPane splitPane = new JSplitPane(
                    JSplitPane.VERTICAL_SPLIT,
                    tableScroll,
                    new JScrollPane(imagePanel));
                gui.add( splitPane, BorderLayout.CENTER );

                frame.setContentPane(gui);

                frame.pack();

                frame.setLocationRelativeTo(null);
                try {
                    // 1.6+
                    frame.setLocationByPlatform(true);
                    frame.setMinimumSize(frame.getSize());
                } catch(Throwable ignoreAndContinue) {
                }

                frame.setVisible(true);
            }
        };
        SwingUtilities.invokeLater(r);
    }
}
</code></pre><p><img height="580" src="https://i.stack.imgur.com/fHnCI.png" title="GUI screen shot with Windows PLAF" width="681"/></p><p><img height="580" src="https://i.stack.imgur.com/Jaqap.png" title="GUI screen shot with Aqua PLAF" width="681"/></p><p><img height="580" src="https://i.stack.imgur.com/521zz.png" title="GUI screen shot with GTK+ PLAF" width="681"/></p></body></html>

===ID===
584e5a453e2ca51be94fed90
===QUESTION===
Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods
I am using  Scanner  methods  nextInt()  and  nextLine()  for reading input. Basically, it looks like this: The problem is that after entering the numerical value, the first  input.nextLine()  is skipped and the second  input.nextLine()  is executed, so that my output looks like this: I tested my application and it looks like the problem lies in using  input.nextInt() . If I delete it, then both  string1 = input.nextLine()  and  string2 = input.nextLine()  are executed as I want them to be. 
===LINK===
http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo
===KEYWORDS===
nextline 
===ANSWER===
288
<html><body><p>Thats because the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt%28%29"><code>Scanner#nextInt</code></a> method does not consume the <em>last newline</em> character of your input, and thus that <em>newline</em> is consumed in the next call to <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine%28%29"><code>Scanner#nextLine</code></a></p><p><strong>Workaround:</strong></p><li><p>Either fire a blank <code>Scanner#nextLine</code> call after <code>Scanner#nextInt</code> to consume rest of that line including <em>newline</em> </p>
<pre><code>int option = input.nextInt();
input.nextLine();  // Consume newline left-over
String str1 = input.nextLine();
</code></pre></li><p>Either fire a blank <code>Scanner#nextLine</code> call after <code>Scanner#nextInt</code> to consume rest of that line including <em>newline</em> </p><pre><code>int option = input.nextInt();
input.nextLine();  // Consume newline left-over
String str1 = input.nextLine();
</code></pre><li><p>Or, it would be even better, if you read the input through <code>Scanner#nextLine</code> and convert your input to integer using <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String)"><code>Integer#parseInt(String)</code></a> method.</p>
<pre><code>int option = 0;
try {
    option = Integer.parseInt(input.nextLine());
} catch (NumberFormatException e) {
    e.printStackTrace();
}
String str1 = input.nextLine();
</code></pre></li><p>Or, it would be even better, if you read the input through <code>Scanner#nextLine</code> and convert your input to integer using <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt(java.lang.String)"><code>Integer#parseInt(String)</code></a> method.</p><pre><code>int option = 0;
try {
    option = Integer.parseInt(input.nextLine());
} catch (NumberFormatException e) {
    e.printStackTrace();
}
String str1 = input.nextLine();
</code></pre><p>You will encounter the similar behaviour when you use <code>Scanner#nextLine</code> after <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next%28%29"><code>Scanner#next()</code></a> or any <code>Scanner#nextFoo</code> method (except <code>nextLine</code> itself).</p></body></html>

===ID===
584e5a453e2ca51be94fed91
===QUESTION===
Unfortunately MyApp has stopped. How can I solve this?
I am developing an application, and everytime I run it, I get the message: Unfortunately, MyApp has stopped. What can I do to solve this? About this question - obviously inspired by  What is a stack trace, and how can I use it to debug my application errors? , there are lots of questions stating that their application has crashed, without any further detail. This question aims to instruct novice Android programmers on how to try and fix their problems themselves, or ask the right questions. 
===LINK===
http://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this
===KEYWORDS===
run 
===ANSWER===
349
<html><body><p><em>This answer describes the process of retrieving the stack trace. Already have the stack trace? Read up on stack traces in "<a href="http://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors">What is a stack trace, and how can I use it to debug my application errors?</a>"</em></p><p>Your application quit because an uncaught <code>RuntimeException</code> was thrown.<br>
The most common of these is the <code>NullPointerException</code>.</br></p><p>Every time an Android application crashes (or any Java application for that matter), a <code>Stack trace</code> is written to the console (in this case, logcat). This stack trace contains vital information for solving your problem.</p><p><img alt="Finding the stack trace in Android Studio" src="https://i.stack.imgur.com/ZL3Y8.png"/></p><p>In the bottom bar of the window, click on the <code>Android</code> button. Alternatively, you can press <kbd>alt</kbd>+<kbd>6</kbd>. Make sure your emulator or device is selected in the <code>Devices</code> panel. Next, try to find the stack trace, which is shown in red. There may be a lot of stuff logged into logcat, so you may need to scroll a bit. An easy way to find the stack trace is to clear the logcat (using the recycle bin on the right), and let the app crash again.</p><p><img alt="Finding the stack trace in Eclipse" src="https://i.stack.imgur.com/6qdhO.png"/></p><p>In the top right corner, click the <code>DDMS</code> button. If it is not there, you might need to add it first using the <code>Open Perspective</code> button to the left of the <code>Java</code> button. You will find the logcat pane at the bottom. First, make sure your device is selected in the topleft <code>devices</code> panel. Next, try to find the stack trace, which is shown in red. Again, there may be a lot of stuff logged into logcat, so you may need to scroll a bit. An easy way to find the stack trace here is to clear the logcat (using the <code>clear log</code> button on the top right), and let the app crash again. You should also click on the package name of your app, if it is not already selected. This will filter out only the log message made by your app.</p><p>Yay! You're halfway to solving your problem.<br>
You only need to find out what exactly made your application crash, by analyzing the stack trace.</br></p><p>Read up on stack traces in "<a href="http://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors">What is a stack trace, and how can I use it to debug my application errors?</a>"</p><p>If you've found your <code>Exception</code> and the line where it occurred, and still cannot figure out how to fix it, don't hesitate to ask a question on StackOverflow.  </p><p>Try to be as concise as possible: post the stack trace, and the <em>relevant</em> code (e.g. a few lines up to the line which threw the <code>Exception</code>).</p></body></html>

===ID===
584e5a463e2ca51be94fed92
===QUESTION===
What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?
What does  ArrayIndexOutOfBoundsException  mean and how do I get rid of it?  Here is a code sample that triggers the exception: 
===LINK===
http://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it
===KEYWORDS===
arrayindexoutofboundsexception 
===ANSWER===
119
<html><body><p>Your first port of call should be the <a href="http://download.oracle.com/javase/6/docs/api/java/lang/ArrayIndexOutOfBoundsException.html">documentation</a> which explains it reasonably clearly:</p><p>Thrown to indicate that an array has been accessed with an illegal index. The index is either negative or greater than or equal to the size of the array.</p><p>So for example:</p><pre><code>int[] array = new int[5];
int boom = array[10]; // Throws the exception
</code></pre><p>As for how to avoid it... um, don't do that. Be careful with your array indexes.</p><p>One problem people sometimes run into is thinking that arrays are 1-indexed, e.g.</p><pre><code>int[] array = new int[5];
// ... populate the array here ...
for (int index = 1; index &lt;= array.length; index++)
{
    System.out.println(array[index]);
}
</code></pre><p>That will miss out the first element (index 0) and throw an exception when index is 5. The valid indexes here are 0-4 inclusive. The correct, idiomatic <code>for</code> statement here would be:</p><pre><code>for (int index = 0; index &lt; array.length; index++)
</code></pre><p>(That's assuming you <em>need</em> the index, of course. If you can use the enhanced for loop instead, do so.)</p></body></html>

===ID===
584e5a463e2ca51be94fed93
===QUESTION===
Providing white space in a Swing GUI
A GUI with no white space appears 'crowded'.  How can I provide white space without resorting to explicitly setting the position or size of components? 
===LINK===
http://stackoverflow.com/questions/17874717/providing-white-space-in-a-swing-gui
===KEYWORDS===
crowded 
===ANSWER===
65
<html><body><p>Using various <code>LayoutManagers</code> one can provide spacing between various components. </p><li><strong>Overloaded Constructor :</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#BorderLayout%28int,%20int%29" rel="nofollow noreferrer">BorderLayout(int horizontalGap, int verticalGap)</a></li><li><p><strong>Getter and setter methods</strong></p>
<p>For Horizontal Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#getHgap%28%29" rel="nofollow noreferrer">BorderLayout.getHgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#setHgap%28int%29" rel="nofollow noreferrer">BorderLayout.setHgap(int hgap)</a></p>
<p>For Vertical Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#getVgap%28%29" rel="nofollow noreferrer">BorderLayout.getVgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#setVgap%28int%29" rel="nofollow noreferrer">BorderLayout.setVgap()</a></p></li><p><strong>Getter and setter methods</strong></p><p>For Horizontal Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#getHgap%28%29" rel="nofollow noreferrer">BorderLayout.getHgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#setHgap%28int%29" rel="nofollow noreferrer">BorderLayout.setHgap(int hgap)</a></p><p>For Vertical Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#getVgap%28%29" rel="nofollow noreferrer">BorderLayout.getVgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/BorderLayout.html#setVgap%28int%29" rel="nofollow noreferrer">BorderLayout.setVgap()</a></p><li><strong>Overloaded Constructor :</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#FlowLayout%28int,%20int,%20int%29" rel="nofollow noreferrer">FlowLayout(int align, int hgap, int vgap)</a></li><li><p><strong>Getter and setter methods</strong></p>
<p>For Horizontal Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#getHgap%28%29" rel="nofollow noreferrer">FlowLayout.getHgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#setHgap%28int%29" rel="nofollow noreferrer">FlowLayout.setHgap(int hgap)</a></p>
<p>For Vertical Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#getVgap()" rel="nofollow noreferrer">FlowLayout.getVgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#setVgap(int)" rel="nofollow noreferrer">FlowLayout.setVgap()</a></p></li><p><strong>Getter and setter methods</strong></p><p>For Horizontal Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#getHgap%28%29" rel="nofollow noreferrer">FlowLayout.getHgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#setHgap%28int%29" rel="nofollow noreferrer">FlowLayout.setHgap(int hgap)</a></p><p>For Vertical Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#getVgap()" rel="nofollow noreferrer">FlowLayout.getVgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/FlowLayout.html#setVgap(int)" rel="nofollow noreferrer">FlowLayout.setVgap()</a></p><li><strong>Overloaded Constructor :</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#GridLayout%28int,%20int,%20int,%20int%29" rel="nofollow noreferrer">GridLayout(int rows, int columns, int hgap, int vgap)</a></li><li><p><strong>Getter and setter methods</strong></p>
<p>For Horizontal Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#getHgap()" rel="nofollow noreferrer">GridLayout.getHgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#setHgap(int)" rel="nofollow noreferrer">GridLayout.setHgap(int hgap)</a></p>
<p>For Vertical Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#getVgap()" rel="nofollow noreferrer">GridLayout.getVgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#setVgap(int)" rel="nofollow noreferrer">GridLayout.setVgap()</a></p></li><p><strong>Getter and setter methods</strong></p><p>For Horizontal Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#getHgap()" rel="nofollow noreferrer">GridLayout.getHgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#setHgap(int)" rel="nofollow noreferrer">GridLayout.setHgap(int hgap)</a></p><p>For Vertical Spacing <strong>:</strong> <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#getVgap()" rel="nofollow noreferrer">GridLayout.getVgap()</a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#setVgap(int)" rel="nofollow noreferrer">GridLayout.setVgap()</a></p><p><a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridBagConstraints.html#insets" rel="nofollow noreferrer">GridBagConstraints.insets</a></p><p><a href="http://docs.oracle.com/javase/7/docs/api/java/awt/GridLayout.html#getVgap()" rel="nofollow noreferrer">CardLayout(int hGap, int vGap)</a></p><pre><code>import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class LayoutExample {

    private final int hGap = 5;
    private final int vGap = 5;

    private String[] borderConstraints = {
        BorderLayout.PAGE_START,
        BorderLayout.LINE_START,
        BorderLayout.CENTER,
        BorderLayout.LINE_END,
        BorderLayout.PAGE_END
    };

    private JButton[] buttons;

    private GridBagConstraints gbc;

    private JPanel borderPanel;
    private JPanel flowPanel;
    private JPanel gridPanel;
    private JPanel gridBagPanel;
    private JPanel cardPanel;

    public LayoutExample() {
        buttons = new JButton[16];
        gbc = new GridBagConstraints();
        gbc.anchor = GridBagConstraints.FIRST_LINE_START;   
        gbc.insets = new Insets(hGap, vGap, hGap, vGap);        
    }

    private void displayGUI() {
        JFrame frame = new JFrame("Layout Example");
        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);

        JPanel contentPane = new JPanel(
                        new GridLayout(0, 1, hGap, vGap));
        contentPane.setBorder(
            BorderFactory.createEmptyBorder(hGap, vGap, hGap, vGap));
        borderPanel = new JPanel(new BorderLayout(hGap, vGap));
        borderPanel.setBorder(
            BorderFactory.createTitledBorder("BorderLayout"));
        borderPanel.setOpaque(true);
        borderPanel.setBackground(Color.WHITE);
        for (int i = 0; i &lt; 5; i++) {
            buttons[i] = new JButton(borderConstraints[i]);
            borderPanel.add(buttons[i], borderConstraints[i]);
        }
        contentPane.add(borderPanel);

        flowPanel = new JPanel(new FlowLayout(
                    FlowLayout.CENTER, hGap, vGap));
        flowPanel.setBorder(
            BorderFactory.createTitledBorder("FlowLayout"));
        flowPanel.setOpaque(true);
        flowPanel.setBackground(Color.WHITE);
        for (int i = 5; i &lt; 8; i++) {
            buttons[i] = new JButton(Integer.toString(i));
            flowPanel.add(buttons[i]);
        }
        contentPane.add(flowPanel);

        gridPanel = new JPanel(new GridLayout(2, 2, hGap, vGap));
        gridPanel.setBorder(
            BorderFactory.createTitledBorder("GridLayout"));
        gridPanel.setOpaque(true);
        gridPanel.setBackground(Color.WHITE);
        for (int i = 8; i &lt; 12; i++) {
            buttons[i] = new JButton(Integer.toString(i));
            gridPanel.add(buttons[i]);
        }
        contentPane.add(gridPanel);

        gridBagPanel = new JPanel(new GridBagLayout());
        gridBagPanel.setBorder(
            BorderFactory.createTitledBorder("GridBagLayout"));
        gridBagPanel.setOpaque(true);
        gridBagPanel.setBackground(Color.WHITE);
        buttons[12] = new JButton(Integer.toString(12));
        addComp(gridBagPanel, buttons[12], 0, 0, 1, 1
                            , GridBagConstraints.BOTH, 0.33, 0.5);
        buttons[13] = new JButton(Integer.toString(13));
        addComp(gridBagPanel, buttons[13], 1, 0, 1, 1
                            , GridBagConstraints.BOTH, 0.33, 0.5);
        buttons[14] = new JButton(Integer.toString(14));
        addComp(gridBagPanel, buttons[14], 0, 1, 2, 1
                            , GridBagConstraints.BOTH, 0.66, 0.5);
        buttons[15] = new JButton(Integer.toString(15));
        addComp(gridBagPanel, buttons[15], 2, 0, 1, 2
                            , GridBagConstraints.BOTH, 0.33, 1.0);
        contentPane.add(gridBagPanel);

        cardPanel = new JPanel(new CardLayout(hGap, vGap));
        cardPanel.setBorder(
            BorderFactory.createTitledBorder("CardLayout"));
        cardPanel.setOpaque(true);
        cardPanel.setBackground(Color.WHITE);
        cardPanel.add(getPanel(Color.BLUE));
        cardPanel.add(getPanel(Color.GREEN));
        contentPane.add(cardPanel);

        frame.setContentPane(contentPane);
        frame.pack();
        frame.setLocationByPlatform(true);
        frame.setVisible(true);
    }

    private JPanel getPanel(Color bColor) {
        JPanel panel = new JPanel(new FlowLayout(
                    FlowLayout.CENTER, hGap, vGap));
        panel.setOpaque(true);
        panel.setBackground(bColor.darker().darker());
        JButton swapperButton = new JButton("Next");
        swapperButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent ae) {
                CardLayout cardLayout = (CardLayout) cardPanel.getLayout();
                cardLayout.next(cardPanel);
            }
        });

        panel.add(swapperButton);

        return panel;
    }

    private void addComp(JPanel panel, JComponent comp
                                , int x, int y, int gWidth
                                    , int gHeight, int fill
                                        , double weightx, double weighty) {
        gbc.gridx = x;
        gbc.gridy = y;
        gbc.gridwidth = gWidth;
        gbc.gridheight = gHeight;
        gbc.fill = fill;
        gbc.weightx = weightx;
        gbc.weighty = weighty;      

        panel.add(comp, gbc);
    }

    public static void main(String[] args) {
        Runnable runnable = new Runnable(){
            @Override
            public void run() {
                new LayoutExample().displayGUI();
            }
        };
        EventQueue.invokeLater(runnable);
    }
}
</code></pre><p><img alt="LAYOUTIMAGE" src="https://i.stack.imgur.com/9mKG9.png"/></p></body></html>

===ID===
584e5a473e2ca51be94fed94
===QUESTION===
How to upload files to server using JSP/Servlet?
How can I upload files to server using JSP/Servlet? I tried this: However, I only get the file name, not the file content. When I add   enctype="multipart/form-data"  to the  <form> , then  request.getParameter()  returns  null .  During research I stumbled upon  Apache Common FileUpload . I tried this: Unfortunately, the servlet threw an exception without a clear message and cause. Here is the stacktrace: 
===LINK===
http://stackoverflow.com/questions/2422468/how-to-upload-files-to-server-using-jsp-servlet
===KEYWORDS===
stacktrace 
===ANSWER===
855
<html><body><p>To browse and select a file for upload you need a HTML <code>&lt;input type="file"&gt;</code> field in the form. As stated in the <a href="http://www.w3.org/TR/html4/interact/forms.html" rel="nofollow noreferrer">HTML specification</a> you have to use the <code>POST</code> method and the <code>enctype</code> attribute of the form has to be set to <code>"multipart/form-data"</code>.</p><pre class="lang-html prettyprint-override"><code>&lt;form action="upload" method="post" enctype="multipart/form-data"&gt;
    &lt;input type="text" name="description" /&gt;
    &lt;input type="file" name="file" /&gt;
    &lt;input type="submit" /&gt;
&lt;/form&gt;
</code></pre><p>After submitting such a form, the binary multipart form data is available in the request body in <a href="http://stackoverflow.com/questions/13372775/servlet-handling-file-upload-why-bigger-than-the-original/13399437#13399437">a different format</a> than when the <code>enctype</code> isn't set.</p><p>Before Servlet 3.0, the Servlet API didn't natively support <code>multipart/form-data</code>. It supports only the default form enctype of <code>application/x-www-form-urlencoded</code>. The <code>request.getParameter()</code> and consorts would all return <code>null</code> when using multipart form data. This is where the well known <a href="http://commons.apache.org/fileupload" rel="nofollow noreferrer">Apache Commons FileUpload</a> came into the picture.</p><p>You can in theory parse the request body yourself based on <a href="http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getInputStream%28%29" rel="nofollow noreferrer"><code>ServletRequest#getInputStream()</code></a>. However, this is a precise and tedious work which requires precise knowledge of <a href="http://www.faqs.org/rfcs/rfc2388.html" rel="nofollow noreferrer">RFC2388</a>. You shouldn't try to do this on your own or copypaste some homegrown library-less code found elsewhere on the Internet. Many online sources have failed hard in this, such as roseindia.net. See also <a href="http://stackoverflow.com/questions/5038798/uploading-of-pdf-file">uploading of pdf file</a>. You should rather use a real library which is used (and implicitly tested!) by millions of users for years. Such a library has proven its robustness.</p><p>If you're using at least Servlet 3.0 (Tomcat 7, JBoss AS 6, GlassFish 3, etc), then you can just use standard API provided <a href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getParts()" rel="nofollow noreferrer"><code>HttpServletRequest#getPart()</code></a> to collect the individual multipart form data items (most Servlet 3.0 implementations actually use Apache Commons FileUpload under the covers for this!). Also, normal form fields are available by <code>getParameter()</code> the usual way.</p><p>First annotate your servlet with <a href="http://docs.oracle.com/javaee/6/api/javax/servlet/annotation/MultipartConfig.html" rel="nofollow noreferrer"><code>@MultipartConfig</code></a> in order to let it recognize and support <code>multipart/form-data</code> requests and thus get <code>getPart()</code> to work:</p><pre><code>@WebServlet("/upload")
@MultipartConfig
public class UploadServlet extends HttpServlet {
    // ...
}
</code></pre><p>Then, implement its <code>doPost()</code> as follows:</p><pre class="lang-java prettyprint-override"><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    String description = request.getParameter("description"); // Retrieves &lt;input type="text" name="description"&gt;
    Part filePart = request.getPart("file"); // Retrieves &lt;input type="file" name="file"&gt;
    String fileName = Paths.get(filePart.getSubmittedFileName()).getFileName().toString(); // MSIE fix.
    InputStream fileContent = filePart.getInputStream();
    // ... (do your job here)
}
</code></pre><p>Note the <code>Path#getFileName()</code>. This is a MSIE fix as to obtaining the file name. This browser incorrectly sends the full file path along the name instead of only the file name.</p><p>In case you have a <code>&lt;input type="file" name="file" multiple="true" /&gt;</code> for multi-file upload, collect them as below (unfortunately there is no such method as <code>request.getParts("file")</code>):</p><pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    // ...
    List&lt;Part&gt; fileParts = request.getParts().stream().filter(part -&gt; "file".equals(part.getName())).collect(Collectors.toList()); // Retrieves &lt;input type="file" name="file" multiple="true"&gt;

    for (Part filePart : fileParts) {
        String fileName = Paths.get(filePart.getSubmittedFileName()).getFileName().toString(); // MSIE fix.
        InputStream fileContent = filePart.getInputStream();
        // ... (do your job here)
    }
}
</code></pre><p>Note that <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/Part.html#getSubmittedFileName()" rel="nofollow noreferrer"><code>Part#getSubmittedFileName()</code></a> was introduced in Servlet 3.1 (Tomcat 8, WildFly 8, GlassFish 4, etc). If you're not on Servlet 3.1 yet, then you need an additional utility method to obtain the submitted file name.</p><pre><code>private static String getSubmittedFileName(Part part) {
    for (String cd : part.getHeader("content-disposition").split(";")) {
        if (cd.trim().startsWith("filename")) {
            String fileName = cd.substring(cd.indexOf('=') + 1).trim().replace("\"", "");
            return fileName.substring(fileName.lastIndexOf('/') + 1).substring(fileName.lastIndexOf('\\') + 1); // MSIE fix.
        }
    }
    return null;
}
</code></pre><pre><code>String fileName = getSubmittedFileName(filePart);
</code></pre><p>Note the MSIE fix as to obtaining the file name. This browser incorrectly sends the full file path along the name instead of only the file name.</p><p>If you're not on Servlet 3.0 yet (isn't it about time to upgrade?), the common practice is to make use of <a href="http://commons.apache.org/fileupload" rel="nofollow noreferrer">Apache Commons FileUpload</a> to parse the multpart form data requests. It has an excellent <a href="http://commons.apache.org/fileupload/using.html" rel="nofollow noreferrer">User Guide</a> and <a href="http://commons.apache.org/fileupload/faq.html" rel="nofollow noreferrer">FAQ</a> (carefully go through both). There's also the O'Reilly ("<a href="http://www.servlets.com/cos/" rel="nofollow noreferrer">cos</a>") <code>MultipartRequest</code>, but it has some (minor) bugs and isn't actively maintained anymore for years. I wouldn't recommend using it. Apache Commons FileUpload is still actively maintained and currently very mature.</p><p>In order to use Apache Commons FileUpload, you need to have at least the following files in your webapp's <code>/WEB-INF/lib</code>: </p><li><a href="http://commons.apache.org/proper/commons-fileupload/download_fileupload.cgi" rel="nofollow noreferrer"><code>commons-fileupload.jar</code></a> </li><li><a href="http://commons.apache.org/proper/commons-io/download_io.cgi" rel="nofollow noreferrer"><code>commons-io.jar</code></a> </li><p>Your initial attempt failed most likely because you forgot the commons IO. </p><p>Here's a kickoff example how the <code>doPost()</code> of your <code>UploadServlet</code> may look like when using Apache Commons FileUpload:</p><pre class="lang-java prettyprint-override"><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    try {
        List&lt;FileItem&gt; items = new ServletFileUpload(new DiskFileItemFactory()).parseRequest(request);
        for (FileItem item : items) {
            if (item.isFormField()) {
                // Process regular form field (input type="text|radio|checkbox|etc", select, etc).
                String fieldName = item.getFieldName();
                String fieldValue = item.getString();
                // ... (do your job here)
            } else {
                // Process form file field (input type="file").
                String fieldName = item.getFieldName();
                String fileName = FilenameUtils.getName(item.getName());
                InputStream fileContent = item.getInputStream();
                // ... (do your job here)
            }
        }
    } catch (FileUploadException e) {
        throw new ServletException("Cannot parse multipart request.", e);
    }

    // ...
}
</code></pre><p>It's very important that you don't call <code>getParameter()</code>, <code>getParameterMap()</code>, <code>getParameterValues()</code>, <code>getInputStream()</code>, <code>getReader()</code>, etc on the same request beforehand. Otherwise the servlet container will read and parse the request body and thus Apache Commons FileUpload will get an empty request body. See also a.o. <a href="http://stackoverflow.com/questions/13881272/servletfileuploadparserequestrequest-returns-an-empty-list">ServletFileUpload#parseRequest(request) returns an empty list</a>.</p><p>Note the <code>FilenameUtils#getName()</code>. This is a MSIE fix as to obtaining the file name. This browser incorrectly sends the full file path along the name instead of only the file name.</p><p>Alternatively you can also wrap this all in a <code>Filter</code> which parses it all automagically and put the stuff back in the parametermap of the request so that you can continue using <code>request.getParameter()</code> the usual way and retrieve the uploaded file by <code>request.getAttribute()</code>. <a href="http://balusc.blogspot.com/2007/11/multipartfilter.html" rel="nofollow noreferrer">You can find an example in this blog article</a>.</p><p>Note that Glassfish versions older than 3.1.2 had <a href="http://java.net/jira/browse/GLASSFISH-16740" rel="nofollow noreferrer">a bug</a> wherein the <code>getParameter()</code> still returns <code>null</code>. If you are targeting such a container and can't upgrade it, then you need to extract the value from <code>getPart()</code> with help of this utility method:</p><pre><code>private static String getValue(Part part) throws IOException {
    BufferedReader reader = new BufferedReader(new InputStreamReader(part.getInputStream(), "UTF-8"));
    StringBuilder value = new StringBuilder();
    char[] buffer = new char[1024];
    for (int length = 0; (length = reader.read(buffer)) &gt; 0;) {
        value.append(buffer, 0, length);
    }
    return value.toString();
}
</code></pre><pre><code>String description = getValue(request.getPart("description")); // Retrieves &lt;input type="text" name="description"&gt;
</code></pre><p>Head to the following answers for detail on properly saving the obtained <code>InputStream</code> (the <code>fileContent</code> variable as shown in the above code snippets) to disk or database:</p><li><a href="http://stackoverflow.com/questions/18664579/recommended-way-to-save-files-uploaded-to-a-tomcat-servlet/18664715#18664715">Recommended way to save uploaded files in a servlet application</a></li><li><a href="http://stackoverflow.com/questions/7033676/how-to-upload-an-image-and-save-it-in-database/7033945#7033945">How to upload an image and save it in database?</a></li><li><a href="http://stackoverflow.com/questions/19138706/how-to-convert-part-to-blob-so-i-can-store-it-in-mysql/19139125#19139125">How to convert Part to Blob, so I can store it in MySQL?</a></li><p>Head to the following answers for detail on properly serving the saved file from disk or database back to the client:</p><li><a href="http://stackoverflow.com/questions/4543936/load-images-from-outside-of-webapps-webcontext-deploy-folder-using-hgraphi/4543951#4543951">Load images from outside of webapps / webcontext / deploy folder using &lt;h:graphicImage&gt; or &lt;img&gt; tag</a></li><li><a href="http://stackoverflow.com/questions/2340406/how-to-retrieve-and-display-images-from-a-database-in-a-jsp-page/2341322#2341322">How to retrieve and display images from a database in a JSP page?</a></li><li><a href="http://stackoverflow.com/questions/1812244/simplest-way-to-serve-static-data-from-outside-the-application-server-in-a-java/1812356#1812356">Simplest way to serve static data from outside the application server in a Java web application</a></li><li><a href="http://stackoverflow.com/questions/132052/servlet-for-serving-static-content/29991447#29991447">Abstract template for static resource servlet supporting HTTP caching</a></li><p>Head to the following answers how to upload using Ajax (and jQuery). Do note that the servlet code to collect the form data does not need to be changed for this! Only the way how you respond may be changed, but this is rather trivial (i.e. instead of forwarding to JSP, just print some JSON or XML or even plain text depending on whatever the script responsible for the Ajax call is expecting).</p><li><a href="http://stackoverflow.com/questions/6914152/how-to-upload-files-to-server-using-jsp-servlet-and-ajax">How to upload files to server using JSP/Servlet and Ajax?</a></li><li><a href="http://stackoverflow.com/questions/9395911/sending-a-file-as-multipart-through-xmlhttprequest">sending a file as multipart through xmlHttpRequest</a></li><li><a href="http://stackoverflow.com/questions/7114087/html5-file-upload-to-java-servlet">HTML5 File Upload to Java Servlet</a></li><p>Hope this all helps :)</p></body></html>

===ID===
584e5a483e2ca51be94fed95
===QUESTION===
What is a raw type and why shouldn't we use it?

===LINK===
http://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it
===KEYWORDS===
shouldn 
===ANSWER===
468
<html><body><p>The Java Language Specification defines a <em>raw type</em> as follows:</p><p>A raw type is defined to be one of:</p><li><p>The reference type that is formed by taking the name of a generic type declaration without an accompanying type argument list.</p></li><p>The reference type that is formed by taking the name of a generic type declaration without an accompanying type argument list.</p><li><p>An array type whose element type is a raw type.</p></li><p>An array type whose element type is a raw type.</p><li><p>A non-<code>static</code> member type of a raw type <code>R</code> that is not inherited from a superclass or superinterface of <code>R</code>.</p></li><p>A non-<code>static</code> member type of a raw type <code>R</code> that is not inherited from a superclass or superinterface of <code>R</code>.</p><p>Here's an example to illustrate:</p><pre><code>public class MyType&lt;E&gt; {
    class Inner { }
    static class Nested { }

    public static void main(String[] args) {
        MyType mt;          // warning: MyType is a raw type
        MyType.Inner inn;   // warning: MyType.Inner is a raw type

        MyType.Nested nest; // no warning: not parameterized type
        MyType&lt;Object&gt; mt1; // no warning: type parameter given
        MyType&lt;?&gt; mt2;      // no warning: type parameter given (wildcard OK!)
    }
}
</code></pre><p>Here, <code>MyType&lt;E&gt;</code> is a <em>parameterized type</em> (<a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.5" rel="nofollow noreferrer">JLS 4.5</a>). It is common to colloquially refer to this type as simply <code>MyType</code> for short, but technically the name is <code>MyType&lt;E&gt;</code>.</p><p><code>mt</code> has a raw type (and generates a compilation warning) by the first bullet point in the above definition; <code>inn</code> also has a raw type by the second bullet point.</p><p><code>MyType.Nested</code> is not a parameterized type, even though it's a member type of a parameterized type <code>MyType&lt;E&gt;</code>, because it's <code>static</code>.</p><p><code>mt1</code>, and <code>mt2</code> are both declared with actual type parameters, so they're not raw types.</p><p>Essentially, raw types behaves just like they were before generics were introduced. That is, the following is entirely legal at compile-time.</p><pre><code>List names = new ArrayList(); // warning: raw type!
names.add("John");
names.add("Mary");
names.add(Boolean.FALSE); // not a compilation error!
</code></pre><p>The above code runs just fine, but suppose you also have the following:</p><pre><code>for (Object o : names) {
    String name = (String) o;
    System.out.println(name);
} // throws ClassCastException!
  //    java.lang.Boolean cannot be cast to java.lang.String
</code></pre><p>Now we run into trouble at run-time, because <code>names</code> contains something that isn't an <code>instanceof String</code>.</p><p>Presumably, if you want <code>names</code> to contain only <code>String</code>, you <em>could</em> perhaps still use a raw type and <em>manually check every</em> <code>add</code> yourself, and then <em>manually cast</em> to <code>String</code> every item from <code>names</code>. <strong>Even better</strong>, though is NOT to use a raw type and <em>let the compiler do all the work for you</em>, harnessing the power of Java generics.</p><pre><code>List&lt;String&gt; names = new ArrayList&lt;String&gt;();
names.add("John");
names.add("Mary");
names.add(Boolean.FALSE); // compilation error!
</code></pre><p>Of course, if you <em>DO</em> want <code>names</code> to allow a <code>Boolean</code>, then you can declare it as <code>List&lt;Object&gt; names</code>, and the above code would compile.</p><li><a href="https://docs.oracle.com/javase/tutorial/java/generics/" rel="nofollow noreferrer">Java Tutorials/Generics</a></li><p>The following is a quote from <em>Effective Java 2nd Edition, Item 23: Don't use raw types in new code</em>:</p><p>Just what is the difference between the raw type <code>List</code> and the parameterized type <code>List&lt;Object&gt;</code>? Loosely speaking, the former has opted out generic type checking, while the latter explicitly told the compiler that it is capable of holding objects of any type. While you can pass a <code>List&lt;String&gt;</code> to a parameter of type <code>List</code>, you can't pass it to a parameter of type <code>List&lt;Object&gt;</code>. There are subtyping rules for generics, and <code>List&lt;String&gt;</code> is a subtype of the raw type <code>List</code>, but not of the parameterized type <code>List&lt;Object&gt;</code>. As a consequence, <strong>you lose type safety if you use raw type like <code>List</code>, but not if you use a parameterized type like <code>List&lt;Object&gt;</code></strong>.</p><p>To illustrate the point, consider the following method which takes a <code>List&lt;Object&gt;</code> and appends a <code>new Object()</code>.</p><pre><code>void appendNewObject(List&lt;Object&gt; list) {
   list.add(new Object());
}
</code></pre><p>Generics in Java are invariant. A <code>List&lt;String&gt;</code> is not a <code>List&lt;Object&gt;</code>, so the following would generate a compiler warning:</p><pre><code>List&lt;String&gt; names = new ArrayList&lt;String&gt;();
appendNewObject(names); // compilation error!
</code></pre><p>If you had declared <code>appendNewObject</code> to take a raw type <code>List</code> as parameter, then this would compile, and you'd therefore lose the type safety that you get from generics.</p><li><a href="http://stackoverflow.com/questions/2770264/what-is-the-difference-between-e-extends-number-and-number/">What is the difference between <code>&lt;E extends Number&gt;</code> and <code>&lt;Number&gt;</code>?</a></li><li><a href="http://stackoverflow.com/questions/2660827/java-generics-covariance">java generics (not) covariance</a></li><p><code>List&lt;Object&gt;</code>, <code>List&lt;String&gt;</code>, etc are all <code>List&lt;?&gt;</code>, so it may be tempting to just say that they're just <code>List</code> instead. However, there is a major difference: since a <code>List&lt;E&gt;</code> defines only <code>add(E)</code>, you can't add just any arbitrary object to a <code>List&lt;?&gt;</code>. On the other hand, since the raw type <code>List</code> does not have type safety, you can <code>add</code> just about anything to a <code>List</code>.</p><p>Consider the following variation of the previous snippet:</p><pre><code>static void appendNewObject(List&lt;?&gt; list) {
    list.add(new Object()); // compilation error!
}
//...

List&lt;String&gt; names = new ArrayList&lt;String&gt;();
appendNewObject(names); // this part is fine!
</code></pre><p>The compiler did a wonderful job of protecting you from potentially violating the type invariance of the <code>List&lt;?&gt;</code>! If you had declared the parameter as the raw type <code>List list</code>, then the code would compile, and you'd violate the type invariant of <code>List&lt;String&gt; names</code>.</p><p>Back to JLS 4.8:</p><p>It is possible to use as a type <strong>the erasure</strong> of a parameterized type or the erasure of an array type whose element type is a parameterized type. <strong>Such a type is called a <em>raw type</em>.</strong></p><p><em>[...]</em></p><p>The superclasses (respectively, superinterfaces) of a raw type are the erasures of the superclasses (superinterfaces) of any of the parameterizations of the generic type.</p><p>The type of a constructor, instance method, or non-<code>static</code> field of a raw type <code>C</code> that is not inherited from its superclasses or superinterfaces is the raw type that corresponds to the erasure of its type in the generic declaration corresponding to <code>C</code>.</p><p>In simpler terms, when a raw type is used, the constructors, instance methods and non-<code>static</code> fields are <em>also erased</em>.</p><p>Take the following example:</p><pre><code>class MyType&lt;E&gt; {
    List&lt;String&gt; getNames() {
        return Arrays.asList("John", "Mary");
    }

    public static void main(String[] args) {
        MyType rawType = new MyType();
        // unchecked warning!
        // required: List&lt;String&gt; found: List
        List&lt;String&gt; names = rawType.getNames();
        // compilation error!
        // incompatible types: Object cannot be converted to String
        for (String str : rawType.getNames())
            System.out.print(str);
    }
}
</code></pre><p>When we use the raw <code>MyType</code>, <code>getNames</code> becomes erased as well, so that it returns a raw <code>List</code>!</p><p><a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6" rel="nofollow noreferrer">JLS 4.6</a> continues to explain the following:</p><p><strong>Type erasure also maps the signature of a constructor or method to a signature that has no parameterized types or type variables.</strong> The erasure of a constructor or method signature <code>s</code> is a signature consisting of the same name as <code>s</code> and the erasures of all the formal parameter types given in <code>s</code>.</p><p><strong>The return type of a method and the type parameters of a generic method or constructor also undergo erasure if the method or constructor's signature is erased.</strong></p><p>The erasure of the signature of a generic method has no type parameters.</p><p>Here's another quote from JLS 4.8:</p><p>The use of raw types is allowed only as a concession to compatibility of legacy code. <em>The use of raw types in code written after the introduction of genericity into the Java programming language is strongly discouraged. It is possible that future versions of the Java programming language will disallow the use of raw types.</em></p><p><em>Effective Java 2nd Edition</em> also has this to add:</p><p>Given that you shouldn't use raw types, why did the language designers allow them? To provide compatibility.</p><p>The Java platform was about to enter its second decade when generics were introduced, and there was an enormous amount of Java code in existence that did not use generics. It was deemed critical that all this code remains legal and interoperable with new code that does use generics. It had to be legal to pass instances of parameterized types to methods that were designed for use with ordinary types, and vice versa. This requirement, known as <em>migration compatibility</em>, drove the decision to support raw types.</p><p>In summary, raw types should NEVER be used in new code. <strong>You should always use parameterized types</strong>.</p><p>Unfortunately, because Java generics are non-reified, there are two exceptions where raw types must be used in new code:</p><li>Class literals, e.g. <code>List.class</code>, not <code>List&lt;String&gt;.class</code></li><li><code>instanceof</code> operand, e.g. <code>o instanceof Set</code>, not <code>o instanceof Set&lt;String&gt;</code></li><li><a href="http://stackoverflow.com/questions/2745193/why-is-collectionstring-class-illegal/">Why is <code>Collection&lt;String&gt;.class</code> Illegal?</a></li></body></html>

===ID===
584e5a483e2ca51be94fed96
===QUESTION===
What issues should be considered when overriding equals and hashCode in Java?
What issues / pitfalls must be considered when overriding  equals  and  hashCode ? 
===LINK===
http://stackoverflow.com/questions/27581/what-issues-should-be-considered-when-overriding-equals-and-hashcode-in-java
===KEYWORDS===
considered 
===ANSWER===
1218
<html><body><p><code>equals()</code> (<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)" rel="nofollow noreferrer">javadoc</a>) must define an equivalence relation (it must be <em>reflexive</em>, <em>symmetric</em>, and <em>transitive</em>). In addition, it must be <em>consistent</em> (if the objects are not modified, then it must keep returning the same value). Furthermore, <code>o.equals(null)</code> must always return false.</p><p><code>hashCode()</code> (<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()" rel="nofollow noreferrer">javadoc</a>) must also be <em>consistent</em> (if the object is not modified in terms of <code>equals()</code>, it must keep returning the same value).</p><p>The <strong>relation</strong> between the two methods is:</p><p><em>Whenever <code>a.equals(b)</code>, then <code>a.hashCode()</code> must be same as <code>b.hashCode()</code>.</em></p><p>If you override one, then you should override the other.</p><p>Use the same set of fields that you use to compute <code>equals()</code> to compute <code>hashCode()</code>.</p><p>Use the excellent helper classes <a href="http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html" rel="nofollow noreferrer">EqualsBuilder</a> and <a href="http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html" rel="nofollow noreferrer">HashCodeBuilder</a> from the <a href="http://commons.apache.org/lang/" rel="nofollow noreferrer">Apache Commons Lang</a> library. An example:</p><pre><code>public class Person {
    private String name;
    private int age;
    // ...

    @Override
    public int hashCode() {
        return new HashCodeBuilder(17, 31). // two randomly chosen prime numbers
            // if deriving: appendSuper(super.hashCode()).
            append(name).
            append(age).
            toHashCode();
    }

    @Override
    public boolean equals(Object obj) {
       if (!(obj instanceof Person))
            return false;
        if (obj == this)
            return true;

        Person rhs = (Person) obj;
        return new EqualsBuilder().
            // if deriving: appendSuper(super.equals(obj)).
            append(name, rhs.name).
            append(age, rhs.age).
            isEquals();
    }
}
</code></pre><p>When using a hash-based <a href="http://download.oracle.com/javase/1.4.2/docs/api/java/util/Collection.html" rel="nofollow noreferrer">Collection</a> or <a href="http://download.oracle.com/javase/1.4.2/docs/api/java/util/Map.html" rel="nofollow noreferrer">Map</a> such as <a href="http://download.oracle.com/javase/1.4.2/docs/api/java/util/HashSet.html" rel="nofollow noreferrer">HashSet</a>, <a href="http://download.oracle.com/javase/1.4.2/docs/api/java/util/LinkedHashSet.html" rel="nofollow noreferrer">LinkedHashSet</a>, <a href="http://download.oracle.com/javase/1.4.2/docs/api/java/util/HashMap.html" rel="nofollow noreferrer">HashMap</a>, <a href="http://download.oracle.com/javase/1.4.2/docs/api/java/util/Hashtable.html" rel="nofollow noreferrer">Hashtable</a>, or <a href="http://download.oracle.com/javase/1.4.2/docs/api/java/util/WeakHashMap.html" rel="nofollow noreferrer">WeakHashMap</a>, make sure that the hashCode() of the key objects that you put into the collection never changes while the object is in the collection. The bulletproof way to ensure this is to make your keys immutable, <a href="http://www.javapractices.com/topic/TopicAction.do?Id=29" rel="nofollow noreferrer">which has also other benefits</a>.</p></body></html>

===ID===
584e5a493e2ca51be94fed97
===QUESTION===
How to parse JSON in Java
I have the following JSON text that I need to parse to get  pageName ,  pagePic ,  post_id , etc. What is the required code? 
===LINK===
http://stackoverflow.com/questions/2591098/how-to-parse-json-in-java
===KEYWORDS===
parse 
===ANSWER===
373
<html><body><p>The <a href="https://github.com/stleary/JSON-java">org.json</a> library is easy to use. Example code below:</p><pre><code>import org.json.*;


JSONObject obj = new JSONObject(" .... ");
String pageName = obj.getJSONObject("pageInfo").getString("pageName");

JSONArray arr = obj.getJSONArray("posts");
for (int i = 0; i &lt; arr.length(); i++)
{
    String post_id = arr.getJSONObject(i).getString("post_id");
    ......
}
</code></pre><p>You may find extra examples from: <a href="http://theoryapp.com/parse-json-in-java/">Parse JSON in Java</a></p><p>Downloadable jar:  <a href="http://mvnrepository.com/artifact/org.json/json">http://mvnrepository.com/artifact/org.json/json</a></p></body></html>

===ID===
584e5a4a3e2ca51be94fed98
===QUESTION===
Using java.net.URLConnection to fire and handle HTTP requests
Use of  java.net.URLConnection  is asked about pretty often here, and the  Oracle tutorial  is  too  concise about it.  That tutorial basically only shows how to fire a GET request and read the response. It doesn't explain anywhere how to use it to among others perform a POST request, set request headers, read response headers, deal with cookies, submit a HTML form, upload a file, etc.  So, how can I use  java.net.URLConnection  to fire and handle "advanced" HTTP requests? 
===LINK===
http://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests
===KEYWORDS===
urlconnection 
===ANSWER===
2211
<html><body><p><sup><em>First a disclaimer beforehand: the posted code snippets are all basic examples. You'll need to handle trivial <code>IOException</code>s and <code>RuntimeException</code>s like <code>NullPointerException</code>, <code>ArrayIndexOutOfBoundsException</code> and consorts yourself.</em></sup></p><p>We first need to know at least the URL and the charset. The parameters are optional and depend on the functional requirements.</p><pre><code>String url = "http://example.com";
String charset = "UTF-8";  // Or in Java 7 and later, use the constant: java.nio.charset.StandardCharsets.UTF_8.name()
String param1 = "value1";
String param2 = "value2";
// ...

String query = String.format("param1=%s&amp;param2=%s", 
     URLEncoder.encode(param1, charset), 
     URLEncoder.encode(param2, charset));
</code></pre><p>The query parameters must be in <code>name=value</code> format and be concatenated by <code>&amp;</code>. You would normally also <a href="http://en.wikipedia.org/wiki/Percent-encoding" rel="nofollow noreferrer">URL-encode</a> the query parameters with the specified charset using <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html#encode-java.lang.String-java.lang.String-" rel="nofollow noreferrer"><code>URLEncoder#encode()</code></a>.</p><p><sup>The <code>String#format()</code> is just for convenience. I prefer it when I would need the String concatenation operator <code>+</code> more than twice.</sup></p><p>It's a trivial task. It's the default request method.</p><pre><code>URLConnection connection = new URL(url + "?" + query).openConnection();
connection.setRequestProperty("Accept-Charset", charset);
InputStream response = connection.getInputStream();
// ...
</code></pre><p>Any query string should be concatenated to the URL using <code>?</code>. The <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.2" rel="nofollow noreferrer"><code>Accept-Charset</code></a> header may hint the server what encoding the parameters are in. If you don't send any query string, then you can leave the <code>Accept-Charset</code> header away. If you don't need to set any headers, then you can even use the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html#openStream%28%29" rel="nofollow noreferrer"><code>URL#openStream()</code></a> shortcut method.</p><pre><code>InputStream response = new URL(url).openStream();
// ...
</code></pre><p>Either way, if the other side is a <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html" rel="nofollow noreferrer"><code>HttpServlet</code></a>, then its <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html#doGet%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29" rel="nofollow noreferrer"><code>doGet()</code></a> method will be called and the parameters will be available by <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29" rel="nofollow noreferrer"><code>HttpServletRequest#getParameter()</code></a>.</p><p>For testing purposes, you can print the response body to stdout as below:</p><pre><code>try (Scanner scanner = new Scanner(response)) {
    String responseBody = scanner.useDelimiter("\\A").next();
    System.out.println(responseBody);
}
</code></pre><p>Setting the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#setDoOutput%28boolean%29" rel="nofollow noreferrer"><code>URLConnection#setDoOutput()</code></a> to <code>true</code> implicitly sets the request method to POST. The standard HTTP POST as web forms do is of type <code>application/x-www-form-urlencoded</code> wherein the query string is written to the request body.</p><pre><code>URLConnection connection = new URL(url).openConnection();
connection.setDoOutput(true); // Triggers POST.
connection.setRequestProperty("Accept-Charset", charset);
connection.setRequestProperty("Content-Type", "application/x-www-form-urlencoded;charset=" + charset);

try (OutputStream output = connection.getOutputStream()) {
    output.write(query.getBytes(charset));
}

InputStream response = connection.getInputStream();
// ...
</code></pre><p>Note: whenever you'd like to submit a HTML form programmatically, don't forget to take the <code>name=value</code> pairs of any <code>&lt;input type="hidden"&gt;</code> elements into the query string and of course also the <code>name=value</code> pair of the <code>&lt;input type="submit"&gt;</code> element which you'd like to "press" programmatically (because that's usually been used in the server side to distinguish if a button was pressed and if so, which one).</p><p>You can also cast the obtained <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html" rel="nofollow noreferrer"><code>URLConnection</code></a> to <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html" rel="nofollow noreferrer"><code>HttpURLConnection</code></a> and use its <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#setRequestMethod%28java.lang.String%29" rel="nofollow noreferrer"><code>HttpURLConnection#setRequestMethod()</code></a> instead. But if you're trying to use the connection for output you still need to set <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#setDoOutput%28boolean%29" rel="nofollow noreferrer"><code>URLConnection#setDoOutput()</code></a> to <code>true</code>.</p><pre><code>HttpURLConnection httpConnection = (HttpURLConnection) new URL(url).openConnection();
httpConnection.setRequestMethod("POST");
// ...
</code></pre><p>Either way, if the other side is a <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html" rel="nofollow noreferrer"><code>HttpServlet</code></a>, then its <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html#doPost%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29" rel="nofollow noreferrer"><code>doPost()</code></a> method will be called and the parameters will be available by <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequest.html#getParameter%28java.lang.String%29" rel="nofollow noreferrer"><code>HttpServletRequest#getParameter()</code></a>.</p><p>You can fire the HTTP request explicitly with <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#connect%28%29" rel="nofollow noreferrer"><code>URLConnection#connect()</code></a>, but the request will automatically be fired on demand when you want to get any information about the HTTP response, such as the response body using <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html#getInputStream%28%29" rel="nofollow noreferrer"><code>URLConnection#getInputStream()</code></a> and so on. The above examples does exactly that, so the <code>connect()</code> call is in fact superfluous.</p><li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html" rel="nofollow noreferrer">HTTP response status</a>:</p>
<p>You need a <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html" rel="nofollow noreferrer"><code>HttpURLConnection</code></a> here. Cast it first if necessary.</p>
<pre><code>int status = httpConnection.getResponseCode();
</code></pre></li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html" rel="nofollow noreferrer">HTTP response status</a>:</p><p>You need a <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html" rel="nofollow noreferrer"><code>HttpURLConnection</code></a> here. Cast it first if necessary.</p><pre><code>int status = httpConnection.getResponseCode();
</code></pre><li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html" rel="nofollow noreferrer">HTTP response headers</a>:</p>
<pre><code>for (Entry&lt;String, List&lt;String&gt;&gt; header : connection.getHeaderFields().entrySet()) {
    System.out.println(header.getKey() + "=" + header.getValue());
}
</code></pre></li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html" rel="nofollow noreferrer">HTTP response headers</a>:</p><pre><code>for (Entry&lt;String, List&lt;String&gt;&gt; header : connection.getHeaderFields().entrySet()) {
    System.out.println(header.getKey() + "=" + header.getValue());
}
</code></pre><li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.17" rel="nofollow noreferrer">HTTP response encoding</a>:</p>
<p>When the <code>Content-Type</code> contains a <code>charset</code> parameter, then the response body is likely text based and we'd like to process the response body with the server-side specified character encoding then.</p>
<pre><code>String contentType = connection.getHeaderField("Content-Type");
String charset = null;

for (String param : contentType.replace(" ", "").split(";")) {
    if (param.startsWith("charset=")) {
        charset = param.split("=", 2)[1];
        break;
    }
}

if (charset != null) {
    try (BufferedReader reader = new BufferedReader(new InputStreamReader(response, charset))) {
        for (String line; (line = reader.readLine()) != null;) {
            // ... System.out.println(line) ?
        }
    }
} else {
    // It's likely binary content, use InputStream/OutputStream.
}
</code></pre></li><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.17" rel="nofollow noreferrer">HTTP response encoding</a>:</p><p>When the <code>Content-Type</code> contains a <code>charset</code> parameter, then the response body is likely text based and we'd like to process the response body with the server-side specified character encoding then.</p><pre><code>String contentType = connection.getHeaderField("Content-Type");
String charset = null;

for (String param : contentType.replace(" ", "").split(";")) {
    if (param.startsWith("charset=")) {
        charset = param.split("=", 2)[1];
        break;
    }
}

if (charset != null) {
    try (BufferedReader reader = new BufferedReader(new InputStreamReader(response, charset))) {
        for (String line; (line = reader.readLine()) != null;) {
            // ... System.out.println(line) ?
        }
    }
} else {
    // It's likely binary content, use InputStream/OutputStream.
}
</code></pre><p>The server side session is usually backed by a cookie. Some web forms require that you're logged in and/or are tracked by a session. You can use the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/CookieHandler.html" rel="nofollow noreferrer"><code>CookieHandler</code></a> API to maintain cookies. You need to prepare a <a href="http://docs.oracle.com/javase/8/docs/api/java/net/CookieManager.html" rel="nofollow noreferrer"><code>CookieManager</code></a> with a <a href="http://docs.oracle.com/javase/8/docs/api/java/net/CookiePolicy.html" rel="nofollow noreferrer"><code>CookiePolicy</code></a> of <a href="http://docs.oracle.com/javase/8/docs/api/java/net/CookiePolicy.html#ACCEPT_ALL" rel="nofollow noreferrer"><code>ACCEPT_ALL</code></a> before sending all HTTP requests.</p><pre><code>// First set the default cookie manager.
CookieHandler.setDefault(new CookieManager(null, CookiePolicy.ACCEPT_ALL));

// All the following subsequent URLConnections will use the same cookie manager.
URLConnection connection = new URL(url).openConnection();
// ...

connection = new URL(url).openConnection();
// ...

connection = new URL(url).openConnection();
// ...
</code></pre><p>Note that this is known to not always work properly in all circumstances. If it fails for you, then best is to manually gather and set the cookie headers. You basically need to grab all <code>Set-Cookie</code> headers from the response of the login or the first <code>GET</code> request and then pass this through the subsequent requests.</p><pre><code>// Gather all cookies on the first request.
URLConnection connection = new URL(url).openConnection();
List&lt;String&gt; cookies = connection.getHeaderFields().get("Set-Cookie");
// ...

// Then use the same cookies on all subsequent requests.
connection = new URL(url).openConnection();
for (String cookie : cookies) {
    connection.addRequestProperty("Cookie", cookie.split(";", 2)[0]);
}
// ...
</code></pre><p>The <code>split(";", 2)[0]</code> is there to get rid of cookie attributes which are irrelevant for the server side like <code>expires</code>, <code>path</code>, etc. Alternatively, you could also use <code>cookie.substring(0, cookie.indexOf(';'))</code> instead of <code>split()</code>.</p><p>The <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html" rel="nofollow noreferrer"><code>HttpURLConnection</code></a> will by default buffer the <em>entire</em> request body before actually sending it, regardless of whether you've set a fixed content length yourself using <code>connection.setRequestProperty("Content-Length", contentLength);</code>. This may cause <code>OutOfMemoryException</code>s whenever you concurrently send large POST requests (e.g. uploading files). To avoid this, you would like to set the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#setFixedLengthStreamingMode%28int%29" rel="nofollow noreferrer"><code>HttpURLConnection#setFixedLengthStreamingMode()</code></a>.</p><pre><code>httpConnection.setFixedLengthStreamingMode(contentLength);
</code></pre><p>But if the content length is really not known beforehand, then you can make use of chunked streaming mode by setting the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#setChunkedStreamingMode%28int%29" rel="nofollow noreferrer"><code>HttpURLConnection#setChunkedStreamingMode()</code></a> accordingly. This will set the HTTP <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.41" rel="nofollow noreferrer"><code>Transfer-Encoding</code></a> header to <code>chunked</code> which will force the request body being sent in chunks. The below example will send the body in chunks of 1KB.</p><pre><code>httpConnection.setChunkedStreamingMode(1024);
</code></pre><p>It can happen that a request returns an unexpected response, while it works fine with a real web browser. The server side is probably blocking requests based on the <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.43" rel="nofollow noreferrer"><code>User-Agent</code></a> request header. The <code>URLConnection</code> will by default set it to <code>Java/1.6.0_19</code> where the last part is obviously the JRE version. You can override this as follows:</p><pre><code>connection.setRequestProperty("User-Agent", "Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36"); // Do as if you're using Chrome 41 on Windows 7.
</code></pre><p>Use the User-Agent string from a <a href="http://www.useragentstring.com/pages/useragentstring.php" rel="nofollow noreferrer">recent browser</a>.</p><p>If the HTTP response code is <code>4nn</code> (Client Error) or <code>5nn</code> (Server Error), then you may want to read the <code>HttpURLConnection#getErrorStream()</code> to see if the server has sent any useful error information.</p><pre><code>InputStream error = ((HttpURLConnection) connection).getErrorStream();
</code></pre><p>If the HTTP response code is -1, then something went wrong with connection and response handling. The <code>HttpURLConnection</code> implementation is in older JREs somewhat buggy with keeping connections alive. You may want to turn it off by setting the <code>http.keepAlive</code> system property to <code>false</code>. You can do this programmatically in the beginning of your application by:</p><pre><code>System.setProperty("http.keepAlive", "false");
</code></pre><p>You'd normally use <a href="http://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.2" rel="nofollow noreferrer"><code>multipart/form-data</code></a> encoding for mixed POST content (binary and character data). The encoding is in more detail described in <a href="http://www.faqs.org/rfcs/rfc2388.html" rel="nofollow noreferrer">RFC2388</a>.</p><pre><code>String param = "value";
File textFile = new File("/path/to/file.txt");
File binaryFile = new File("/path/to/file.bin");
String boundary = Long.toHexString(System.currentTimeMillis()); // Just generate some unique random value.
String CRLF = "\r\n"; // Line separator required by multipart/form-data.
URLConnection connection = new URL(url).openConnection();
connection.setDoOutput(true);
connection.setRequestProperty("Content-Type", "multipart/form-data; boundary=" + boundary);

try (
    OutputStream output = connection.getOutputStream();
    PrintWriter writer = new PrintWriter(new OutputStreamWriter(output, charset), true);
) {
    // Send normal param.
    writer.append("--" + boundary).append(CRLF);
    writer.append("Content-Disposition: form-data; name=\"param\"").append(CRLF);
    writer.append("Content-Type: text/plain; charset=" + charset).append(CRLF);
    writer.append(CRLF).append(param).append(CRLF).flush();

    // Send text file.
    writer.append("--" + boundary).append(CRLF);
    writer.append("Content-Disposition: form-data; name=\"textFile\"; filename=\"" + textFile.getName() + "\"").append(CRLF);
    writer.append("Content-Type: text/plain; charset=" + charset).append(CRLF); // Text file itself must be saved in this charset!
    writer.append(CRLF).flush();
    Files.copy(textFile.toPath(), output);
    output.flush(); // Important before continuing with writer!
    writer.append(CRLF).flush(); // CRLF is important! It indicates end of boundary.

    // Send binary file.
    writer.append("--" + boundary).append(CRLF);
    writer.append("Content-Disposition: form-data; name=\"binaryFile\"; filename=\"" + binaryFile.getName() + "\"").append(CRLF);
    writer.append("Content-Type: " + URLConnection.guessContentTypeFromName(binaryFile.getName())).append(CRLF);
    writer.append("Content-Transfer-Encoding: binary").append(CRLF);
    writer.append(CRLF).flush();
    Files.copy(binaryFile.toPath(), output);
    output.flush(); // Important before continuing with writer!
    writer.append(CRLF).flush(); // CRLF is important! It indicates end of boundary.

    // End of multipart/form-data.
    writer.append("--" + boundary + "--").append(CRLF).flush();
}
</code></pre><p>If the other side is a <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html" rel="nofollow noreferrer"><code>HttpServlet</code></a>, then its <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html#doPost%28javax.servlet.http.HttpServletRequest,%20javax.servlet.http.HttpServletResponse%29" rel="nofollow noreferrer"><code>doPost()</code></a> method will be called and the parts will be available by <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getPart%28java.lang.String%29" rel="nofollow noreferrer"><code>HttpServletRequest#getPart()</code></a> (note, thus <strong>not</strong> <code>getParameter()</code> and so on!). The <code>getPart()</code> method is however relatively new, it's introduced in Servlet 3.0 (Glassfish 3, Tomcat 7, etc). Prior to Servlet 3.0, your best choice is using <a href="http://commons.apache.org/fileupload" rel="nofollow noreferrer">Apache Commons FileUpload</a> to parse a <code>multipart/form-data</code> request. Also see <a href="http://stackoverflow.com/questions/2422468/upload-big-file-to-servlet/2424824#2424824">this answer</a> for examples of both the FileUpload and the Servelt 3.0 approaches.</p><p>Sometimes you need to connect a HTTPS URL, perhaps because you're writing a web scraper. In that case, you may likely face a <code>javax.net.ssl.SSLException: Not trusted server certificate</code> on some HTTPS sites who doesn't keep their SSL certificates up to date, or a <code>java.security.cert.CertificateException: No subject alternative DNS name matching [hostname] found</code> or <code>javax.net.ssl.SSLProtocolException: handshake alert: unrecognized_name</code> on some misconfigured HTTPS sites.</p><p>The following one-time-run <code>static</code> initializer in your web scraper class should make <code>HttpsURLConnection</code> more lenient as to those HTTPS sites and thus not throw those exceptions anymore.</p><pre><code>static {
    TrustManager[] trustAllCertificates = new TrustManager[] {
        new X509TrustManager() {
            @Override
            public X509Certificate[] getAcceptedIssuers() {
                return null; // Not relevant.
            }
            @Override
            public void checkClientTrusted(X509Certificate[] certs, String authType) {
                // Do nothing. Just allow them all.
            }
            @Override
            public void checkServerTrusted(X509Certificate[] certs, String authType) {
                // Do nothing. Just allow them all.
            }
        }
    };

    HostnameVerifier trustAllHostnames = new HostnameVerifier() {
        @Override
        public boolean verify(String hostname, SSLSession session) {
            return true; // Just allow them all.
        }
    };

    try {
        System.setProperty("jsse.enableSNIExtension", "false");
        SSLContext sc = SSLContext.getInstance("SSL");
        sc.init(null, trustAllCertificates, new SecureRandom());
        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());
        HttpsURLConnection.setDefaultHostnameVerifier(trustAllHostnames);
    }
    catch (GeneralSecurityException e) {
        throw new ExceptionInInitializerError(e);
    }
}
</code></pre><p>The <a href="http://hc.apache.org/httpcomponents-client-ga/" rel="nofollow noreferrer">Apache HttpComponents HttpClient</a> is <em>much</em> more convenient in this all :)</p><li><a href="http://hc.apache.org/httpcomponents-client-ga/tutorial/html/" rel="nofollow noreferrer">HttpClient Tutorial</a></li><li><a href="http://hc.apache.org/httpcomponents-client-ga/examples.html" rel="nofollow noreferrer">HttpClient Examples</a></li><p>If all you want is parsing and extracting data from HTML, then better use a HTML parser like <a href="http://jsoup.org" rel="nofollow noreferrer">Jsoup</a></p><li><a href="http://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers/3154281#3154281">What are the pros/cons of leading HTML parsers in Java</a></li><li><a href="http://stackoverflow.com/questions/2835505/how-to-scan-a-website-or-page-for-info-and-bring-it-into-my-program/2835555#2835555">How to scan and extract a webpage in Java</a></li></body></html>

===ID===
584e5a4a3e2ca51be94fed99
===QUESTION===
What's the simplest way to print a Java array?
In Java, arrays don't override  toString() , so if you try to print one directly, you get weird output including the memory location: But usually we'd actually want something more like  [1, 2, 3, 4, 5] . What's the simplest way of doing that? Here are some example inputs and outputs: 
===LINK===
http://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array
===KEYWORDS===
inputs 
===ANSWER===
1397
<html><body><p>Since Java 5 you can use <code>Arrays.toString(arr)</code> or <code>Arrays.deepToString(arr)</code> for arrays within arrays. Note that the <code>Object[]</code> version calls <code>.toString()</code> on each object in the array. The output is even decorated in the exact way you're asking.</p><p>Examples:</p><pre><code>String[] array = new String[] {"John", "Mary", "Bob"};
System.out.println(Arrays.toString(array));
</code></pre><p>Output:</p><pre class="lang-none prettyprint-override"><code>[John, Mary, Bob]
</code></pre><pre><code>String[][] deepArray = new String[][] {{"John", "Mary"}, {"Alice", "Bob"}};
System.out.println(Arrays.toString(deepArray));
//output: [[Ljava.lang.String;@106d69c, [Ljava.lang.String;@52e922]
System.out.println(Arrays.deepToString(deepArray));
</code></pre><p>Output:</p><pre class="lang-none prettyprint-override"><code>[[John, Mary], [Alice, Bob]]
</code></pre><pre><code>double[] doubleArray = { 7.0, 9.0, 5.0, 1.0, 3.0 };
System.out.println(Arrays.toString(doubleArray));
</code></pre><p>Output:</p><pre class="lang-none prettyprint-override"><code>[7.0, 9.0, 5.0, 1.0, 3.0 ]
</code></pre><pre><code>int[] intArray = { 7, 9, 5, 1, 3 };
System.out.println(Arrays.toString(intArray));
</code></pre><p>Output:</p><pre class="lang-none prettyprint-override"><code>[7, 9, 5, 1, 3 ]
</code></pre></body></html>

===ID===
584e5a4b3e2ca51be94fed9a
===QUESTION===
Generating random integers in a specific range
I am trying to generate a random  int value with Java, but in a specific range.  For example: My range is  5 - 10 , meaning that  5  is the smallest possible value and  10  is the biggest. Any other number in between these numbers is possible to be a value, too.  In Java, there is a method  random()  in the  Math  class, which returns a  double  value between  0.0  and  1.0 . In the class  Random  there is the method  nextInt(int n) , which returns a random  int  value in the range of  0  (inclusive) and  n  (exclusive). I couldn't find a method, which returns a random integer value between two numbers. I have tried the following things, but I still have problems:
(minimum and maximum are the smallest and biggest numbers). Solution 1: Problem: randomNum  can be bigger than  maximum . Solution 2: Problem: randomNum  can be smaller than  minimum . How do I solve these problems? I have tried also browsing through the archive and found: But I couldn't solve the problem. 
===LINK===
http://stackoverflow.com/questions/363681/generating-random-integers-in-a-specific-range
===KEYWORDS===
exclusive 
===ANSWER===
2305
<html><body><p>In <strong>Java 1.7 or later</strong>, use the following <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html#nextInt-int-int-" rel="nofollow noreferrer">method</a>:</p><pre><code>import java.util.concurrent.ThreadLocalRandom;

// nextInt is normally exclusive of the top value,
// so add 1 to make it inclusive
ThreadLocalRandom.current().nextInt(min, max + 1);
</code></pre><p><strong>Before Java 1.7</strong>, the standard way to do this is as follows:</p><pre><code>import java.util.Random;

/**
 * Returns a pseudo-random number between min and max, inclusive.
 * The difference between min and max can be at most
 * &lt;code&gt;Integer.MAX_VALUE - 1&lt;/code&gt;.
 *
 * @param min Minimum value
 * @param max Maximum value.  Must be greater than min.
 * @return Integer between min and max, inclusive.
 * @see java.util.Random#nextInt(int)
 */
public static int randInt(int min, int max) {

    // NOTE: This will (intentionally) not run as written so that folks
    // copy-pasting have to think about how to initialize their
    // Random instance.  Initialization of the Random instance is outside
    // the main scope of the question, but some decent options are to have
    // a field that is initialized once and then re-used as needed or to
    // use ThreadLocalRandom (if using at least Java 1.7).
    Random rand;

    // nextInt is normally exclusive of the top value,
    // so add 1 to make it inclusive
    int randomNum = rand.nextInt((max - min) + 1) + min;

    return randomNum;
}
</code></pre><p>See <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-" rel="nofollow noreferrer">the relevant JavaDoc</a>.  In practice, the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Random.html" rel="nofollow noreferrer">java.util.Random</a> class is often preferable to <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#random--" rel="nofollow noreferrer">java.lang.Math.random()</a>.</p><p>In particular, there is no need to reinvent the random integer generation wheel when there is a straightforward API within the standard library to accomplish the task.</p></body></html>

===ID===
584e5a4c3e2ca51be94fed9b
===QUESTION===
Is List<Dog> a subclass of List<Animal>? Why aren't Java's generics implicitly polymorphic?
I'm a bit confused about how Java generics handle inheritance / polymorphism. Assume the following hierarchy - Animal  (Parent) Dog  -  Cat  (Children) So suppose I have a method  doSomething(List<Animal> animals) . By all the rules of inheritance and polymorphism, I would assume that a  List<Dog>   is  a  List<Animal>  and a  List<Cat>   is  a  List<Animal>  - and so either one could be passed to this method. Not so. If I want to achieve this behavior, I have to explicitly tell the method to accept a list of any subset of Animal by saying  doSomething(List<? extends Animal> animals) .  I understand that this is Java's behavior. My question is  why ? Why is polymorphism generally implicit, but when it comes to generics it must be specified? 
===LINK===
http://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-arent-javas-generics-implicitly-p
===KEYWORDS===
list<dog> 
===ANSWER===
546
<html><body><p>No, a <code>List&lt;Dog&gt;</code> is <em>not</em> a <code>List&lt;Animal&gt;</code>. Consider what you can do with a <code>List&lt;Animal&gt;</code> - you can add <em>any</em> animal to it... including a cat. Now, can you logically add a cat to a litter of puppies? Absolutely not.</p><pre><code>// Illegal code - because otherwise life would be Bad
List&lt;Dog&gt; dogs = new ArrayList&lt;Dog&gt;(); // ArrayList implements List
List&lt;Animal&gt; animals = dogs; // Awooga awooga
animals.add(new Cat());
Dog dog = dogs.get(0); // This should be safe, right?
</code></pre><p>Suddenly you have a <em>very</em> confused cat.</p><p>Now, you <em>can't</em> add a <code>Cat</code> to a <code>List&lt;? extends Animal&gt;</code> because you don't know it's a <code>List&lt;Cat&gt;</code>. You can retrieve a value and know that it will be an <code>Animal</code>, but you can't add arbitrary animals. The reverse is true for <code>List&lt;? super Animal&gt;</code> - in that case you can add an <code>Animal</code> to it safely, but you don't know anything about what might be retrieved from it, because it could be a <code>List&lt;Object&gt;</code>.</p></body></html>

===ID===
584e5a4c3e2ca51be94fed9c
===QUESTION===
What is a stack trace, and how can I use it to debug my application errors?
Sometimes when I run my application it gives me an error that looks like: People have referred to this as a "stack trace".  What is a stack trace?  What can it tell me about the error that's happening in my program? About this question - quite often I see a question come through where a novice programmer is "getting an error", and they simply paste their stack trace and some random block of code without understanding what the stack trace is or how they can use it. This question is intended as a reference for novice programmers who might need help understanding the value of a stack trace. 
===LINK===
http://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors
===KEYWORDS===
code 
===ANSWER===
331
<html><body><p>In simple terms, a <strong>stack trace</strong> is a list of the method calls that the application was in the middle of when an Exception was thrown.</p><p><strong>Simple Example</strong></p><p>With the example given in the question, we can determine exactly where the exception was thrown in the application. Let's have a look at the stack trace:</p><pre><code>Exception in thread "main" java.lang.NullPointerException
        at com.example.myproject.Book.getTitle(Book.java:16)
        at com.example.myproject.Author.getBookTitles(Author.java:25)
        at com.example.myproject.Bootstrap.main(Bootstrap.java:14)
</code></pre><p>This is a very simple stack trace. If we start at the beginning of the list of "at ...", we can tell where our error happened. What we're looking for is the <strong>topmost</strong> method call that is part of our application. In this case, it's:</p><pre><code>at com.example.myproject.Book.getTitle(Book.java:16)
</code></pre><p>To debug this, we can open up <code>Book.java</code> and look at line <code>16</code>, which is:</p><pre><code>15   public String getTitle() {
16      System.out.println(title.toString());
17      return title;
18   }
</code></pre><p>This would indicate that something (probably <code>title</code>) is <code>null</code> in the above code.</p><p><strong>Example with a chain of exceptions</strong></p><p>Sometimes applications will catch an Exception and re-throw it as the cause of another Exception.  This typically looks like:</p><pre><code>34   public void getBookIds(int id) {
35      try {
36         book.getId(id);    // this method it throws a NullPointerException on line 22
37      } catch (NullPointerException e) {
38         throw new IllegalStateException("A book has a null property", e)
39      }
40   }
</code></pre><p>This might give you a stack trace that looks like:</p><pre><code>Exception in thread "main" java.lang.IllegalStateException: A book has a null property
        at com.example.myproject.Author.getBookIds(Author.java:38)
        at com.example.myproject.Bootstrap.main(Bootstrap.java:14)
Caused by: java.lang.NullPointerException
        at com.example.myproject.Book.getId(Book.java:22)
        at com.example.myproject.Author.getBookIds(Author.java:36)
        ... 1 more
</code></pre><p>What's different about this one is the "Caused by". Sometimes exceptions will have multiple "Caused by" sections. For these, you typically want to find the "root cause", which will be one of the lowest "Caused by" sections in the stack trace. In our case, it's:</p><pre><code>Caused by: java.lang.NullPointerException &lt;-- root cause
        at com.example.myproject.Book.getId(Book.java:22) &lt;-- important line
</code></pre><p>Again, with this exception we'd want to look at line <code>22</code> of <code>Book.java</code> to see what might cause the <code>NullPointerException</code> here.</p><p><strong>More daunting example with library code</strong></p><p>Usually stack traces are much more complex than the two examples above. Here's an example (it's a long one, but demonstrates several levels of chained exceptions):</p><pre><code>javax.servlet.ServletException: Something bad happened
    at com.example.myproject.OpenSessionInViewFilter.doFilter(OpenSessionInViewFilter.java:60)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.example.myproject.ExceptionHandlerFilter.doFilter(ExceptionHandlerFilter.java:28)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.example.myproject.OutputBufferFilter.doFilter(OutputBufferFilter.java:33)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)
    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at org.mortbay.jetty.Server.handle(Server.java:326)
    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:943)
    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:756)
    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)
    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
    at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)
    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
Caused by: com.example.myproject.MyProjectServletException
    at com.example.myproject.MyServlet.doPost(MyServlet.java:169)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)
    at com.example.myproject.OpenSessionInViewFilter.doFilter(OpenSessionInViewFilter.java:30)
    ... 27 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not insert: [com.example.myproject.MyEntity]
    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:96)
    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)
    at org.hibernate.id.insert.AbstractSelectingDelegate.performInsert(AbstractSelectingDelegate.java:64)
    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2329)
    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2822)
    at org.hibernate.action.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:71)
    at org.hibernate.engine.ActionQueue.execute(ActionQueue.java:268)
    at org.hibernate.event.def.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:321)
    at org.hibernate.event.def.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:204)
    at org.hibernate.event.def.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:130)
    at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:210)
    at org.hibernate.event.def.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:56)
    at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:195)
    at org.hibernate.event.def.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:50)
    at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:93)
    at org.hibernate.impl.SessionImpl.fireSave(SessionImpl.java:705)
    at org.hibernate.impl.SessionImpl.save(SessionImpl.java:693)
    at org.hibernate.impl.SessionImpl.save(SessionImpl.java:689)
    at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:344)
    at $Proxy19.save(Unknown Source)
    at com.example.myproject.MyEntityService.save(MyEntityService.java:59) &lt;-- relevant call (see notes below)
    at com.example.myproject.MyServlet.doPost(MyServlet.java:164)
    ... 32 more
Caused by: java.sql.SQLException: Violation of unique constraint MY_ENTITY_UK_1: duplicate value(s) for column(s) MY_COLUMN in statement [...]
    at org.hsqldb.jdbc.Util.throwError(Unknown Source)
    at org.hsqldb.jdbc.jdbcPreparedStatement.executeUpdate(Unknown Source)
    at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeUpdate(NewProxyPreparedStatement.java:105)
    at org.hibernate.id.insert.AbstractSelectingDelegate.performInsert(AbstractSelectingDelegate.java:57)
    ... 54 more
</code></pre><p>In this example, there's a lot more. What we're mostly concerned about is looking for methods that are from <em>our code</em>, which would be anything in the <code>com.example.myproject</code> package. From the second example (above), we'd first want to look down for the root cause, which is:</p><pre><code>Caused by: java.sql.SQLException
</code></pre><p>However, all the method calls under that are library code. So we'll move up to the "Caused by" above it, and look for the first method call originating from our code, which is:</p><pre><code>at com.example.myproject.MyEntityService.save(MyEntityService.java:59)
</code></pre><p>Like in previous examples, we should look at <code>MyEntityService.java</code> on line <code>59</code>, because that's where this error originated (this one's a bit obvious what went wrong, since the SQLException states the error, but the debugging procedure is what we're after).</p></body></html>

===ID===
584e5a4d3e2ca51be94fed9d
===QUESTION===
How to use Servlets and Ajax?
I'm very new to web apps and Servlets and I have the following question: Whenever I print something inside the servlet and call it by the webbrowser, it returns a new page containing that text. Is there a way to print the text in the current page using Ajax? 
===LINK===
http://stackoverflow.com/questions/4112686/how-to-use-servlets-and-ajax
===KEYWORDS===
text 
===ANSWER===
392
<html><body><p>Indeed, the keyword is "ajax": <em>Asynchronous JavaScript and XML</em>. However, last years it's more than often <em>Asynchronous JavaScript and JSON</em>. Basically, you let JS execute an asynchronous HTTP request and update the HTML DOM tree based on the response data.</p><p>Since it's pretty a <a href="https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started">tedious</a> work to make it to work across all browsers (especially Internet Explorer versus others), there are plenty of JavaScript libraries out which simplifies this in single functions and covers as many as possible browser-specific bugs/quirks under the hoods, such as <a href="http://jquery.com">jQuery</a>, <a href="http://www.prototypejs.org/">Prototype</a>, <a href="http://mootools.net/">Mootools</a>. Since jQuery is most popular these days, I'll use it in the below examples.</p><p>Create a <code>/some.jsp</code> like below (note: the code doesn't expect the JSP file being placed in a subfolder, if you do so, alter servlet URL accordingly):</p><pre class="lang-html prettyprint-override"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;title&gt;SO question 4112686&lt;/title&gt;
        &lt;script src="http://code.jquery.com/jquery-latest.min.js"&gt;&lt;/script&gt;
        &lt;script&gt;
            $(document).on("click", "#somebutton", function() { // When HTML DOM "click" event is invoked on element with ID "somebutton", execute the following function...
                $.get("someservlet", function(responseText) {   // Execute Ajax GET request on URL of "someservlet" and execute the following function with Ajax response text...
                    $("#somediv").text(responseText);           // Locate HTML DOM element with ID "somediv" and set its text content with the response text.
                });
            });
        &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;button id="somebutton"&gt;press here&lt;/button&gt;
        &lt;div id="somediv"&gt;&lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>Create a servlet with a <code>doGet()</code> method which look like this:</p><pre class="lang-java prettyprint-override"><code>@Override
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    String text = "some text";

    response.setContentType("text/plain");  // Set content type of the response so that jQuery knows what it can expect.
    response.setCharacterEncoding("UTF-8"); // You want world domination, huh?
    response.getWriter().write(text);       // Write response body.
}
</code></pre><p>Map this servlet on an URL pattern of <code>/someservlet</code> or <code>/someservlet/*</code> as below (obviously, the URL pattern is free to your choice, but you'd need to alter the <code>someservlet</code> URL in JS code examples over all place accordingly):</p><pre class="lang-java prettyprint-override"><code>@WebServlet("/someservlet/*")
public class SomeServlet extends HttpServlet {
    // ...
}
</code></pre><p>Or, when you're not on a Servlet 3.0 compatible container yet (Tomcat 7, Glassfish 3, JBoss AS 6, etc or newer), then map it in <code>web.xml</code> the old fashioned way (see also <a href="http://stackoverflow.com/tags/servlets/info">our Servlets wiki page</a>):</p><pre class="lang-xml prettyprint-override"><code>&lt;servlet&gt;
    &lt;servlet-name&gt;someservlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;com.example.SomeServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;someservlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/someservlet/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</code></pre><p>Now open the <a href="http://localhost:8080/context/test.jsp">http://localhost:8080/context/test.jsp</a> in the browser and press the button. You'll see that the content of the div get updated with the servlet response.</p><p>With <a href="http://www.hunlock.com/blogs/Mastering_JSON_%28_JavaScript_Object_Notation_%29">JSON</a> instead of plaintext as response format you can even get some steps further. It allows for more dynamics. First, you'd like to have a tool to convert between Java objects and JSON strings. There are plenty of them as well (see the bottom of <a href="http://json.org/">this page</a> for an overview). My personal favourite is <a href="http://code.google.com/p/google-gson/">Google Gson</a>. Download and put its JAR file in <code>/WEB-INF/lib</code> folder of your webapplication. </p><p>Here's an example which displays <code>List&lt;String&gt;</code> as <code>&lt;ul&gt;&lt;li&gt;</code>. The servlet:</p><pre class="lang-java prettyprint-override"><code>@Override
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    List&lt;String&gt; list = new ArrayList&lt;&gt;();
    list.add("item1");
    list.add("item2");
    list.add("item3");
    String json = new Gson().toJson(list);

    response.setContentType("application/json");
    response.setCharacterEncoding("UTF-8");
    response.getWriter().write(json);
}
</code></pre><p>The JS code:</p><pre class="lang-js prettyprint-override"><code>$(document).on("click", "#somebutton", function() {  // When HTML DOM "click" event is invoked on element with ID "somebutton", execute the following function...
    $.get("someservlet", function(responseJson) {    // Execute Ajax GET request on URL of "someservlet" and execute the following function with Ajax response JSON...
        var $ul = $("&lt;ul&gt;").appendTo($("#somediv")); // Create HTML &lt;ul&gt; element and append it to HTML DOM element with ID "somediv".
        $.each(responseJson, function(index, item) { // Iterate over the JSON array.
            $("&lt;li&gt;").text(item).appendTo($ul);      // Create HTML &lt;li&gt; element, set its text content with currently iterated item and append it to the &lt;ul&gt;.
        });
    });
});
</code></pre><p>Do note that jQuery automatically parses the response as JSON and gives you directly a JSON object (<code>responseJson</code>) as function argument when you set the response content type to <code>application/json</code>. If you forget to set it or rely on a default of <code>text/plain</code> or <code>text/html</code>, then the <code>responseJson</code> argument wouldn't give you a JSON object, but a plain vanilla string and you'd need to manually fiddle around with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse"><code>JSON.parse()</code></a> afterwards, which is thus totally unnecessary if you set the content type right in first place.</p><p>Here's another example which displays <code>Map&lt;String, String&gt;</code> as <code>&lt;option&gt;</code>:</p><pre class="lang-java prettyprint-override"><code>@Override
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    Map&lt;String, String&gt; options = new LinkedHashMap&lt;&gt;();
    options.put("value1", "label1");
    options.put("value2", "label2");
    options.put("value3", "label3");
    String json = new Gson().toJson(options);

    response.setContentType("application/json");
    response.setCharacterEncoding("UTF-8");
    response.getWriter().write(json);
}
</code></pre><p>And the JSP:</p><pre class="lang-js prettyprint-override"><code>$(document).on("click", "#somebutton", function() {               // When HTML DOM "click" event is invoked on element with ID "somebutton", execute the following function...
    $.get("someservlet", function(responseJson) {                 // Execute Ajax GET request on URL of "someservlet" and execute the following function with Ajax response JSON...
        var $select = $("#someselect");                           // Locate HTML DOM element with ID "someselect".
        $select.find("option").remove();                          // Find all child elements with tag name "option" and remove them (just to prevent duplicate options when button is pressed again).
        $.each(responseJson, function(key, value) {               // Iterate over the JSON object.
            $("&lt;option&gt;").val(key).text(value).appendTo($select); // Create HTML &lt;option&gt; element, set its value with currently iterated key and its text content with currently iterated item and finally append it to the &lt;select&gt;.
        });
    });
});
</code></pre><p>with </p><pre class="lang-html prettyprint-override"><code>&lt;select id="someselect"&gt;&lt;/select&gt;
</code></pre><p>Here's an example which displays <code>List&lt;Product&gt;</code> in a <code>&lt;table&gt;</code> where the <code>Product</code> class has the properties <code>Long id</code>, <code>String name</code> and <code>BigDecimal price</code>. The servlet:</p><pre class="lang-java prettyprint-override"><code>@Override
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    List&lt;Product&gt; products = someProductService.list();
    String json = new Gson().toJson(products);

    response.setContentType("application/json");
    response.setCharacterEncoding("UTF-8");
    response.getWriter().write(json);
}
</code></pre><p>The JS code:</p><pre class="lang-js prettyprint-override"><code>$(document).on("click", "#somebutton", function() {        // When HTML DOM "click" event is invoked on element with ID "somebutton", execute the following function...
    $.get("someservlet", function(responseJson) {          // Execute Ajax GET request on URL of "someservlet" and execute the following function with Ajax response JSON...
        var $table = $("&lt;table&gt;").appendTo($("#somediv")); // Create HTML &lt;table&gt; element and append it to HTML DOM element with ID "somediv".
        $.each(responseJson, function(index, product) {    // Iterate over the JSON array.
            $("&lt;tr&gt;").appendTo($table)                     // Create HTML &lt;tr&gt; element, set its text content with currently iterated item and append it to the &lt;table&gt;.
                .append($("&lt;td&gt;").text(product.id))        // Create HTML &lt;td&gt; element, set its text content with id of currently iterated product and append it to the &lt;tr&gt;.
                .append($("&lt;td&gt;").text(product.name))      // Create HTML &lt;td&gt; element, set its text content with name of currently iterated product and append it to the &lt;tr&gt;.
                .append($("&lt;td&gt;").text(product.price));    // Create HTML &lt;td&gt; element, set its text content with price of currently iterated product and append it to the &lt;tr&gt;.
        });
    });
});
</code></pre><p>Here's an example which does effectively the same as previous example, but then with XML instead of JSON. When using JSP as XML output generator you'll see that it's less tedious to code the table and all. JSTL is this way much more helpful as you can actually use it to iterate over the results and perform server side data formatting. The servlet:</p><pre class="lang-java prettyprint-override"><code>@Override
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    List&lt;Product&gt; products = someProductService.list();

    request.setAttribute("products", products);
    request.getRequestDispatcher("/WEB-INF/xml/products.jsp").forward(request, response);
}
</code></pre><p>The JSP code (note: if you put the <code>&lt;table&gt;</code> in a <code>&lt;jsp:include&gt;</code>, it may be reusable elsewhere in a non-ajax response):</p><pre class="lang-xml prettyprint-override"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;%@page contentType="application/xml" pageEncoding="UTF-8"%&gt;
&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %&gt;
&lt;data&gt;
    &lt;table&gt;
        &lt;c:forEach items="${products}" var="product"&gt;
            &lt;tr&gt;
                &lt;td&gt;${product.id}&lt;/td&gt;
                &lt;td&gt;&lt;c:out value="${product.name}" /&gt;&lt;/td&gt;
                &lt;td&gt;&lt;fmt:formatNumber value="${product.price}" type="currency" currencyCode="USD" /&gt;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/c:forEach&gt;
    &lt;/table&gt;
&lt;/data&gt;
</code></pre><p>The JS code:</p><pre class="lang-js prettyprint-override"><code>$(document).on("click", "#somebutton", function() {             // When HTML DOM "click" event is invoked on element with ID "somebutton", execute the following function...
    $.get("someservlet", function(responseXml) {                // Execute Ajax GET request on URL of "someservlet" and execute the following function with Ajax response XML...
        $("#somediv").html($(responseXml).find("data").html()); // Parse XML, find &lt;data&gt; element and append its HTML to HTML DOM element with ID "somediv".
    });
});
</code></pre><p>You can use jQuery <a href="https://api.jquery.com/serialize/"><code>$.serialize()</code></a> to easily ajaxify existing POST forms without fiddling around with collecting and passing the individual form input parameters. Assuming an existing form which works perfectly fine without JavaScript/jQuery (and thus degrades gracefully when enduser has JavaScript disabled):</p><pre class="lang-html prettyprint-override"><code>&lt;form id="someform" action="someservlet" method="post"&gt;
    &lt;input type="text" name="foo" /&gt;
    &lt;input type="text" name="bar" /&gt;
    &lt;input type="text" name="baz" /&gt;
    &lt;input type="submit" name="submit" value="Submit" /&gt;
&lt;/form&gt;
</code></pre><p>You can progressively enhance it with ajax as below:</p><pre class="lang-js prettyprint-override"><code>$(document).on("submit", "#someform", function(event) {
    var $form = $(this);

    $.post($form.attr("action"), $form.serialize(), function(response) {
        // ...
    });

    event.preventDefault(); // Important! Prevents submitting the form.
});
</code></pre><p>You can in the servlet distinguish between normal requests and ajax requests as below:</p><pre class="lang-java prettyprint-override"><code>@Override
protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    String foo = request.getParameter("foo");
    String bar = request.getParameter("bar");
    String baz = request.getParameter("baz");

    boolean ajax = "XMLHttpRequest".equals(request.getHeader("X-Requested-With"));

    // ...

    if (ajax) {
        // Handle ajax (JSON or XML) response.
    } else {
        // Handle regular (JSP) response.
    }
}
</code></pre><p>The <a href="http://malsup.com/jquery/form/">jQuery Form plugin</a> does less or more the same as above jQuery example, but it has additional transparent support for <code>multipart/form-data</code> forms as required by file uploads.</p><p>If you don't have a form at all, but just wanted to interact with the servlet "in the background" whereby you'd like to POST some data, then you can use jQuery <a href="http://api.jquery.com/jquery.param/"><code>$.param()</code></a> to easily convert a JSON object to an URL-encoded query string.</p><pre class="lang-js prettyprint-override"><code>var params = {
    foo: "fooValue",
    bar: "barValue",
    baz: "bazValue"
};

$.post("someservlet", $.param(params), function(response) {
    // ...
});
</code></pre><p>The same <code>doPost()</code> method as shown here above can be reused. Do note that above syntax also works with <code>$.get()</code> in jQuery and <code>doGet()</code> in servlet.</p><p>If you however intend to send the JSON object as a whole instead of as individual request parameters for some reason, then you'd need to serialize it to a string using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify"><code>JSON.stringify()</code></a> (not part of jQuery) and instruct jQuery to set request content type to <code>application/json</code> instead of (default) <code>application/x-www-form-urlencoded</code>. This can't be done via <code>$.post()</code> convenience function, but needs to be done via <code>$.ajax()</code> as below.</p><pre class="lang-js prettyprint-override"><code>var data = {
    foo: "fooValue",
    bar: "barValue",
    baz: "bazValue"
};

$.ajax({
    type: "POST",
    url: "someservlet",
    contentType: "application/json", // NOT dataType!
    data: JSON.stringify(data),
    success: function(response) {
        // ...
    }
});
</code></pre><p>Do note that a lot of starters mix <code>contentType</code> with <code>dataType</code>. The <code>contentType</code> represents the type of the <strong>request</strong> body. The <code>dataType</code> represents the (expected) type of the <strong>response</strong> body, which is usually unnecessary as jQuery already autodetects it based on response's <code>Content-Type</code> header.</p><p>Then, in order to process the JSON object in the servlet which isn't being sent as individual request parameters but as a JSON string the above way, you only need to fully parse the request body using a JSON tool instead of using <code>getParameter()</code> the usual way. Gson also supports this.</p><pre class="lang-java prettyprint-override"><code>JsonObject data = new Gson().fromJson(request.getReader(), JsonObject.class);
String foo = data.get("foo").getAsString();
String bar = data.get("bar").getAsString();
String baz = data.get("baz").getAsString();
// ...
</code></pre><p>Do note that this all is more clumsy than just using <code>$.param()</code>. Normally, you want to use <code>JSON.stringify()</code> only if the target service is e.g. a JAX-RS (RESTful) service which is only capable of consuming JSON strings and not regular request parameters.</p><p>Important to realize and understand is that any <code>sendRedirect()</code> and <code>forward()</code> call by the servlet on an ajax request would only forward or redirect <em>the ajax request itself</em> and not the main document/window where the ajax request originated. JavaScript/jQuery would in such case only retrieve the redirected/forwarded response as <code>responseText</code> variable in the callback function. If it represents a whole HTML page and not an ajax-specific XML or JSON response, then all you could do is to replace the current document with it.</p><pre><code>document.open();
document.write(responseText);
document.close();
</code></pre><p>Note that this doesn't change the URL as enduser sees in browser's address bar. So there are issues with bookmarkability. Therefore, it's much better to just return an "instruction" to redirect to JavaScript/jQuery instead of the whole redirected page itself. E.g. by returning a boolean, or an URL.</p><pre><code>String redirectURL = "http://example.com";

Map&lt;String, String&gt; data = new HashMap&lt;&gt;();
data.put("redirect", redirectURL);
String json = new Gson().toJson(data);

response.setContentType("application/json");
response.setCharacterEncoding("UTF-8");
response.getWriter().write(json);
</code></pre><p></p><pre><code>function(responseJson) {
    if (responseJson.redirect) {
        window.location = responseJson.redirect;
        return;
    }

    // ...
}
</code></pre><li><a href="http://stackoverflow.com/questions/2132242/need-to-call-servlet-from-javascript-along-with-parameters">Need to call servlet from javascript along with parameters</a></li><li><a href="http://stackoverflow.com/questions/3832792/access-java-servlet-jsp-jstl-el-variables-in-javascript">Access Java / Servlet / JSP / JSTL / EL variables in JavaScript</a></li><li><a href="http://stackoverflow.com/questions/2600582/how-to-switch-easily-between-ajax-based-website-and-basic-html-website/">How to switch easily between ajax-based website and basic HTML website?</a></li><li><a href="http://stackoverflow.com/questions/6914152/how-to-upload-files-to-server-using-jsp-servlet-and-ajax">How to upload files to server using JSP/Servlet and Ajax?</a></li></body></html>

===ID===
584e5a4d3e2ca51be94fed9e
===QUESTION===
Java GUI listeners without AWT
I am a starting Java developer, learning just from internet tutorials. I am learning full screen GUI applications. I was told yesterday that I shouldn't use AWT in my programs, because it is outdated. I already know about light and heavyweight components, the main problem is the mouse and keyboard listeners. 
Why is AWT outdated?
How to make a program without AWT (adding listeners to JComponents etc) (what kind of Swing things can replace the AWT)? 
===LINK===
http://stackoverflow.com/questions/6255106/java-gui-listeners-without-awt
===KEYWORDS===
kind 
===ANSWER===
34
<html><body><p>You're mis-interpreting the information given to you. You should avoid using Swing components with AWT <strong>components</strong>. It's OK to use Swing with the AWT listener structure, layout managers, etc. and in fact it's impossible not to.</p></body></html>

===ID===
584e5a4e3e2ca51be94fed9f
===QUESTION===
How do servlets work? Instantiation, sessions, shared variables and multithreading
Suppose, I have a webserver which holds numerous servlets. For information passing among those servlets I am setting session and instance variables. Now, if 2 or more users send request to this server then what happens to the session variables? Will they all be common for all the users or they will be different for each user. If they are different, then how was the server able to differentiate between different users? One more similar question, if there are  n  users accessing a particular servlet, then this servlet gets instantiated only the first time the first user accessed it or does it get instantiated for all the users separately? In other words, what happens to the instance variables? 
===LINK===
http://stackoverflow.com/questions/3106452/how-do-servlets-work-instantiation-sessions-shared-variables-and-multithreadi
===KEYWORDS===
instantiation 
===ANSWER===
1319
<html><body><p>When the servletcontainer (like <a href="http://tomcat.apache.org" rel="nofollow noreferrer">Apache Tomcat</a>) starts up, it will deploy and load all webapplications. When a webapplication get loaded, the servletcontainer will create the <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html" rel="nofollow noreferrer"><code>ServletContext</code></a> once and keep in server's memory. The webapp's <code>web.xml</code> will be parsed and every <code>&lt;servlet&gt;</code>, <code>&lt;filter&gt;</code> and <code>&lt;listener&gt;</code> found in <code>web.xml</code>, or annotated with respectively <code>@WebServlet</code>, <code>@WebFilter</code> and <code>@WebListener</code>, will be created once and kept in server's memory as well. For all filters, the <code>init()</code> method will also be invoked immediately. When the servletcontainer shuts down, it will unload all webapplications, invoke the <code>destroy()</code> of all initialized servlets and filters, and finally the <code>ServletContext</code> and all <code>Servlet</code>, <code>Filter</code> and <code>Listener</code> instances will be trashed.</p><p>When the <code>Servlet</code> in question has a <code>&lt;servlet&gt;&lt;load-on-startup&gt;</code> or <code>@WebServlet(loadOnStartup)</code> value greater than <code>0</code>, then its <code>init()</code> method will also immediately be invoked during startup. Those servlets are initialized in the same order as "load-on-startup" value represents, or if they are the same, then the order in the <code>web.xml</code> or <code>@WebServlet</code> classloading. Or, if the "load-on-startup" value is absent, then the <code>init()</code> method will only be invoked on very first HTTP request hitting the servlet in question. </p><p>The servletcontainer is attached to a webserver which listens on HTTP requests on a certain port number, which is usually 8080 in development and 80 in production. When a client (user with a webbrowser) sends a HTTP request, the servletcontainer will create new <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html" rel="nofollow noreferrer"><code>HttpServletRequest</code></a> and <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponse.html" rel="nofollow noreferrer"><code>HttpServletResponse</code></a> objects and pass it through the methods of the already-created <code>Filter</code> and <code>Servlet</code> instances whose <code>url-pattern</code> matches the request URL, all in the same thread. </p><p>In case of <a href="http://stackoverflow.com/tags/servlet-filters/info">filters</a>, the <code>doFilter()</code> method will be invoked. When its code calls <code>chain.doFilter(request, response)</code>, then the request and response will continue to the next filter, or if there is none, hit the servlet. In case of <a href="http://stackoverflow.com/tags/servlets/info">servlets</a>, the <code>service()</code> method will be invoked, which by default determines based on <code>request.getMethod()</code> which one of the <code>doXxx()</code> methods to invoke. If such method is absent on the actual servlet, then it will return HTTP 405 error. </p><p>The request object provides access to all information of the HTTP request, such as the request headers and the request body. The response object provides facility to control and send the HTTP response the way you want, such as setting headers and the body (usually with HTML content from a JSP file). When the HTTP response is committed and finished, then both the request and response objects will be trashed (actually, most containers will cleanup the state and recycle the instance for reuse).</p><p>When a client visits the webapp for the first time and/or the <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpSession.html" rel="nofollow noreferrer"><code>HttpSession</code></a> is to be obtained for the first time by <code>request.getSession()</code>, then the servletcontainer will create a new <code>HttpSession</code> object, generate a long and unique ID (which you can get by <code>session.getId()</code>), and store it in server's memory. The servletcontainer will also set a <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/Cookie.html" rel="nofollow noreferrer"><code>Cookie</code></a> in the <code>Set-Cookie</code> header of the HTTP response with <code>JSESSIONID</code> as cookie name and the unique session ID as cookie value. </p><p>As per the <a href="http://www.faqs.org/rfcs/rfc2965.html" rel="nofollow noreferrer">HTTP cookie specification</a> (a contract a decent webbrowser and webserver has to adhere), the client (the webbrowser) is required to send this cookie back in the subsequent requests in the <code>Cookie</code> header as long as the cookie is valid (i.e. is not expired and has the right domain and path). Using browser builtin HTTP traffic monitor you can check them (press F12 in Chrome / Firefox23+ / IE9+ and check <em>Net/Network</em> tab). The servletcontainer will determine the <code>Cookie</code> header of every incoming HTTP request for the presence of the cookie with the name <code>JSESSIONID</code> and use its value (the session ID) to get the associated <code>HttpSession</code> from server's memory.</p><p>The <code>HttpSession</code> lives until it has not been used for more than the <code>&lt;session-timeout&gt;</code> time, a setting you can specify in <code>web.xml</code>, which defaults to 30 minutes. So when the client doesn't visit the webapp anymore for over 30 minutes, then the servletcontainer will trash the session. Every subsequent request, even though with the cookie specified, will not have access to the same session anymore. The servletcontainer will create a new one. </p><p>On the other hand, the session cookie on the client side has a default lifetime which is as long as the browser instance is running. So when the client closes the browser instance (all tabs/windows), then the session will be trashed at the client side. In a new browser instance the cookie associated with the session won't be sent anymore. A new <code>request.getSession()</code> would return a brand new <code>HttpSession</code> and set a cookie with a brand new session ID.</p><li>The <code>ServletContext</code> lives as long as the webapp lives. It's been shared among <em>all</em> requests in <em>all</em> sessions.</li><li>The <code>HttpSession</code> lives as long as the client is interacting with the webapp with the same browser instance and the session hasn't timed out at the server side yet. It's been shared among <em>all</em> requests in the <em>same</em> session.</li><li>The <code>HttpServletRequest</code> and <code>HttpServletResponse</code> lives as long as the client has sent it until the complete response (the webpage) is arrived. It is <em>not</em> being shared elsewhere.</li><li>Any <code>Servlet</code>, <code>Filter</code> and <code>Listener</code> lives as long as the webapp lives. They are being shared among <em>all</em> requests in <em>all</em> sessions.</li><li>Any <code>attribute</code> which you set in <code>ServletContext</code>, <code>HttpServletRequest</code> and <code>HttpSession</code> will live as long as the object in question lives. The object itself represents the "scope" in bean management frameworks such as JSF, CDI, Spring, etc. Those frameworks store their scoped beans as an <code>attribute</code> of closest matching scope.</li><p>That said, your major concern is possibly <em>threadsafety</em>. You should now have learnt that Servlets and filters are shared among all requests. That's the nice thing of Java, it's multithreaded and different threads (read: HTTP requests) can make use of the same instance. It would otherwise have been too expensive to recreate, <code>init()</code> and <code>destroy()</code> it on every single request.</p><p>But you should also realize that you should <strong>never</strong> assign any request or session scoped data as an <em>instance</em> variable of a servlet or filter. It will be shared among all other requests in other sessions. That's <em>threadunsafe</em>! The below example illustrates that:</p><pre><code>public class ExampleServlet extends HttpServlet {

    private Object thisIsNOTThreadSafe;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        Object thisIsThreadSafe;

        thisIsNOTThreadSafe = request.getParameter("foo"); // BAD!! Shared among all requests!
        thisIsThreadSafe = request.getParameter("foo"); // OK, this is thread safe.
    } 
}
</code></pre><li><a href="http://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp">What is the difference between JSF, Servlet and JSP?</a></li><li><a href="http://stackoverflow.com/questions/1700390/best-option-for-session-management-in-java">Best option for Session management in Java</a></li><li><a href="http://stackoverflow.com/questions/4140448/difference-between-and-in-servlet-mapping-url-pattern">Difference between / and /* in servlet mapping url pattern</a></li><li><a href="http://stackoverflow.com/questions/2349633/doget-and-dopost-in-servlets">doGet and doPost in Servlets</a></li><li><a href="http://stackoverflow.com/questions/8011138/servlet-seems-to-handle-multiple-concurrent-requests-synchronously/">Servlet seems to handle multiple concurrent browser requests synchronously</a></li><li><a href="http://stackoverflow.com/questions/9555842/why-servlets-are-not-thread-safe/">Why Servlets are not thread Safe?</a></li></body></html>

===ID===
584e5a4f3e2ca51be94feda0
===QUESTION===
Java String.equals versus == [duplicate]
This question already has an answer here: This code separates a string into tokens and stores them in an array of strings, and then compares a variable with the first home ... why isn't it working? 
===LINK===
http://stackoverflow.com/questions/767372/java-string-equals-versus
===KEYWORDS===
stores 
===ANSWER===
417
<html><body><p>Use the <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-" rel="nofollow noreferrer"><code>string.equals(Object other)</code></a> function to compare strings, not the <code>==</code> operator.</p><p>The function checks the actual contents of the string, the <code>==</code> operator checks whether the references to the objects are equal.  Note that string constants are usually "interned" such that two constants with the same value can actually be compared with <code>==</code>, but it's better not to rely on that.</p><pre><code>if (usuario.equals(datos[0])) {
    ...
}
</code></pre><p>NB: the compare is done on 'usuario' because that's guaranteed non-null in your code, although you should still check that you've actually got some tokens in the <code>datos</code> array otherwise you'll get an array-out-of-bounds exception.</p></body></html>

===ID===
584e5a4f3e2ca51be94feda1
===QUESTION===
Why is it faster to process a sorted array than an unsorted array?
Here is a piece of C++ code that seems very peculiar. For some strange reason, sorting the data miraculously makes the code almost six times faster. Initially, I thought this might be just a language or compiler anomaly. So I tried it in Java. With a somewhat similar but less extreme result. My first thought was that sorting brings the data into the cache, but then I thought how silly that is because the array was just generated. 
===LINK===
http://stackoverflow.com/questions/11227809/why-is-it-faster-to-process-a-sorted-array-than-an-unsorted-array
===KEYWORDS===
sorting 
===ANSWER===
22377
<html><body><p><strong>You are a victim of <a href="//en.wikipedia.org/wiki/Branch_predictor" rel="nofollow noreferrer">branch prediction</a> fail.</strong></p><p>Consider a railroad junction:</p><p><a href="//commons.wikimedia.org/wiki/File:Entroncamento_do_Transpraia.JPG" rel="nofollow noreferrer"><img alt="" src="//i.stack.imgur.com/muxnt.jpg"/></a>
<sub><a href="//commons.wikimedia.org/wiki/File:Entroncamento_do_Transpraia.JPG" rel="nofollow noreferrer">Image</a> by Mecanismo, via Wikimedia Commons. Used under the <a href="//creativecommons.org/licenses/by-sa/3.0/deed.en" rel="nofollow noreferrer">CC-By-SA 3.0</a> license.</sub></p><p>Now for the sake of argument, suppose this is back in the 1800s - before long distance or radio communication.</p><p>You are the operator of a junction and you hear a train coming. You have no idea which way it is supposed to go. You stop the train to ask the driver which direction they want. And then you set the switch appropriately.</p><p><em>Trains are heavy and have a lot of inertia. So they take forever to start up and slow down.</em></p><p>Is there a better way? You guess which direction the train will go!</p><li>If you guessed right, it continues on.</li><li>If you guessed wrong, the captain will stop, back up, and yell at you to flip the switch. Then it can restart down the other path.</li><p><strong>If you guess right every time</strong>, the train will never have to stop.<br>
<strong>If you guess wrong too often</strong>, the train will spend a lot of time stopping, backing up, and restarting.</br></p><p><strong>Consider an if-statement:</strong> At the processor level, it is a branch instruction:</p><p><img alt="enter image description here" src="//i.stack.imgur.com/pyfwC.png"/></p><p>You are a processor and you see a branch. You have no idea which way it will go. What do you do? You halt execution and wait until the previous instructions are complete. Then you continue down the correct path.</p><p><em>Modern processors are complicated and have long pipelines. So they take forever to "warm up" and "slow down".</em></p><p>Is there a better way? You guess which direction the branch will go!</p><li>If you guessed right, you continue executing.</li><li>If you guessed wrong, you need to flush the pipeline and roll back to the branch. Then you can restart down the other path.</li><p><strong>If you guess right every time</strong>, the execution will never have to stop.<br>
<strong>If you guess wrong too often</strong>, you spend a lot of time stalling, rolling back, and restarting.</br></p><p>This is branch prediction. I admit it's not the best analogy since the train could just signal the direction with a flag. But in computers, the processor doesn't know which direction a branch will go until the last moment.</p><p>So how would you strategically guess to minimize the number of times that the train must back up and go down the other path? You look at the past history! If the train goes left 99% of the time, then you guess left. If it alternates, then you alternate your guesses. If it goes one way every 3 times, you guess the same...</p><p><strong><em>In other words, you try to identify a pattern and follow it.</em></strong> This is more or less how branch predictors work.</p><p>Most applications have well-behaved branches. So modern branch predictors will typically achieve &gt;90% hit rates. But when faced with unpredictable branches with no recognizable patterns, branch predictors are virtually useless.</p><p>Further reading: <a href="//en.wikipedia.org/wiki/Branch_predictor" rel="nofollow noreferrer">"Branch predictor" article on Wikipedia</a>.</p><pre><code>if (data[c] &gt;= 128)
    sum += data[c];
</code></pre><p>Notice that the data is evenly distributed between 0 and 255. 
When the data is sorted, roughly the first half of the iterations will not enter the if-statement. After that, they will all enter the if-statement.</p><p>This is very friendly to the branch predictor since the branch consecutively goes the same direction many times.
Even a simple saturating counter will correctly predict the branch except for the few iterations after it switches direction.</p><p><strong>Quick visualization:</strong></p><pre><code>T = branch taken
N = branch not taken

data[] = 0, 1, 2, 3, 4, ... 126, 127, 128, 129, 130, ... 250, 251, 252, ...
branch = N  N  N  N  N  ...   N    N    T    T    T  ...   T    T    T  ...

       = NNNNNNNNNNNN ... NNNNNNNTTTTTTTTT ... TTTTTTTTTT  (easy to predict)
</code></pre><p>However, when the data is completely random, the branch predictor is rendered useless because it can't predict random data.
Thus there will probably be around 50% misprediction. (no better than random guessing)</p><pre><code>data[] = 226, 185, 125, 158, 198, 144, 217, 79, 202, 118,  14, 150, 177, 182, 133, ...
branch =   T,   T,   N,   T,   T,   T,   T,  N,   T,   N,   N,   T,   T,   T,   N  ...

       = TTNTTTTNTNNTTTN ...   (completely random - hard to predict)
</code></pre><p><strong>So what can be done?</strong></p><p>If the compiler isn't able to optimize the branch into a conditional move, you can try some hacks if you are willing to sacrifice readability for performance.</p><p>Replace:</p><pre><code>if (data[c] &gt;= 128)
    sum += data[c];
</code></pre><p>with:</p><pre><code>int t = (data[c] - 128) &gt;&gt; 31;
sum += ~t &amp; data[c];
</code></pre><p>This eliminates the branch and replaces it with some bitwise operations.</p><p><sub>(Note that this hack is not strictly equivalent to the original if-statement. But in this case, it's valid for all the input values of <code>data[]</code>.)</sub></p><p><strong>Benchmarks: Core i7 920 @ 3.5 GHz</strong></p><p>C++ - Visual Studio 2010 - x64 Release</p><pre><code>//  Branch - Random
seconds = 11.777

//  Branch - Sorted
seconds = 2.352

//  Branchless - Random
seconds = 2.564

//  Branchless - Sorted
seconds = 2.587
</code></pre><p>Java - Netbeans 7.1.1 JDK 7 - x64</p><pre><code>//  Branch - Random
seconds = 10.93293813

//  Branch - Sorted
seconds = 5.643797077

//  Branchless - Random
seconds = 3.113581453

//  Branchless - Sorted
seconds = 3.186068823
</code></pre><p>Observations:</p><li><strong>With the Branch:</strong> There is a huge difference between the sorted and unsorted data.</li><li><strong>With the Hack:</strong> There is no difference between sorted and unsorted data.</li><li>In the C++ case, the hack is actually a tad slower than with the branch when the data is sorted.</li><p>A general rule of thumb is to avoid data-dependent branching in critical loops. (such as in this example)</p><p><strong>Update :</strong></p><li><p>GCC 4.6.1 with <code>-O3</code> or <code>-ftree-vectorize</code> on x64 is able to generate a conditional move. So there is no difference between the sorted and unsorted data - both are fast.</p></li><p>GCC 4.6.1 with <code>-O3</code> or <code>-ftree-vectorize</code> on x64 is able to generate a conditional move. So there is no difference between the sorted and unsorted data - both are fast.</p><li><p>VC++ 2010 is unable to generate conditional moves for this branch even under <code>/Ox</code>.</p></li><p>VC++ 2010 is unable to generate conditional moves for this branch even under <code>/Ox</code>.</p><li><p>Intel Compiler 11 does something miraculous. It <a href="//en.wikipedia.org/wiki/Loop_interchange" rel="nofollow noreferrer">interchanges the two loops</a>, thereby hoisting the unpredictable branch to the outer loop. So not only is it immune the mispredictions, it is also twice as fast as whatever VC++ and GCC can generate! In other words, ICC took advantage of the test-loop to defeat the benchmark...</p></li><p>Intel Compiler 11 does something miraculous. It <a href="//en.wikipedia.org/wiki/Loop_interchange" rel="nofollow noreferrer">interchanges the two loops</a>, thereby hoisting the unpredictable branch to the outer loop. So not only is it immune the mispredictions, it is also twice as fast as whatever VC++ and GCC can generate! In other words, ICC took advantage of the test-loop to defeat the benchmark...</p><li><p>If you give the Intel Compiler the branchless code, it just out-right vectorizes it... and is just as fast as with the branch (with the loop interchange).</p></li><p>If you give the Intel Compiler the branchless code, it just out-right vectorizes it... and is just as fast as with the branch (with the loop interchange).</p><p>This goes to show that even mature modern compilers can vary wildly in their ability to optimize code...</p></body></html>

===ID===
584e5a503e2ca51be94feda2
===QUESTION===
Why use getters and setters?
What's the advantage of using getters and setters - that only get and set - instead of simply using public fields for those variables? If getters and setters are ever doing more than just the simple get/set, I can figure this one out very quickly, but I'm not 100% clear on how: is any worse than: Whereas the former takes a lot less boilerplate code. 
 Compiling the list up here at the top of what seemed winners to me, from the viewpoint of a Java web dev: 
===LINK===
http://stackoverflow.com/questions/1568091/why-use-getters-and-setters
===KEYWORDS===
takes 
===ANSWER===
550
<html><body><p><strong>There are actually <em>many good reasons</em> to consider using accessors</strong> rather than directly exposing fields of a class - beyond just the argument of encapsulation and making future changes easier. </p><p><em>Here are the some of the reasons I am aware of:</em></p><li>Encapsulation of behavior associated with getting or setting the property - this allows additional functionality (like validation) to be added more easily later.</li><li>Hiding the internal representation of the property while exposing a property using an alternative representation.</li><li>Insulating your public interface from change - allowing the public interface to remain constant while the implementation changes without affecting existing consumers.</li><li>Controlling the lifetime and memory management (disposal) semantics of the property - particularly important in non-managed memory environments (like C++ or Objective-C).</li><li>Providing a debugging interception point for when a property changes at runtime - debugging when and where a property changed to a particular value can be quite difficult without this in some languages.</li><li>Improved interoperability with libraries that are designed to operate against property getter/setters - Mocking, Serialization, and WPF come to mind.</li><li>Allowing inheritors to change the semantics of how the property behaves and is exposed by overriding the getter/setter methods.</li><li>Allowing the getter/setter to be passed around as lambda expressions rather than values.</li><li>Getters and setters can allow different access levels - for example the get may be public, but the set could be protected.</li></body></html>

===ID===
584e5a513e2ca51be94feda3
===QUESTION===
Java string to date conversion
Can somebody recommend the best way to convert a string in the format 'January 2, 2010' to a date in java?  Ultimately, I want to break out the month, the day, and the year as integers so that I can use: to convert the date into time. 
===LINK===
http://stackoverflow.com/questions/4216745/java-string-to-date-conversion
===KEYWORDS===
integers 
===ANSWER===
1079
<html><body><p>Don't do it, that's the hard way.  Moreover, those setter methods of <code>java.util.Date</code> are deprecated since Java 1.1 (1997). <a href="http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html">Simply format date using <code>SimpleDateFormat</code> using a format pattern matching the input string</a>.</p><p>In your specific case of "January 2, 2010" as input string, "January" is the full text month, so use <code>MMMM</code> pattern for it, "2" is the short day-of-month, so use <code>d</code> pattern for it, "2010" is the 4-digit year, so use <code>yyyy</code> pattern for it.</p><pre><code>String string = "January 2, 2010";
DateFormat format = new SimpleDateFormat("MMMM d, yyyy", Locale.ENGLISH);
Date date = format.parse(string);
System.out.println(date); // Sat Jan 02 00:00:00 GMT 2010
</code></pre><p>Note the importance of explicit <code>Locale</code> argument. If you omit it, then it will use the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#getDefault--">default locale</a> which is not necessarily English as used in the month name of the input string. If the locale doesn't match with the input string, then you would confusingly get a <code>java.text.ParseException</code> even though when the format pattern seems valid.</p><p>Here's an extract of relevance from <a href="http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html">the javadoc</a>, listing all available format patterns:</p><pre class="lang-none prettyprint-override"><code>Letter  Date or Time Component  Presentation        Examples
------  ----------------------  ------------------  -------------------------------------
G       Era designator          Text                AD
y       Year                    Year                1996; 96
Y       Week year               Year                2009; 09
M/L     Month in year           Month               July; Jul; 07
w       Week in year            Number              27
W       Week in month           Number              2
D       Day in year             Number              189
d       Day in month            Number              10
F       Day of week in month    Number              2
E       Day in week             Text                Tuesday; Tue
u       Day number of week      Number              1
a       Am/pm marker            Text                PM
H       Hour in day (0-23)      Number              0
k       Hour in day (1-24)      Number              24
K       Hour in am/pm (0-11)    Number              0
h       Hour in am/pm (1-12)    Number              12
m       Minute in hour          Number              30
s       Second in minute        Number              55
S       Millisecond             Number              978
z       Time zone               General time zone   Pacific Standard Time; PST; GMT-08:00
Z       Time zone               RFC 822 time zone   -0800
X       Time zone               ISO 8601 time zone  -08; -0800; -08:00
</code></pre><p>Note that the patterns are case sensitive and that text based patterns of 4 characters or more represents the full form, otherwise a short or abbreviated form is used if available. So e.g. <code>MMMMM</code> or more is unnecessary.</p><p>Here are some examples of valid <code>SimpleDateFormat</code> patterns to parse a given string to date:</p><pre class="lang-none prettyprint-override"><code>Input string                            Pattern
------------------------------------    ----------------------------
2001.07.04 AD at 12:08:56 PDT           yyyy.MM.dd G 'at' HH:mm:ss z
Wed, Jul 4, '01                         EEE, MMM d, ''yy
12:08 PM                                h:mm a
12 o'clock PM, Pacific Daylight Time    hh 'o''clock' a, zzzz
0:08 PM, PDT                            K:mm a, z
02001.July.04 AD 12:08 PM               yyyyy.MMMM.dd GGG hh:mm aaa
Wed, 4 Jul 2001 12:08:56 -0700          EEE, d MMM yyyy HH:mm:ss Z
010704120856-0700                       yyMMddHHmmssZ
2001-07-04T12:08:56.235-0700            yyyy-MM-dd'T'HH:mm:ss.SSSZ
2001-07-04T12:08:56.235-07:00           yyyy-MM-dd'T'HH:mm:ss.SSSXXX
2001-W27-3                              YYYY-'W'ww-u
</code></pre><p>Important note is that <code>SimpleDateFormat</code> is <strong>not</strong> thread safe. In other words, you should never declare and assign it as a static or instance variable and then reuse from different methods/threads. You should always create it brand new within the method local scope.</p><p>If you happen to be on Java 8 already, then use <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html"><code>DateTimeFormatter</code></a> (also here, click the link to see all predefined formatters and available format patterns; <a href="https://docs.oracle.com/javase/tutorial/datetime/iso/format.html">the tutorial is available here</a>). This new API is inspired by <a href="http://www.joda.org/joda-time/">JodaTime</a>.</p><pre><code>String string = "January 2, 2010";
DateTimeFormatter formatter = DateTimeFormatter.ofPattern("MMMM d, yyyy", Locale.ENGLISH);
LocalDate date = LocalDate.parse(string, formatter);
System.out.println(date); // 2010-01-02
</code></pre><p>Note: if your format pattern happens to contain the time part as well, then use <a href="https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#parse-java.lang.CharSequence-java.time.format.DateTimeFormatter-"><code>LocalDateTime#parse(text, formatter)</code></a> instead of <a href="https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-java.time.format.DateTimeFormatter-"><code>LocalDate#parse(text, formatter)</code></a>. And, if your format pattern happens to contain the time zone as well, then use <a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#parse-java.lang.CharSequence-java.time.format.DateTimeFormatter-"><code>ZonedDateTime#parse(text, formatter)</code></a> instead.</p><p>Here's an extract of relevance from <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html">the javadoc</a>, listing all available format patterns:</p><pre class="lang-none prettyprint-override"><code>Symbol  Meaning                     Presentation  Examples
------  --------------------------  ------------  ----------------------------------------------
G       era                         text          AD; Anno Domini; A
u       year                        year          2004; 04
y       year-of-era                 year          2004; 04
D       day-of-year                 number        189
M/L     month-of-year               number/text   7; 07; Jul; July; J
d       day-of-month                number        10

Q/q     quarter-of-year             number/text   3; 03; Q3; 3rd quarter
Y       week-based-year             year          1996; 96
w       week-of-week-based-year     number        27
W       week-of-month               number        4
E       day-of-week                 text          Tue; Tuesday; T
e/c     localized day-of-week       number/text   2; 02; Tue; Tuesday; T
F       week-of-month               number        3

a       am-pm-of-day                text          PM
h       clock-hour-of-am-pm (1-12)  number        12
K       hour-of-am-pm (0-11)        number        0
k       clock-hour-of-am-pm (1-24)  number        0

H       hour-of-day (0-23)          number        0
m       minute-of-hour              number        30
s       second-of-minute            number        55
S       fraction-of-second          fraction      978
A       milli-of-day                number        1234
n       nano-of-second              number        987654321
N       nano-of-day                 number        1234000000

V       time-zone ID                zone-id       America/Los_Angeles; Z; -08:30
z       time-zone name              zone-name     Pacific Standard Time; PST
O       localized zone-offset       offset-O      GMT+8; GMT+08:00; UTC-08:00;
X       zone-offset 'Z' for zero    offset-X      Z; -08; -0830; -08:30; -083015; -08:30:15;
x       zone-offset                 offset-x      +0000; -08; -0830; -08:30; -083015; -08:30:15;
Z       zone-offset                 offset-Z      +0000; -0800; -08:00;
</code></pre><p>Do note that it has several <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#predefined">predefined formatters</a> for the more popular patterns. So instead of e.g. <code>DateTimeFormatter.ofPattern("EEE, d MMM yyyy HH:mm:ss Z", Locale.ENGLISH);</code>, you could use <code>DateTimeFormatter.RFC_1123_DATE_TIME</code>. This is possible because they are, on the contrary to <code>SimpleDateFormat</code>, thread safe. You could thus also define your own, if necessary.</p><p>For particular input string format, you don't need to use an explicit <code>DateTimeFormatter</code>: a standard <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> date, like 2016-09-26T17:44:57Z,  can be parsed directly with <a href="https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#parse-java.lang.CharSequence-"><code>LocalDateTime#parse(text)</code></a> as it already uses the <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME"><code>ISO_LOCAL_DATE_TIME</code></a> formatter. Similarly, <a href="https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-"><code>LocalDate#parse(text)</code></a> parses a ISO date without the time component (see <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE"><code>ISO_LOCAL_DATE</code></a>), and <a href="https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#parse-java.lang.CharSequence-"><code>ZonedDateTime#parse(text)</code></a> parses an ISO date with an offset and time zone added (see <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_ZONED_DATE_TIME"><code>ISO_ZONED_DATE_TIME</code></a>).</p></body></html>

===ID===
584e5a513e2ca51be94feda4
===QUESTION===
Why is my Spring @Autowired field null?
Note: This is intended to be a canonical answer for a common problem. I have a Spring  @Service  class ( MileageFeeCalculator ) that has an  @Autowired  field ( rateService ), but the field is  null  when I try to use it. The logs show that both the  MileageFeeCalculator  bean and the  MileageRateService  bean are being created, but I get a  NullPointerException  whenever I try to call the  mileageCharge  method on my service bean. Why isn't Spring autowiring the field? Controller class: Service class: Service bean that should be autowired in  MileageFeeCalculator  but it isn't: When I try to  GET /mileage/3 , I get this exception: 
===LINK===
http://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null
===KEYWORDS===
exception 
===ANSWER===
321
<html><body><p>The field annotated <code>@Autowired</code> is <code>null</code> because Spring doesn't know about the copy of <code>MileageFeeCalculator</code> that you created with <code>new</code> and didn't know to autowire it.</p><p><a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html">The Spring Inversion of Control (IoC) container</a> has three main logical components: a registry (called the <code>ApplicationContext</code>) of components (beans) that are available to be used by the application, a configurer system that injects objects' dependencies into them by matching up the dependencies with beans in the context, and a dependency solver that can look at a configuration of many different beans and determine how to instantiate and configure them in the necessary order.</p><p>The IoC container isn't magic, and it has no way of knowing about Java objects unless you somehow inform it of them. When you call <code>new</code>, the JVM instantiates a copy of the new object and hands it straight to you--it never goes through the configuration process. There are three ways that you can get your beans configured.</p><p>I have posted all of this code, using Spring Boot to launch, at <a href="https://github.com/chrylis/spring_autowired_npe_example">this GitHub project</a>; you can look at a full running project for each approach to see everything you need to make it work. <strong>Tag with the <code>NullPointerException</code>: <a href="https://github.com/chrylis/spring_autowired_npe_example/tree/nonworking"><code>nonworking</code></a></strong></p><p>The most preferable option is to let Spring autowire all of your beans; this requires the least amount of code and is the most maintainable. To make the autowiring work like you wanted, also autowire the <code>MileageFeeCalculator</code> like this:</p><pre><code>@Controller
public class MileageFeeController {

    @Autowired
    private MileageFeeCalculator calc;

    @RequestMapping("/mileage/{miles}")
    @ResponseBody
    public float mileageFee(@PathVariable int miles) {
        return calc.mileageCharge(miles);
    }
}
</code></pre><p>If you need to create a new instance of your service object for different requests, you can still use injection by using <a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-factory-scopes">the Spring bean scopes</a>.</p><p><strong>Tag that works by injecting the <code>@MileageFeeCalculator</code> service object: <a href="https://github.com/chrylis/spring_autowired_npe_example/tree/working-inject-bean"><code>working-inject-bean</code></a></strong></p><p>If you really need objects created with <code>new</code> to be autowired, you can <a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-atconfigurable">use the Spring <code>@Configurable</code> annotation along with AspectJ compile-time weaving</a> to inject your objects. This approach inserts code into your object's constructor that alerts Spring that it's being created so that Spring can configure the new instance. This requires a bit of configuration in your build (such as compiling with <code>ajc</code>) and turning on Spring's runtime configuration handlers (<code>@EnableSpringConfigured</code> with the JavaConfig syntax). This approach is used by the Roo Active Record system to allow <code>new</code> instances of your entities to get the necessary persistence information injected.</p><pre><code>@Service
@Configurable
public class MileageFeeCalculator {

    @Autowired
    private MileageRateService rateService;

    public float mileageCharge(final int miles) {
        return (miles * rateService.ratePerMile());
    }
}
</code></pre><p><strong>Tag that works by using <code>@Configurable</code> on the service object: <a href="https://github.com/chrylis/spring_autowired_npe_example/tree/working-configurable"><code>working-configurable</code></a></strong></p><p>This approach is suitable only for interfacing with legacy code in special situations. It is nearly always preferable to create a singleton adapter class that Spring can autowire and the legacy code can call, but it is possible to directly ask the Spring application context for a bean.</p><p>To do this, you need a class to which Spring can give a reference to the <code>ApplicationContext</code> object:</p><pre><code>@Component
public class ApplicationContextHolder implements ApplicationContextAware {
    private static ApplicationContext context;

    @Override
    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {
        context = applicationContext;   
    }

    public static ApplicationContext getContext() {
        return context;
    }
}
</code></pre><p>Then your legacy code can call <code>getContext()</code> and retrieve the beans it needs:</p><pre><code>@Controller
public class MileageFeeController {    
    @RequestMapping("/mileage/{miles}")
    @ResponseBody
    public float mileageFee(@PathVariable int miles) {
        MileageFeeCalculator calc = ApplicationContextHolder.getContext().getBean(MileageFeeCalculator.class);
        return calc.mileageCharge(miles);
    }
}
</code></pre><p><strong>Tag that works by manually looking up the service object in the Spring context: <a href="https://github.com/chrylis/spring_autowired_npe_example/tree/working-manual-lookup"><code>working-manual-lookup</code></a></strong></p></body></html>

===ID===
584e5a523e2ca51be94feda5
===QUESTION===
What does a “Cannot find symbol” compilation error mean?
Please explain the following about the "Cannot find symbol" error: This question is designed to be a comprehensive question about "cannot find symbol" compilation errors in Java. 
===LINK===
http://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-compilation-error-mean
===KEYWORDS===
java 
===ANSWER===
153
<html><body><p>Firstly, it is a <em>compilation error</em><sup>1</sup>.  It means that <em>either</em> there is a problem in your Java source code, <em>or</em> there is a problem in the way that you are compiling it.</p><p>Your Java source code consists of the following things:</p><li>Keywords: like <code>true</code>, <code>false</code>, <code>class</code>, <code>while</code>, and so on.</li><li>Literals: like <code>42</code> and <code>'X'</code> and <code>"Hi mum!"</code>.</li><li>Operators and other non-alphanumeric tokens: like <code>+</code>, <code>=</code>, <code>{</code>, and so on.</li><li>Identifiers: like <code>Reader</code>, <code>i</code>, <code>toString</code>, <code>processEquibalancedElephants</code>, and so on.</li><li>Comments and whitespace.</li><p>A "Cannot find symbol" error is about the identifiers.  When your code is compiled, the compiler needs to work out what each and every identifier in your code means.  </p><p>A "Cannot find symbol" error means that the compiler cannot do this.  Your code appears to be referring to something that the compiler doesn't understand.</p><p>As a first order, there is only one cause.  The compiler looked in all of the places where the identifier <em>should</em> be defined, and it couldn't find the definition.  This could be caused by a number of things.  The common ones are as follows:</p><li>For identifiers in general:

<ul>
<li>Perhaps you spelled the name incorrectly; i.e. <code>StringBiulder</code> instead of <code>StringBuilder</code>.  Java cannot and will not attempt to compensate for bad spelling or typing errors.</li>
<li>Perhaps you got the case wrong; i.e. <code>stringBuilder</code> instead of <code>StringBuilder</code>.  All Java identifiers are case sensitive.</li>
<li>Perhaps you used underscores inappropriately; i.e. <code>mystring</code> and <code>my_string</code> are different.  (If you stick to the Java style rules, you will be largely protected from this mistake ...)</li>
</ul></li><li>Perhaps you spelled the name incorrectly; i.e. <code>StringBiulder</code> instead of <code>StringBuilder</code>.  Java cannot and will not attempt to compensate for bad spelling or typing errors.</li><li>Perhaps you got the case wrong; i.e. <code>stringBuilder</code> instead of <code>StringBuilder</code>.  All Java identifiers are case sensitive.</li><li>Perhaps you used underscores inappropriately; i.e. <code>mystring</code> and <code>my_string</code> are different.  (If you stick to the Java style rules, you will be largely protected from this mistake ...)</li><li>For identifiers that should refer to variables:

<ul>
<li>Perhaps you forgot to declare the variable.</li>
<li>Perhaps the variable declaration is out of scope at the point you tried to use it.  (See example below)</li>
</ul></li><li>Perhaps you forgot to declare the variable.</li><li>Perhaps the variable declaration is out of scope at the point you tried to use it.  (See example below)</li><li>For identifiers that should be method names:

<ul>
<li>Perhaps you are trying to refer to an inherited method that wasn't declared in the parent / ancestor classes or interfaces.</li>
</ul></li><li>Perhaps you are trying to refer to an inherited method that wasn't declared in the parent / ancestor classes or interfaces.</li><li><p>For identifiers that should be class names:</p>
<ul>
<li>Perhaps you forgot to import the class.</li>
<li>Perhaps you used "star" imports, but the class isn't defined in any of the packages that you imported.</li>
<li><p>Perhaps you forgot a <code>new</code> as in:</p>
<pre><code>String s = String();  // should be 'new String()'
</code></pre></li>
</ul></li><p>For identifiers that should be class names:</p><li>Perhaps you forgot to import the class.</li><li>Perhaps you used "star" imports, but the class isn't defined in any of the packages that you imported.</li><li><p>Perhaps you forgot a <code>new</code> as in:</p>
<pre><code>String s = String();  // should be 'new String()'
</code></pre></li><p>Perhaps you forgot a <code>new</code> as in:</p><pre><code>String s = String();  // should be 'new String()'
</code></pre><p>The problem is often a combination of the above.  For example, maybe you "star" imported <code>java.io.*</code> and then tried to use the <code>Files</code> class ... which is in <code>java.nio</code> not <code>java.io</code>.  Or maybe you meant to write <code>File</code> ... which <em>is</em> a class in <code>java.io</code>.</p><p>Here is an example of how incorrect variable scoping can lead to a "Cannot find symbol" error:</p><pre><code>for (int i = 0; i &lt; strings.size(); i++) {
    if (strings.get(i).equalsIgnoreCase("fnoord")) {
        break;
    }
}
if (i &lt; strings.size()) {
    ...
}
</code></pre><p>This will give a "Cannot find symbol" error for <code>i</code> in the <code>if</code> statement.  Though we previously declared <code>i</code>, that declaration is only <em>in scope</em> for the <code>for</code> statement and its body.  The reference to <code>i</code> in the <code>if</code> statement <em>cannot see</em> that declaration of <code>i</code>.  It is <em>out of scope</em>.</p><p>(An appropriate correction here might be to move the <code>if</code> statement inside the loop, or to declare <code>i</code> before the start of the loop.)</p><p>There is another reason why the compiler might not find a symbol if you are compiling from the command line.  You might simply have forgotten to compile or recompile some other class.  For example, if you have classes <code>Foo</code> and <code>Bar</code> where <code>Foo</code> uses <code>Bar</code>.  If you have never compiled <code>Bar</code> and you run <code>javac Foo.java</code>, you are liable to find that the compiler can't find the symbol <code>Bar</code>.  The simple answer is to <code>Foo</code> and <code>Bar</code> together; e.g. <code>javac Foo.java Bar.java</code> or <code>javac *.java</code>.  Or better still use a Java build tool; e.g. Ant, Maven, Gradle and so on.</p><p>There are some other more obscure causes too ... which I will deal with below.</p><p>Generally speaking, you start out by figuring out what <em>caused</em> the problem.  Then you <em>think</em> about what your code is supposed to be saying.  Then finally you work out what correction you need to make to your source code to do what you want.</p><p>Note that not every "correction" is correct. Consider this:</p><pre><code>for (int i = 1; i &lt; 10; i++) {
    for (j = 1; j &lt; 10; j++) {
        ...
    }
}
</code></pre><p>Suppose that the compiler says "Cannot find symbol" for <code>j</code>.  There are many ways I could "fix" that:</p><li>I could change the inner <code>for</code> to <code>for (int j = 1; j &lt; 10; j++)</code> - probably correct.</li><li>I could add a declaration for <code>j</code> <em>before</em> the inner <code>for</code> loop, or the outer <code>for</code> loop - possibly correct.</li><li>I could change <code>j</code> to <code>i</code> in the inner <code>for</code> loop - probably wrong!</li><li>and so on.</li><p>The point is that you <em>need</em> to understand what your code is trying to do in order to find the right fix.</p><p>Here are a couple of cases where the "Cannot find symbol" is seemingly inexplicable ... until you look closer.</p><li><p><strong>You are looking at the wrong source code</strong>:  It often happens that a new Java programmers don't understand how the Java tool chain works, or haven't implemented a repeatable "build process"; e.g. using an IDE, Ant, Maven, Gradle and so on.  In such a situation, the programmer can end up chasing his tail looking for an illusory error that is <em>actually</em> caused by not recompiling the code properly, and the like ...</p></li><p><strong>You are looking at the wrong source code</strong>:  It often happens that a new Java programmers don't understand how the Java tool chain works, or haven't implemented a repeatable "build process"; e.g. using an IDE, Ant, Maven, Gradle and so on.  In such a situation, the programmer can end up chasing his tail looking for an illusory error that is <em>actually</em> caused by not recompiling the code properly, and the like ...</p><li><p><strong>IDE issues</strong>: People have reported cases where their IDE gets confused and the compiler in the IDE cannot find a class that exists ... or the reverse situation.  </p>
<ul>
<li><p>This can happen if the IDE's caches get out of sync with the file system.  There are IDE specific ways to fix that.</p></li>
<li><p>This could be an IDE bug.  For instance @Joel Costigliola describes a scenario where Eclipse does not handle a Maven "test" tree correctly; see <a href="http://stackoverflow.com/a/37207223/139985">http://stackoverflow.com/a/37207223/139985</a>.</p></li>
</ul></li><p><strong>IDE issues</strong>: People have reported cases where their IDE gets confused and the compiler in the IDE cannot find a class that exists ... or the reverse situation.  </p><li><p>This can happen if the IDE's caches get out of sync with the file system.  There are IDE specific ways to fix that.</p></li><p>This can happen if the IDE's caches get out of sync with the file system.  There are IDE specific ways to fix that.</p><li><p>This could be an IDE bug.  For instance @Joel Costigliola describes a scenario where Eclipse does not handle a Maven "test" tree correctly; see <a href="http://stackoverflow.com/a/37207223/139985">http://stackoverflow.com/a/37207223/139985</a>.</p></li><p>This could be an IDE bug.  For instance @Joel Costigliola describes a scenario where Eclipse does not handle a Maven "test" tree correctly; see <a href="http://stackoverflow.com/a/37207223/139985">http://stackoverflow.com/a/37207223/139985</a>.</p><li><p><strong>Redefining system classes</strong>: I've seen cases where the compiler complains that <code>substring</code> is an unknown symbol in something like the following</p>
<pre><code>String s = ...
String s1 = s.substring(1);
</code></pre>
<p>It turned out that the programmer had created their own version of <code>String</code> and that his version of the class didn't define a <code>substring</code> methods.</p>
<p>Lesson: Don't define your own classes with the same names as common library classes!</p></li><p><strong>Redefining system classes</strong>: I've seen cases where the compiler complains that <code>substring</code> is an unknown symbol in something like the following</p><pre><code>String s = ...
String s1 = s.substring(1);
</code></pre><p>It turned out that the programmer had created their own version of <code>String</code> and that his version of the class didn't define a <code>substring</code> methods.</p><p>Lesson: Don't define your own classes with the same names as common library classes!</p><li><p><strong>Homoglyphs:</strong>  If you use UTF-8 encoding for your source files, it is possible to have identifiers that <em>look</em> the same, but are in fact different because they contain homoglyphs.   See <a href="http://en.wikipedia.org/wiki/Homoglyph">this page</a> for more information.  </p>
<p>You can avoid this by restricting yourself to ASCII or Latin-1 as the source file encoding, and using Java <code>\uxxxx</code> escapes for other characters.</p></li><p><strong>Homoglyphs:</strong>  If you use UTF-8 encoding for your source files, it is possible to have identifiers that <em>look</em> the same, but are in fact different because they contain homoglyphs.   See <a href="http://en.wikipedia.org/wiki/Homoglyph">this page</a> for more information.  </p><p>You can avoid this by restricting yourself to ASCII or Latin-1 as the source file encoding, and using Java <code>\uxxxx</code> escapes for other characters.</p><p><sup>1 - If, perchance, you <em>do</em> see this in a runtime exception or error message, then either you have configured your IDE to run code with compilation errors, or your application is generating and compiling code .. at runtime.</sup></p></body></html>

===ID===
584e5a523e2ca51be94feda6
===QUESTION===
How do I print my Java object without getting “SomeType@2f92e0f4”?
I have a class defined as follows: I tried to print an instance of my class: but I got the following output:  com.foo.Person@2f92e0f4 .  A similar thing happened when I tried to print an array of  Person  objects: I got the output:  [Lcom.foo.Person;@28a418fc What does this output mean? How do I change this output so it contains the name of my person? And how do I print collections of my objects? Note : this is intended as a canonical Q&A about this subject. 
===LINK===
http://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4
===KEYWORDS===
“sometype@2f92e0f4” 
===ANSWER===
198
<html><body><p>All Java objects have a <code>toString()</code> method, which is invoked when you try and print the object. </p><pre><code>System.out.println(myObject);  // invokes myObject.toString()
</code></pre><p>This method is defined in the <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html"><code>Object</code></a> class (the superclass of all Java objects). The <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--"><code>Object.toString()</code></a> method returns a fairly ugly looking string, composed of the name of the class, an <code>@</code> symbol and the <a href="http://stackoverflow.com/questions/3563847/what-is-the-use-of-hashcode-in-java">hashcode</a> of the object in hexadecimal. The code for this looks like:</p><pre><code>// Code of Object.toString()
public String toString() {
    return getClass().getName() + "@" + Integer.toHexString(hashCode());
}
</code></pre><p>A result such as <code>com.foo.MyType@2f92e0f4</code> can therefore be explained as:</p><li><code>com.foo.MyType</code>  - the name of the class, i.e. the class is <code>MyType</code> in the package <code>com.foo</code>.</li><li><code>@</code> - joins the string together</li><li><code>2f92e0f4</code> the hashcode of the object.</li><p>The name of array classes look a little different, which is explained well in the Javadocs for <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--"><code>Class.getName()</code></a>. For instance, <code>[Ljava.lang.String</code> means:</p><li><code>[</code> - an single-dimensional array (as opposed to <code>[[</code> or <code>[[[</code> etc.)</li><li><code>L</code> - the array contains a class or interface</li><li><code>java.lang.String</code> - the type of objects in the array</li><p>To print something different when you call <code>System.out.println(myObject)</code>, you must <a href="https://docs.oracle.com/javase/tutorial/java/IandI/override.html">override</a> the <code>toString()</code> method in your own class. Here's a simple example:</p><pre><code>public class Person {

  private String name;

  // constructors and other methods omitted

  @Override
  public String toString() {
    return name;
  }
}
</code></pre><p>Now if we print a <code>Person</code>, we see their name rather than <code>com.foo.Person@12345678</code>.</p><p>Bear in mind that <code>toString()</code> is just <em>one</em> way for an object to be converted to a string. Typically this output should fully describe your object in a clear and concise manner. A better <code>toString()</code> for our <code>Person</code> class might be:</p><pre><code>@Override
public String toString() {
  return getClass().getSimpleName() + "[name=" + name + "]";
}
</code></pre><p>Which would print, e.g., <code>Person[name=Henry]</code>. That's a really useful piece of data for debugging/testing.</p><p>If you want to focus on just one aspect of your object or include a lot of jazzy formatting, you might be better to define a separate method instead, e.g. <code>String toElegantReport() {...}</code>.</p><p>Many <a href="http://en.wikipedia.org/wiki/Integrated_development_environment">IDEs</a> offer support for auto-generating a <code>toString()</code> method, based on the fields in the class. See docs for <a href="http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-dialog-tostring.htm">Eclipse</a> and <a href="https://plugins.jetbrains.com/plugin/182?pr=idea">IntelliJ</a>, for example. </p><p>Several popular Java libraries offer this feature as well. Some examples include:</p><li><p><a href="http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/builder/ToStringBuilder.html"><code>ToStringBuilder</code></a> from <a href="http://commons.apache.org/proper/commons-lang/">Apache Commons Lang</a></p></li><p><a href="http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/builder/ToStringBuilder.html"><code>ToStringBuilder</code></a> from <a href="http://commons.apache.org/proper/commons-lang/">Apache Commons Lang</a></p><li><p><a href="http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/MoreObjects.html#toStringHelper(java.lang.Object)"><code>MoreObjects.ToStringHelper</code></a> from <a href="https://github.com/google/guava">Google Guava</a></p></li><p><a href="http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/MoreObjects.html#toStringHelper(java.lang.Object)"><code>MoreObjects.ToStringHelper</code></a> from <a href="https://github.com/google/guava">Google Guava</a></p><li><p><a href="http://projectlombok.org/features/ToString.html"><code>@ToString</code></a> annotation from <a href="http://projectlombok.org/">Project Lombok</a></p></li><p><a href="http://projectlombok.org/features/ToString.html"><code>@ToString</code></a> annotation from <a href="http://projectlombok.org/">Project Lombok</a></p><p>So you've created a nice <code>toString()</code> for your class. What happens if that class is placed into an array or a collection?</p><p>If you have an array of objects, you can call <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#toString-java.lang.Object:A-"><code>Arrays.toString()</code></a> to produce a simple representation of the contents of the array. For instance, consider this array of <code>Person</code> objects:</p><pre><code>Person[] people = { new Person("Fred"), new Person("Mike") };
System.out.println(Arrays.toString(people));

// Prints: [Fred, Mike]
</code></pre><p>Note:  this is a call to a <em>static</em> method called <code>toString()</code> in the Arrays class, which is different to what we've been discussing above.</p><p>If you have a <strong>multi-dimensional array</strong>, you can use <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#deepToString-java.lang.Object:A-"><code>Arrays.deepToString()</code></a> to achieve the same sort of output.</p><p>Most collections will produce a pretty output based on calling <code>.toString()</code> on every element.</p><pre><code>List&lt;Person&gt; people = new ArrayList&lt;&gt;();
people.add(new Person("Alice"));
people.add(new Person("Bob"));    
System.out.println(people);

// Prints [Alice, Bob]
</code></pre><p>So you just need to ensure your list elements define a nice <code>toString()</code> as discussed above.</p></body></html>

===ID===
584e5a533e2ca51be94feda7
===QUESTION===
Sending Email in Android using JavaMail API without using the default/built-in app
I am trying to create a mail sending application in Android.  If I use:  This will launch the built-in Android application; I'm trying to send the mail on button click directly  without  using this application. 
===LINK===
http://stackoverflow.com/questions/2020088/sending-email-in-android-using-javamail-api-without-using-the-default-built-in-a
===KEYWORDS===
built 
===ANSWER===
621
<html><body><p>Send e-mail in Android using the JavaMail API using Gmail authentication</p><p><strong>Steps to create a sample Project:</strong></p><p>MailSenderActivity.java</p><pre><code>YOUR PACKAGE;

import android.app.Activity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;

public class MailSenderActivity extends Activity {

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        final Button send = (Button) this.findViewById(R.id.send);
        send.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {
                // TODO Auto-generated method stub

                try {   
                    GMailSender sender = new GMailSender("username@gmail.com", "password");
                    sender.sendMail("This is Subject",   
                            "This is Body",   
                            "user@gmail.com",   
                            "user@yahoo.com");   
                } catch (Exception e) {   
                    Log.e("SendMail", e.getMessage(), e);   
                } 

            }
        });

    }
}
</code></pre><p>GMailSender.java</p><pre><code>YOUR PACKAGE;

import javax.activation.DataHandler;   
import javax.activation.DataSource;   
import javax.mail.Message;   
import javax.mail.PasswordAuthentication;   
import javax.mail.Session;   
import javax.mail.Transport;   
import javax.mail.internet.InternetAddress;   
import javax.mail.internet.MimeMessage;   
import java.io.ByteArrayInputStream;   
import java.io.IOException;   
import java.io.InputStream;   
import java.io.OutputStream;   
import java.security.Security;   
import java.util.Properties;   

public class GMailSender extends javax.mail.Authenticator {   
    private String mailhost = "smtp.gmail.com";   
    private String user;   
    private String password;   
    private Session session;   

    static {   
        Security.addProvider(new com.provider.JSSEProvider());   
    }  

    public GMailSender(String user, String password) {   
        this.user = user;   
        this.password = password;   

        Properties props = new Properties();   
        props.setProperty("mail.transport.protocol", "smtp");   
        props.setProperty("mail.host", mailhost);   
        props.put("mail.smtp.auth", "true");   
        props.put("mail.smtp.port", "465");   
        props.put("mail.smtp.socketFactory.port", "465");   
        props.put("mail.smtp.socketFactory.class",   
                "javax.net.ssl.SSLSocketFactory");   
        props.put("mail.smtp.socketFactory.fallback", "false");   
        props.setProperty("mail.smtp.quitwait", "false");   

        session = Session.getDefaultInstance(props, this);   
    }   

    protected PasswordAuthentication getPasswordAuthentication() {   
        return new PasswordAuthentication(user, password);   
    }   

    public synchronized void sendMail(String subject, String body, String sender, String recipients) throws Exception {   
        try{
        MimeMessage message = new MimeMessage(session);   
        DataHandler handler = new DataHandler(new ByteArrayDataSource(body.getBytes(), "text/plain"));   
        message.setSender(new InternetAddress(sender));   
        message.setSubject(subject);   
        message.setDataHandler(handler);   
        if (recipients.indexOf(',') &gt; 0)   
            message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(recipients));   
        else  
            message.setRecipient(Message.RecipientType.TO, new InternetAddress(recipients));   
        Transport.send(message);   
        }catch(Exception e){

        }
    }   

    public class ByteArrayDataSource implements DataSource {   
        private byte[] data;   
        private String type;   

        public ByteArrayDataSource(byte[] data, String type) {   
            super();   
            this.data = data;   
            this.type = type;   
        }   

        public ByteArrayDataSource(byte[] data) {   
            super();   
            this.data = data;   
        }   

        public void setType(String type) {   
            this.type = type;   
        }   

        public String getContentType() {   
            if (type == null)   
                return "application/octet-stream";   
            else  
                return type;   
        }   

        public InputStream getInputStream() throws IOException {   
            return new ByteArrayInputStream(data);   
        }   

        public String getName() {   
            return "ByteArrayDataSource";   
        }   

        public OutputStream getOutputStream() throws IOException {   
            throw new IOException("Not Supported");   
        }   
    }   
}  
</code></pre><p>JSSE Provider </p><p>JSSEProvider.java</p><pre><code>/*
 *  Licensed to the Apache Software Foundation (ASF) under one or more
 *  contributor license agreements.  See the NOTICE file distributed with
 *  this work for additional information regarding copyright ownership.
 *  The ASF licenses this file to You under the Apache License, Version 2.0
 *  (the "License"); you may not use this file except in compliance with
 *  the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

/**
 * @author Alexander Y. Kleymenov
 * @version $Revision$
 */


import java.security.AccessController;
import java.security.Provider;

public final class JSSEProvider extends Provider {

    public JSSEProvider() {
        super("HarmonyJSSE", 1.0, "Harmony JSSE Provider");
        AccessController.doPrivileged(new java.security.PrivilegedAction&lt;Void&gt;() {
            public Void run() {
                put("SSLContext.TLS",
                        "org.apache.harmony.xnet.provider.jsse.SSLContextImpl");
                put("Alg.Alias.SSLContext.TLSv1", "TLS");
                put("KeyManagerFactory.X509",
                        "org.apache.harmony.xnet.provider.jsse.KeyManagerFactoryImpl");
                put("TrustManagerFactory.X509",
                        "org.apache.harmony.xnet.provider.jsse.TrustManagerFactoryImpl");
                return null;
            }
        });
    }
}
</code></pre><p>ADD 3 jars found in the following link to your Android Project </p><li><a href="http://javamail-android.googlecode.com/files/mail.jar" rel="nofollow noreferrer">mail.jar</a></li><li><a href="http://javamail-android.googlecode.com/files/activation.jar" rel="nofollow noreferrer">activation.jar</a></li><li><a href="http://javamail-android.googlecode.com/files/additionnal.jar" rel="nofollow noreferrer">additional.jar</a></li><p><a href="http://stackoverflow.com/a/6859020/28557">Click here - How to add External Jars</a></p><p>And Don't forget to add this line in your manifest:</p><pre><code>&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
</code></pre><p>Run the project and check your recipient mail account for the mail.
Cheers!!</p><p>Hope this helps</p><p>P.S. And don't forget that you cannot do network operation from any Activity in android.
Hence it is recommended to use <code>AsyncTask</code> or <code>IntentService</code> to avoid network on main thread exception.</p><p>Jar files : <a href="https://code.google.com/p/javamail-android/" rel="nofollow noreferrer">https://code.google.com/p/javamail-android/</a></p></body></html>

===ID===
584e5a533e2ca51be94feda8
===QUESTION===
How to round a number to n decimal places in Java
What I'd like is a method to convert a double to a string which rounds using the half-up method. I.e. if the decimal to be rounded is a 5, it always rounds up the previous number. This is the standard method of rounding most people expect in most situations. I also would like only significant digits to be displayed. That is there should not be any trailing zeroes. I know one method of doing this is to use the String.format method: returns: which is great, however it always displays numbers with 5 decimal places even if they are not significant:  returns: Another method is to use the DecimalFormatter: returns: However as you can see this uses half-even rounding. That is it will round down if the previous digit is even. What I'd like is this: What is the best way to achieve this in Java? 
===LINK===
http://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java
===KEYWORDS===
convert 
===ANSWER===
364
<html><body><p>Use <a href="http://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html#setRoundingMode(java.math.RoundingMode)" rel="nofollow noreferrer"><code>setRoundingMode</code></a>, set the <a href="http://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html" rel="nofollow noreferrer"><code>RoundingMode</code></a> explicitly to handle your issue with the half-even round, then use the format pattern for your required output.</p><p>Example:</p><pre><code>DecimalFormat df = new DecimalFormat("#.####");
df.setRoundingMode(RoundingMode.CEILING);
for (Number n : Arrays.asList(12, 123.12345, 0.23, 0.1, 2341234.212431324)) {
    Double d = n.doubleValue();
    System.out.println(df.format(d));
}
</code></pre><p>gives the output:</p><pre><code>12
123.1235
0.23
0.1
2341234.2125
</code></pre></body></html>

===ID===
584e5a543e2ca51be94feda9
===QUESTION===
How to split a string in Java
I have a string,  "004-034556" , that I want to split into two strings: That means the first string will contain the characters before  '-' , and the second string will contain the characters after  '-' . I also want to check if the string has  '-'  in it. If not, I will throw an exception. How can I do this? 
===LINK===
http://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java
===KEYWORDS===
throw 
===ANSWER===
1531
<html><body><p>Just use the appropriate method: <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-" rel="nofollow noreferrer"><code>String#split()</code></a>.</p><pre><code>String string = "004-034556";
String[] parts = string.split("-");
String part1 = parts[0]; // 004
String part2 = parts[1]; // 034556
</code></pre><p>Note that this takes a <a href="http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#sum" rel="nofollow noreferrer">regular expression</a>, so remember to escape <a href="http://www.regular-expressions.info/characters.html" rel="nofollow noreferrer">special characters</a> if necessary.</p><p><a href="http://www.regular-expressions.info/characters.html" rel="nofollow noreferrer">there</a> are 12 characters with special meanings: the backslash <code>\</code>, the caret <code>^</code>, the dollar sign <code>$</code>, the period or dot <code>.</code>, the vertical bar or pipe symbol <code>|</code>, the question mark <code>?</code>, the asterisk or star <code>*</code>, the plus sign <code>+</code>, the opening parenthesis <code>(</code>, the closing parenthesis <code>)</code>, and the opening square bracket <code>[</code>, the opening curly brace <code>{</code>, These special characters are often called "metacharacters".</p><p>So, if you want to split on e.g. period/dot <code>.</code> which means "<a href="http://www.regular-expressions.info/dot.html" rel="nofollow noreferrer">any character</a>" in regex, use either <a href="http://www.regular-expressions.info/characters.html" rel="nofollow noreferrer">backslash <code>\</code></a> to escape the individual special character like so <code>split("\\.")</code>, or use <a href="http://www.regular-expressions.info/charclass.html" rel="nofollow noreferrer">character class <code>[]</code></a> to represent literal character(s) like so <code>split("[.]")</code>, or use <a href="http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#quote-java.lang.String-" rel="nofollow noreferrer"><code>Pattern#quote()</code></a> to escape the entire string like so <code>split(Pattern.quote("."))</code>.</p><pre><code>String[] parts = string.split(Pattern.quote(".")); // Split on period.
</code></pre><p>To test beforehand if the string contains certain character(s), just use <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#contains-java.lang.CharSequence-" rel="nofollow noreferrer"><code>String#contains()</code></a>.</p><pre><code>if (string.contains("-")) {
    // Split it.
} else {
    throw new IllegalArgumentException("String " + string + " does not contain -");
}
</code></pre><p>No, this does not take a regular expression. For that, use <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#matches-java.lang.String-" rel="nofollow noreferrer"><code>String#matches()</code></a> instead.</p><p>If you'd like to retain the split character in the resulting parts, then make use of <a href="http://www.regular-expressions.info/lookaround.html" rel="nofollow noreferrer">positive lookaround</a>. In case you want to have the split character to end up in left hand side, use positive lookbehind by prefixing <code>?&lt;=</code> group on the pattern.</p><pre><code>String string = "004-034556";
String[] parts = string.split("(?&lt;=-)");
String part1 = parts[0]; // 004-
String part2 = parts[1]; // 034556
</code></pre><p>In case you want to have the split character to end up in right hand side, use positive lookahead by prefixing <code>?=</code> group on the pattern.</p><pre><code>String string = "004-034556";
String[] parts = string.split("(?=-)");
String part1 = parts[0]; // 004
String part2 = parts[1]; // -034556
</code></pre><p>If you'd like to limit the number of resulting parts, then you can supply the desired number as 2nd argument of <code>split()</code> method. </p><pre><code>String string = "004-034556-42";
String[] parts = string.split("-", 2);
String part1 = parts[0]; // 004
String part2 = parts[1]; // 034556-42
</code></pre></body></html>

===ID===
584e5a553e2ca51be94fedaa
===QUESTION===
Sort a Map<Key, Value> by values (Java)
I am relatively new to Java, and often find that I need to sort a  Map<Key, Value>  on the values. Since the values are not unique, I find myself converting the  keySet  into an  array , and sorting that array through  array sort  with a  custom comparator  that sorts on the value associated with the key. Is there an easier way? 
===LINK===
http://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values-java
===KEYWORDS===
map<key 
===ANSWER===
519
<html><body><p>Here's a generic-friendly version you're free to use:</p><pre><code>import java.util.*;

public class MapUtil
{
    public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; 
        sortByValue( Map&lt;K, V&gt; map )
    {
        List&lt;Map.Entry&lt;K, V&gt;&gt; list =
            new LinkedList&lt;Map.Entry&lt;K, V&gt;&gt;( map.entrySet() );
        Collections.sort( list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;()
        {
            public int compare( Map.Entry&lt;K, V&gt; o1, Map.Entry&lt;K, V&gt; o2 )
            {
                return (o1.getValue()).compareTo( o2.getValue() );
            }
        } );

        Map&lt;K, V&gt; result = new LinkedHashMap&lt;K, V&gt;();
        for (Map.Entry&lt;K, V&gt; entry : list)
        {
            result.put( entry.getKey(), entry.getValue() );
        }
        return result;
    }
}
</code></pre><p>And an associated JUnit4 test so you don't have to take my word for it:</p><pre><code>import java.util.*;
import org.junit.*;

public class MapUtilTest
{
    @Test
    public void testSortByValue()
    {
        Random random = new Random(System.currentTimeMillis());
        Map&lt;String, Integer&gt; testMap = new HashMap&lt;String, Integer&gt;(1000);
        for(int i = 0 ; i &lt; 1000 ; ++i) {
            testMap.put( "SomeString" + random.nextInt(), random.nextInt());
        }

        testMap = MapUtil.sortByValue( testMap );
        Assert.assertEquals( 1000, testMap.size() );

        Integer previous = null;
        for(Map.Entry&lt;String, Integer&gt; entry : testMap.entrySet()) {
            Assert.assertNotNull( entry.getValue() );
            if (previous != null) {
                Assert.assertTrue( entry.getValue() &gt;= previous );
            }
            previous = entry.getValue();
        }
    }

}
</code></pre><p>Java 7 Version</p><pre><code>public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; 
    sortByValue( Map&lt;K, V&gt; map )
{
    List&lt;Map.Entry&lt;K, V&gt;&gt; list =
        new LinkedList&lt;&gt;( map.entrySet() );
    Collections.sort( list, new Comparator&lt;Map.Entry&lt;K, V&gt;&gt;()
    {
        @Override
        public int compare( Map.Entry&lt;K, V&gt; o1, Map.Entry&lt;K, V&gt; o2 )
        {
            return ( o1.getValue() ).compareTo( o2.getValue() );
        }
    } );

    Map&lt;K, V&gt; result = new LinkedHashMap&lt;&gt;();
    for (Map.Entry&lt;K, V&gt; entry : list)
    {
        result.put( entry.getKey(), entry.getValue() );
    }
    return result;
}
</code></pre><p>Java 8 Version. This will sort according to the value in ascending order; for descending order, it is just possible to uncomment the call to <code>Collections.reverseOrder()</code>.</p><pre><code>public static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Map&lt;K, V&gt; sortByValue(Map&lt;K, V&gt; map) {
    return map.entrySet()
              .stream()
              .sorted(Map.Entry.comparingByValue(/*Collections.reverseOrder()*/))
              .collect(Collectors.toMap(
                Map.Entry::getKey, 
                Map.Entry::getValue, 
                (e1, e2) -&gt; e1, 
                LinkedHashMap::new
              ));
}
</code></pre></body></html>

===ID===
584e5a563e2ca51be94fedab
===QUESTION===
GUI not working after rewriting to MVC
I'm practicing MVC style programming. I have a Mastermind game in a single file, working fine (maybe apart of the fact that "Check" button is invisible at start). http://paste.pocoo.org/show/226726/ But when I've rewritten it to model, view, controller files - and when I click on empty Pin (that should be updated, and repainted with new color) - noting happens. Can anybody see any problems here ? I've tried placing repaint() in different places, but it simply does not work at all :/ Main :   Model :   View:   Controller: 
===LINK===
http://stackoverflow.com/questions/3066590/gui-not-working-after-rewriting-to-mvc
===KEYWORDS===
color 
===ANSWER===
132
<html><body><p>As you've discovered, the <a href="http://en.wikipedia.org/wiki/Model-view-controller" rel="nofollow noreferrer">Model–View–Controller</a> pattern is no panacea, but it offers some advantages. Rooted in <a href="http://en.wikipedia.org/wiki/Model-view-controller" rel="nofollow noreferrer">MVC</a>, the Swing separable model architecture is discussed in <a href="http://www.oracle.com/technetwork/java/architecture-142923.html" rel="nofollow noreferrer"><em>A Swing Architecture Overview</em></a>. Based on <a href="http://stackoverflow.com/questions/2687871">this outline</a>, the following example shows an <a href="http://en.wikipedia.org/wiki/Model-view-controller" rel="nofollow noreferrer">MVC</a> implementation of a much simpler game that illustrates similar principles. Note that the <code>Model</code> manages a single <code>Piece</code>, chosen at random. In response to a user's selection, the <code>View</code> invokes the <code>check()</code> method, while listening for a response from the <code>Model</code> via <code>update()</code>. The <code>View</code> then updates itself using information obtained from the <code>Model</code>. Similarly, the <code>Controller</code> may <code>reset()</code> the <code>Model</code>. In particular, there is no drawing in the <code>Model</code> and no game logic in the <code>View</code>. This somewhat more complex <a href="http://robotchase.sourceforge.net/" rel="nofollow noreferrer">game</a> was designed to illustrate the same concepts.</p><p>Addendum: I've modified the original example to show how <a href="http://en.wikipedia.org/wiki/Model-view-controller" rel="nofollow noreferrer">MVC</a> allows one to enhance the <code>View</code> without changing the nature of the <code>Model</code>.</p><p>Addendum: As @akf observes, <a href="http://en.wikipedia.org/wiki/Model-view-controller" rel="nofollow noreferrer">MVC</a> hinges on the <a href="http://en.wikipedia.org/wiki/Observer_pattern" rel="nofollow noreferrer">observer pattern</a>. Your <code>Model</code> needs a way to notify the <code>View</code> of changes. Several approaches are widely used:</p><li><p>In the example below, <code>Model</code> extends <a href="http://java.sun.com/javase/6/docs/api/java/util/Observable.html" rel="nofollow noreferrer"><code>Observable</code></a> for simplicity.</p></li><p>In the example below, <code>Model</code> extends <a href="http://java.sun.com/javase/6/docs/api/java/util/Observable.html" rel="nofollow noreferrer"><code>Observable</code></a> for simplicity.</p><li><p>A more common approach uses an <a href="http://java.sun.com/javase/6/docs/api/javax/swing/event/EventListenerList.html" rel="nofollow noreferrer"><code>EventListenerList</code></a>, as shown in the <a href="http://docs.oracle.com/javase/tutorial/uiswing/components/panel.html" rel="nofollow noreferrer"><code>Converter</code></a> application and suggested by the large number of <a href="http://java.sun.com/javase/6/docs/api/java/util/EventListener.html" rel="nofollow noreferrer"><code>EventListener</code></a> subinterfaces and implementing classes.</p></li><p>A more common approach uses an <a href="http://java.sun.com/javase/6/docs/api/javax/swing/event/EventListenerList.html" rel="nofollow noreferrer"><code>EventListenerList</code></a>, as shown in the <a href="http://docs.oracle.com/javase/tutorial/uiswing/components/panel.html" rel="nofollow noreferrer"><code>Converter</code></a> application and suggested by the large number of <a href="http://java.sun.com/javase/6/docs/api/java/util/EventListener.html" rel="nofollow noreferrer"><code>EventListener</code></a> subinterfaces and implementing classes.</p><li><p>A third option is to use a <a href="http://docs.oracle.com/javase/7/docs/api/java/beans/PropertyChangeListener.html" rel="nofollow noreferrer"><code>PropertyChangeListener</code></a>, as shown <a href="http://stackoverflow.com/a/10523401/230513">here</a> and <a href="http://stackoverflow.com/questions/5533581">here</a>.</p></li><p>A third option is to use a <a href="http://docs.oracle.com/javase/7/docs/api/java/beans/PropertyChangeListener.html" rel="nofollow noreferrer"><code>PropertyChangeListener</code></a>, as shown <a href="http://stackoverflow.com/a/10523401/230513">here</a> and <a href="http://stackoverflow.com/questions/5533581">here</a>.</p><p>Addendum: Some common questions about Swing controllers are addressed <a href="http://stackoverflow.com/a/25556585/230513">here</a> and <a href="http://stackoverflow.com/a/23416515/230513">here</a>.</p><p><img alt="screen capture" src="https://i.stack.imgur.com/uaeEq.png"/></p><pre><code>import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Component;
import java.awt.EventQueue;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.RenderingHints;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Observable;
import java.util.Observer;
import java.util.Random;
import javax.swing.Icon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;

/**
 * @see http://stackoverflow.com/q/3066590/230513
 * 15-Mar-2011 r8 http://stackoverflow.com/questions/5274962
 * 26-Mar-2013 r17 per comment
 */
public class MVCGame implements Runnable {

    public static void main(String[] args) {
        EventQueue.invokeLater(new MVCGame());
    }

    @Override
    public void run() {
        JFrame f = new JFrame();
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.add(new MainPanel());
        f.pack();
        f.setLocationRelativeTo(null);
        f.setVisible(true);
    }
}

class MainPanel extends JPanel {

    public MainPanel() {
        super(new BorderLayout());
        Model model = new Model();
        View view = new View(model);
        Control control = new Control(model, view);
        JLabel label = new JLabel("Guess what color!", JLabel.CENTER);
        this.add(label, BorderLayout.NORTH);
        this.add(view, BorderLayout.CENTER);
        this.add(control, BorderLayout.SOUTH);
    }
}

/**
 * Control panel
 */
class Control extends JPanel {

    private Model model;
    private View view;
    private JButton reset = new JButton("Reset");

    public Control(Model model, View view) {
        this.model = model;
        this.view = view;
        this.add(reset);
        reset.addActionListener(new ButtonHandler());
    }

    private class ButtonHandler implements ActionListener {

        @Override
        public void actionPerformed(ActionEvent e) {
            String cmd = e.getActionCommand();
            if ("Reset".equals(cmd)) {
                model.reset();
            }
        }
    }
}

/**
 * View
 */
class View extends JPanel {

    private static final String s = "Click a button.";
    private Model model;
    private ColorIcon icon = new ColorIcon(80, Color.gray);
    private JLabel label = new JLabel(s, icon, JLabel.CENTER);

    public View(Model model) {
        super(new BorderLayout());
        this.model = model;
        label.setVerticalTextPosition(JLabel.BOTTOM);
        label.setHorizontalTextPosition(JLabel.CENTER);
        this.add(label, BorderLayout.CENTER);
        this.add(genButtonPanel(), BorderLayout.SOUTH);
        model.addObserver(new ModelObserver());
    }

    private JPanel genButtonPanel() {
        JPanel panel = new JPanel();
        for (Piece p : Piece.values()) {
            PieceButton pb = new PieceButton(p);
            pb.addActionListener(new ButtonHandler());
            panel.add(pb);
        }
        return panel;
    }

    private class ModelObserver implements Observer {

        @Override
        public void update(Observable o, Object arg) {
            if (arg == null) {
                label.setText(s);
                icon.color = Color.gray;
            } else {
                if ((Boolean) arg) {
                    label.setText("Win!");
                } else {
                    label.setText("Keep trying.");
                }
            }
        }
    }

    private class ButtonHandler implements ActionListener {

        @Override
        public void actionPerformed(ActionEvent e) {
            PieceButton pb = (PieceButton) e.getSource();
            icon.color = pb.piece.color;
            label.repaint();
            model.check(pb.piece);
        }
    }

    private static class PieceButton extends JButton {

        Piece piece;

        public PieceButton(Piece piece) {
            this.piece = piece;
            this.setIcon(new ColorIcon(16, piece.color));
        }
    }

    private static class ColorIcon implements Icon {

        private int size;
        private Color color;

        public ColorIcon(int size, Color color) {
            this.size = size;
            this.color = color;
        }

        @Override
        public void paintIcon(Component c, Graphics g, int x, int y) {
            Graphics2D g2d = (Graphics2D) g;
            g2d.setRenderingHint(
                RenderingHints.KEY_ANTIALIASING,
                RenderingHints.VALUE_ANTIALIAS_ON);
            g2d.setColor(color);
            g2d.fillOval(x, y, size, size);
        }

        @Override
        public int getIconWidth() {
            return size;
        }

        @Override
        public int getIconHeight() {
            return size;
        }
    }
}

/**
 * Model
 */
class Model extends Observable {

    private static final Random rnd = new Random();
    private static final Piece[] pieces = Piece.values();
    private Piece hidden = init();

    private Piece init() {
        return pieces[rnd.nextInt(pieces.length)];
    }

    public void reset() {
        hidden = init();
        setChanged();
        notifyObservers();
    }

    public void check(Piece guess) {
        setChanged();
        notifyObservers(guess.equals(hidden));
    }
}

enum Piece {

    Red(Color.red), Green(Color.green), Blue(Color.blue);
    public Color color;

    private Piece(Color color) {
        this.color = color;
    }
}
</code></pre></body></html>

===ID===
584e5a573e2ca51be94fedac
===QUESTION===
How can I create an executable JAR with dependencies using Maven?
I want to package my project in a single executable JAR for distribution. How can I make Maven package all dependency JARs into my JAR? 
===LINK===
http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven
===KEYWORDS===
maven 
===ANSWER===
1373
<html><body><pre class="lang-xml prettyprint-override"><code>&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
      &lt;configuration&gt;
        &lt;archive&gt;
          &lt;manifest&gt;
            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;
          &lt;/manifest&gt;
        &lt;/archive&gt;
        &lt;descriptorRefs&gt;
          &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;
        &lt;/descriptorRefs&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
</code></pre><p>and you run it with</p><pre class="lang-xml prettyprint-override"><code>mvn clean compile assembly:single
</code></pre><p><em>Compile goal should be added before assembly:single or otherwise the code on your own project is not included.</em></p><p>See more details in comments.</p><p>Commonly this goal is tied to a build phase to execute automatically. This ensures the JAR is built when executing <code>mvn install</code> or performing a deployment/release.</p><pre class="lang-xml prettyprint-override"><code>&lt;plugin&gt;
  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
  &lt;configuration&gt;
    &lt;archive&gt;
      &lt;manifest&gt;
        &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;
      &lt;/manifest&gt;
    &lt;/archive&gt;
    &lt;descriptorRefs&gt;
      &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;
    &lt;/descriptorRefs&gt;
  &lt;/configuration&gt;
  &lt;executions&gt;
    &lt;execution&gt;
      &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;
      &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;
      &lt;goals&gt;
        &lt;goal&gt;single&lt;/goal&gt;
      &lt;/goals&gt;
    &lt;/execution&gt;
  &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre></body></html>

===ID===
584e5a573e2ca51be94fedad
===QUESTION===
What is PECS (Producer Extends Consumer Super)?
I came across PECS (short for  Producer  extends  and Consumer  super ) while reading up on generics.  Can someone explain to me how to use PECS to resolve confusion between  extends  and  super ? 
===LINK===
http://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super
===KEYWORDS===
pecs 
===ANSWER===
467
<html><body><p><strong>tl;dr:</strong> "PECS" is from the collection's point of view. If you are <em>only</em> pulling items from a generic collection, it is a producer and you should use <code>extends</code>; if you are <em>only</em> stuffing items in, it is a consumer and you should use <code>super</code>. If you do both with the same collection, you shouldn't use either <code>extends</code> or <code>super</code>.</p><p>Suppose you have a method that takes as its parameter a collection of things, but you want it to be more flexible than just accepting a <code>Collection&lt;Thing&gt;</code>.</p><p><strong>Case 1: You want to go through the collection and do things with each item.</strong><br>
Then the list is a <strong>producer</strong>, so you should use a <code>Collection&lt;? extends Thing&gt;</code>.</br></p><p>The reasoning is that a <code>Collection&lt;? extends Thing&gt;</code> could hold any subtype of <code>Thing</code>, and thus each element will behave as a <code>Thing</code> when you perform your operation. (You actually cannot add anything to a <code>Collection&lt;? extends Thing&gt;</code>, because you cannot know at runtime which <em>specific</em> subtype of <code>Thing</code> the collection holds.)</p><p><strong>Case 2: You want to add things to the collection.</strong><br>
Then the list is a <strong>consumer</strong>, so you should use a <code>Collection&lt;? super Thing&gt;</code>.</br></p><p>The reasoning here is that unlike <code>Collection&lt;? extends Thing&gt;</code>, <code>Collection&lt;? super Thing&gt;</code> can always hold a <code>Thing</code> no matter what the actual parameterized type is. Here you don't care what is already in the list as long as it will allow a <code>Thing</code> to be added; this is what <code>? super Thing</code> guarantees.</p></body></html>

===ID===
584e5a583e2ca51be94fedae
===QUESTION===
Iterating through a Collection, avoiding ConcurrentModificationException when removing in loop
We all know you can't do this: ConcurrentModificationException  etc... this apparently works sometimes, but not always. Here's some specific code: This, of course, results in: ... even though multiple threads aren't doing it... Anyway. What's the best solution to this problem? How can I remove an item from the collection in a loop without throwing this exception? I'm also using an arbitrary  Collection  here, not necessarily an  ArrayList , so you can't rely on  get . 
===LINK===
http://stackoverflow.com/questions/223918/iterating-through-a-collection-avoiding-concurrentmodificationexception-when-re
===KEYWORDS===
exception 
===ANSWER===
1154
<html><body><p><code>Iterator.remove()</code> is safe, you can use it like this:</p><pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();

// This is a clever way to create the iterator and call iterator.hasNext() like
// you would do in a while-loop. It would be the same as doing:
//     Iterator&lt;String&gt; iterator = list.iterator();
//     while (iterator.hasNext()) {
for (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext();) {
    String string = iterator.next();
    if (string.isEmpty()) {
        // Remove the current element from the iterator and the list.
        iterator.remove();
    }
}
</code></pre><p>Note that <code>Iterator.remove</code> is the only safe way to modify a collection during iteration; the behavior is unspecified if the underlying collection is modified in any other way while the iteration is in progress.</p><p>Source:</p><p><a href="http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html" rel="nofollow noreferrer">http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html</a></p><p>And similarly, if you have a <code>ListIterator</code> and want to <em>add</em> items, you can use <a href="http://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html#add-E-" rel="nofollow noreferrer"><code>ListIterator#add</code></a>, for the same reason you can use <code>Iterator#remove</code> — it's designed to allow it.</p></body></html>

===ID===
584e5a593e2ca51be94fedaf
===QUESTION===
Example images for code and mark-up Q&As [closed]
When preparing an  MCVE / SSCCE  that involves images, it is useful to have direct access to images.   The types of images that would cover most questions are - small images in multiple colors or shapes, animated GIFs with/without transparency, JPEGs that are 'pairs' of pictures & can be used in image transitions, tile sets, sprite sheets.. Are there any small (under 30KB), on-site, license & royalty free images we can hot-link to for these types of examples? 
===LINK===
http://stackoverflow.com/questions/19209650/example-images-for-code-and-mark-up-qas
===KEYWORDS===
pairs 
===ANSWER===
43
<html><body><p>Here are some example images for common use, mostly from existing answers on SO.  </p><p><strong>Simple Geometric shapes</strong> generated using Java as originally seen in <a href="http://stackoverflow.com/a/16052085/418556">this answer</a>.  It includes a Java based interface that defines the URLs and makes them easy to access.</p><p><strong>Details:</strong> 32x32 pixel PNG (4 colors x 5 shapes) with partial transparency (along the edges).</p><p><strong>Categories:</strong> <a class="post-tag" href="/questions/tagged/png" rel="tag" title="show questions tagged 'png'">png</a> <a class="post-tag" href="/questions/tagged/icons" rel="tag" title="show questions tagged 'icons'">icons</a></p><p><img src="https://i.stack.imgur.com/gJmeJ.png">
<img src="https://i.stack.imgur.com/L5DGx.png">
<img src="https://i.stack.imgur.com/in9g1.png">
<img src="https://i.stack.imgur.com/IucNt.png">
<img src="https://i.stack.imgur.com/yoKxT.png">  
  <img src="https://i.stack.imgur.com/T5uTa.png">
<img src="https://i.stack.imgur.com/gYxHm.png">
<img src="https://i.stack.imgur.com/1lgtq.png">
<img src="https://i.stack.imgur.com/yBOv3.png">
<img src="https://i.stack.imgur.com/zJ8am.png"><br>
<img src="https://i.stack.imgur.com/IHARa.png">
<img src="https://i.stack.imgur.com/8BGfi.png">
<img src="https://i.stack.imgur.com/6ZXhi.png">
<img src="https://i.stack.imgur.com/Lqkl0.png">
<img src="https://i.stack.imgur.com/c67nr.png">  
  <img src="https://i.stack.imgur.com/wCF8S.png">
<img src="https://i.stack.imgur.com/5v2TX.png">
<img src="https://i.stack.imgur.com/F0JHK.png">
<img src="https://i.stack.imgur.com/4EVv1.png">
<img src="https://i.stack.imgur.com/xj49g.png"><br/></img></img></img></img></img></img></img></img></img></img></br></img></img></img></img></img></img></img></img></img></img></p><p><strong>Chess Pieces</strong> as originally seen on <a href="http://stackoverflow.com/a/18686753/418556">this answer</a> that includes 2 other sprite sets (same image in different colors).</p><p><strong>Details:</strong> 384x128 px (each sprite 64x64 px) PNG with partial transparency.</p><p><strong>Categories:</strong> <a class="post-tag" href="/questions/tagged/png" rel="tag" title="show questions tagged 'png'">png</a> <a class="post-tag" href="/questions/tagged/sprite-sheet" rel="tag" title="show questions tagged 'sprite-sheet'">sprite-sheet</a> <a class="post-tag" href="/questions/tagged/icons" rel="tag" title="show questions tagged 'icons'">icons</a></p><p><img src="https://i.stack.imgur.com/memI0.png"/></p><p>GIF is the only image format that supports animation.  Here are a few examples.</p><p><strong>Categories:</strong> <a class="post-tag" href="/questions/tagged/gif" rel="tag" title="show questions tagged 'gif'">gif</a> <a class="post-tag" href="/questions/tagged/animated-gif" rel="tag" title="show questions tagged 'animated-gif'">animated-gif</a> </p><p><strong>Animated dashed border</strong> as seen in <a href="http://stackoverflow.com/a/9772978/418556">this answer</a>.</p><p><strong>Details:</strong> 100x30 px with filled BG (no transparency)</p><p><img src="https://i.stack.imgur.com/DnzXV.gif"/></p><p><strong>Zooming stars</strong> as seen in <a href="http://stackoverflow.com/a/10836833/418556">this answer</a>, originally developed as a 'screen-shot' of a screensaver.</p><p><strong>Details:</strong> 160x120 px with filled BG (no transparency)</p><p><img src="https://i.stack.imgur.com/iQFxo.gif"/></p><p><strong>Animated Water</strong> as seen in <a href="http://stackoverflow.com/a/17894012/418556">this answer</a> to <a href="http://stackoverflow.com/q/17893429/418556">Animating Tiles In My Game</a>.</p><p><strong>Details:</strong> 60x60 px with filled BG (no transparency)</p><p><img src="https://i.stack.imgur.com/HXCUV.gif"/></p><p><strong>Orbital animation,</strong> originally developed for <a href="http://1point1c.org/" rel="nofollow noreferrer">1.1C</a>.  The orbits of the 'inner' planets (from Mercury to Jupiter, with an extra orbit shown in the thick of the asteroid belt).  Better on a dark BG.</p><p><strong>Details:</strong> 450x450 &amp; 150x150 px animated GIFs with transparency.  </p><p><img src="https://i.stack.imgur.com/OtTIY.gif"><img src="https://i.stack.imgur.com/z9rv7.gif"/></img></p><p><strong>Sunrise &amp; moonset</strong> over the CBD of Sydney, Australia<br><strong>Sunset &amp; Venus over a telescope</strong> on Mt Stromlo, near Canberra, Australia.</br></p><p><strong>Categories:</strong> <a class="post-tag" href="/questions/tagged/jpeg" rel="tag" title="show questions tagged 'jpeg'">jpeg</a> <a class="post-tag" href="/questions/tagged/slideshow" rel="tag" title="show questions tagged 'slideshow'">slideshow</a> + Image Transitions</p><p><strong>Details:</strong> 480x320 px JPEGs x 4.  (Displayed here at 1/2 size.) </p><p><img height="160" src="https://i.stack.imgur.com/XZ4V5.jpg" width="240"><img height="160" src="https://i.stack.imgur.com/7bI1Y.jpg" width="240"><br>
<img height="160" src="https://i.stack.imgur.com/OVOg3.jpg" width="240"><img height="160" src="https://i.stack.imgur.com/lxthA.jpg" width="240"/></img></br></img></img></p><p>This <strong>Mercator map of Earth</strong> can be tiled left/right.  Originally seen on <a href="http://stackoverflow.com/a/18825844/418556">this answer</a>.  The answer also includes a second version of the image that shows a semi-transparent line for the equator (which is not in the center, but significantly below it).</p><p><strong>Details:</strong> 640x316 px (add 44 px at bottom to center equator) PNG with transparent BG.  </p><p><strong>Categories:</strong> <a class="post-tag" href="/questions/tagged/png" rel="tag" title="show questions tagged 'png'">png</a> <a class="post-tag" href="/questions/tagged/tile" rel="tag" title="show questions tagged 'tile'">tile</a> <a class="post-tag" href="/questions/tagged/animation" rel="tag" title="show questions tagged 'animation'">animation</a> (scrolling)</p><p><img src="https://i.stack.imgur.com/P59NF.png"/></p><p>For getting the URLs of the images, you might 'context click' on the image as seen in the browser and either: </p><li>Show the properties.  The URL can be copied from the dialog that appears.  </li><li>View image.  Copy the URL from the browser address bar.</li><p>Alternately:</p><li>Use the browser 'show source' and copy it from the HTML.</li><li>For those with enough rep. (100+, to edit a community Wiki answer), go to <a href="http://stackoverflow.com/posts/19209651/edit">edit the answer</a> and pull the URL from the text.</li></body></html>

===ID===
584e5a593e2ca51be94fedb0
===QUESTION===
What is an efficient way to implement a singleton pattern in Java?
What is an efficient way to implement a singleton pattern in Java? 
===LINK===
http://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java
===KEYWORDS===
efficient 
===ANSWER===
613
<html><body><p>Use an enum:</p><pre><code>public enum Foo {
    INSTANCE;
}
</code></pre><p>Joshua Bloch explained this approach in his <a href="http://sites.google.com/site/io/effective-java-reloaded" rel="nofollow noreferrer">Effective Java Reloaded</a> talk at Google I/O 2008: <a href="http://www.youtube.com/watch?v=pi_I7oD_uGI#t=28m50s" rel="nofollow noreferrer">link to video</a>. Also see slides 30-32 of his presentation (<a href="https://14b1424d-a-62cb3a1a-s-sites.googlegroups.com/site/io/effective-java-reloaded/effective_java_reloaded.pdf?attachauth=ANoY7crKCOet2NEUGW7RV1XfM-Jn4z8YJhs0qJM11OhLRnFW_JbExkJtvJ3UJvTE40dhAciyWcRIeGJ-n3FLGnMOapHShHINh8IY05YViOJoZWzaohMtM-s4HCi5kjREagi8awWtcYD0_6G7GhKr2BndToeqLk5sBhZcQfcYIyAE5A4lGNosDCjODcBAkJn8EuO6572t2wU1LMSEUgjvqcf4I-Fp6VDhDvih_XUEmL9nuVJQynd2DRpxyuNH1SpJspEIdbLw-WWZ&amp;attredirects=0" rel="nofollow noreferrer">effective_java_reloaded.pdf</a>):</p><pre><code>public enum Elvis {
    INSTANCE;
    private final String[] favoriteSongs =
        { "Hound Dog", "Heartbreak Hotel" };
    public void printFavorites() {
        System.out.println(Arrays.toString(favoriteSongs));
    }
}
</code></pre><p><strong>Edit:</strong> An <a href="http://www.ddj.com/java/208403883?pgno=3" rel="nofollow noreferrer">online portion of "Effective Java"</a> says: </p><p>"This approach is functionally equivalent to the public field approach, except that it is more concise, provides the serialization machinery for free, and provides an ironclad guarantee against multiple instantiation, even in the face of sophisticated serialization or reflection attacks. While this approach has yet to be widely adopted, <strong>a single-element enum type is the best way to implement a singleton</strong>."</p></body></html>

===ID===
584e5a5a3e2ca51be94fedb1
===QUESTION===
Non-static variable cannot be referenced from a static context
I was taught poorly at first, and so I still don't understand everything about  static . My error is with every single variable that I declare and then try to use later inside my methods, I get the "non-static variable cannot ..." error. I can simply put all the rough coding of my methods inside my cases, and it works, but then I cannot use recursion. What I really need is someone to help on the syntax and point me on the right direction of how to have my methods recognize my variables at the top, like  compareCount , etc.: 
===LINK===
http://stackoverflow.com/questions/2559527/non-static-variable-cannot-be-referenced-from-a-static-context
===KEYWORDS===
variables 
===ANSWER===
130
<html><body><p>You must understand the difference between a class and an instance of that class. If you see a car on the street, you know immediately that it's a car even if you can't see which model or type. This is because you compare what you see with the <em>class</em> "car". The class contains which is similar to all cars. Think of it as a template or an idea.</p><p>At the same time, the car you see is an instance of the class "car" since it has all the properties which you expect: There is someone driving it, it has an engine, wheels.</p><p>So the class says "all cars have a color" and the instance says "this specific car is red".</p><p>In the OO world, you define the class and inside the class, you define a field of type <code>Color</code>. When the class is instantiated (when you create a specific instance), memory is reserved for the color and you can give this specific instance a color. Since these attributes are specific, they are non-static.</p><p>Static fields and methods are shared with all instances. They are for values which are specific to the class and not a specific instance. For methods, this usually are global helper methods (like <code>Integer.parseInt()</code>). For fields, it's usually constants (like car types, i.e. something where you have a limited set which doesn't change often).</p><p>To solve your problem, you need to instantiate an instance (create an object) of your class so the runtime can reserve memory for the instance (otherwise, different instances would overwrite each other which you don't want).</p><p>In your case, try this code as a starting block:</p><pre><code>public static void main (String[] args)
{
    try
    {
        MyProgram7 obj = new MyProgram7 ();
        obj.run (args);
    }
    catch (Exception e)
    {
        e.printStackTrace ();
    }
}

// instance variables here

public void run (String[] args) throws Exception
{
    // put your code here
}
</code></pre><p>The new <code>main()</code> method creates an instance of the class it contains (sounds strange but since <code>main()</code> is created with the class instead of with the instance, it can do this) and then calls an instance method (<code>run()</code>).</p></body></html>

===ID===
584e5a5b3e2ca51be94fedb2
===QUESTION===
Is there a unique Android device ID?
Do Android devices have a unique ID, and if so, what is a simple way to access it using Java? 
===LINK===
http://stackoverflow.com/questions/2785485/is-there-a-unique-android-device-id
===KEYWORDS===
simple 
===ANSWER===
1179
<html><body><p><a href="http://developer.android.com/reference/android/provider/Settings.Secure.html#ANDROID_ID" rel="nofollow noreferrer"><code>Settings.Secure#ANDROID_ID</code></a> returns the Android ID as an <em>unique</em> 64-bit hex string.</p><pre><code>import android.provider.Settings.Secure;

private String android_id = Secure.getString(getContext().getContentResolver(),
                                                        Secure.ANDROID_ID); 
</code></pre><p>When reviewing this as a possible solution, please consider <a href="http://stackoverflow.com/a/2853253/166712">Joe's answer</a> below instead as an alternative.</p></body></html>

===ID===
584e5a5c3e2ca51be94fedb3
===QUESTION===
Evaluating a math expression given in string form
I'm trying to write a Java routine to evaluate simple math expressions from  String  values like: I want to avoid a lot of if-then-else statements.
How can I do this? 
===LINK===
http://stackoverflow.com/questions/3422673/evaluating-a-math-expression-given-in-string-form
===KEYWORDS===
write 
===ANSWER===
258
<html><body><p>With JDK1.6, you can use the built-in Javascript engine.</p><pre><code>import javax.script.ScriptEngineManager;
import javax.script.ScriptEngine;

public class Test {
  public static void main(String[] args) throws Exception{
    ScriptEngineManager mgr = new ScriptEngineManager();
    ScriptEngine engine = mgr.getEngineByName("JavaScript");
    String foo = "40+2";
    System.out.println(engine.eval(foo));
    } 
}
</code></pre></body></html>

===ID===
584e5a5c3e2ca51be94fedb4
===QUESTION===
Why am I getting a NoClassDefFoundError in Java?
I am getting a  NoClassDefFoundError  when I run my Java application.  What is typically the cause of this? 
===LINK===
http://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java
===KEYWORDS===
typically 
===ANSWER===
130
<html><body><p>This is caused when there is a class file that your code depends on and it is present at compile time but not found at runtime. Look for differences in your build time and runtime  classpaths. </p></body></html>

===ID===
584e5a5d3e2ca51be94fedb5
===QUESTION===
Sort ArrayList of custom Objects by property
I read about sorting ArrayLists using a Comparator but in all of the examples people used  compareTo  which according to some research is a method for Strings. I wanted to sort an ArrayList of custom objects by one of their properties: a Date object
( getStartDay() ). Normally I compare them by  item1.getStartDate().before(item2.getStartDate())  so I was wondering whether I could write something like: 
===LINK===
http://stackoverflow.com/questions/2784514/sort-arraylist-of-custom-objects-by-property
===KEYWORDS===
sort 
===ANSWER===
950
<html><body><p>Since <a href="//docs.oracle.com/javase/8/docs/api/java/util/Date.html" rel="nofollow noreferrer"><code>Date</code></a> implements <a href="//docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html" rel="nofollow noreferrer"><code>Comparable</code></a>, it has a <code>compareTo</code> method just like <code>String</code> does.</p><p>So your custom <a href="//docs.oracle.com/javase/8/docs/api/java/util/Comparator.html" rel="nofollow noreferrer"><code>Comparator</code></a> could look like this:</p><pre><code>public class CustomComparator implements Comparator&lt;MyObject&gt; {
    @Override
    public int compare(MyObject o1, MyObject o2) {
        return o1.getStartDate().compareTo(o2.getStartDate());
    }
}
</code></pre><p>The <code>compare()</code> method must return an <code>int</code>, so you couldn't directly return a <code>boolean</code> like you were planning to anyway.</p><p>Your sorting code would be just about like you wrote:</p><pre><code>Collections.sort(Database.arrayList, new CustomComparator());
</code></pre><p>A slightly shorter way to write all this, if you don't need to reuse your comparator, is to write it as an inline anonymous class:</p><pre><code>Collections.sort(Database.arrayList, new Comparator&lt;MyObject&gt;() {
    @Override
    public int compare(MyObject o1, MyObject o2) {
        return o1.getStartDate().compareTo(o2.getStartDate());
    }
});
</code></pre><p>You can now write the last example in a shorter form by using a <a href="//docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html" rel="nofollow noreferrer">lambda expression</a> for the <code>Comparator</code>:</p><pre><code>Collections.sort(Database.arrayList, 
                        (o1, o2) -&gt; o1.getStartDate().compareTo(o2.getStartDate()));
</code></pre><p>And <code>List</code> has a <a href="//docs.oracle.com/javase/8/docs/api/java/util/List.html#sort-java.util.Comparator-" rel="nofollow noreferrer"><code>sort(Comparator)</code></a> method, so you can shorten this even further:</p><pre><code>Database.arrayList.sort((o1, o2) -&gt; o1.getStartDate().compareTo(o2.getStartDate()));
</code></pre><p>This is such a common idiom that there's <a href="//docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-" rel="nofollow noreferrer">a built-in method</a> to generate a <code>Comparator</code> for a class with a <code>Comparable</code> key:</p><pre><code>Database.arrayList.sort(Comparator.comparing(MyObject::getStartDate));
</code></pre><p>All of these are equivalent forms.</p></body></html>

===ID===
584e5a5d3e2ca51be94fedb6
===QUESTION===
Why not use Double or Float to represent currency?
I've always been told  never  to represent money with  double  or  float  types, and this time I pose the question to you: why?  I'm sure there is a very good reason, I simply do not know what it is. 
===LINK===
http://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency
===KEYWORDS===
float 
===ANSWER===
537
<html><body><p>Because floats and doubles cannot accurately represent the base 10 multiples we use for money. This issue isn't just for Java, it's for any programming language that uses native floating-point types, as it stems from how computers handle floating-point numbers by default.</p><p>This is how an <a href="http://en.wikipedia.org/wiki/IEEE_floating_point" rel="nofollow noreferrer">IEEE-754</a> floating-point number works: it dedicates a bit for the sign, a few bits to store an exponent for the base, and the rest for a multiple of that elevated base. This leads to numbers like 10.25 being represented in a form similar to 1025 * 10<sup>-2</sup>; except that instead of the base being 10, for <code>float</code>s and <code>double</code>s, it's two, so that would be 164 * 2<sup>-4</sup>. (That's still not exactly how they are represented in hardware, but this is simple enough and the math holds the same way.)</p><p>Even in base 10, this notation cannot accurately represent most simple fractions. For instance, with most calculators, 1/3 results in a repeating 0.333333333333, with as many 3's as the digital display allows, because you just can't write 1/3 in decimal notation. However, for the purpose of money (at least for countries whose money value is within an order of magnitude of the US dollar), in most scenarios all you need is to be able to store multiples of 10<sup>-2</sup>, so we don't really care if 1/3 doesn't have an exact representation as an integer times a power of 10, and even the cheapest calculators handle cents just fine.</p><p>The problem with floats and doubles is that the <em>vast majority</em> of money-like numbers don't have an exact representation as a integer times a power of two. In fact, the only fractions of a hundred between 0/100 and 100/100 (which are significant when dealing with money because they're integer cents) that can be represented exactly as an IEEE-754 binary floating-point number are 0, 0.25, 0.5, 0.75 and 1. All the others are off by a small amount.</p><p>Representing money as a <code>double</code> or <code>float</code> will probably look good at first as the software rounds off the tiny errors, but as you perform more additions, subtractions, multiplications and divisions on inexact numbers, you'll lose more and more precision as the errors add up. This makes floats and doubles inadequate for dealing with money, where perfect accuracy for multiples of base 10 powers is required.</p><p>A solution that works in just about any language is to use integers instead, and count cents. For instance, 1025 would be $10.25. Several languages also have built-in types to deal with money. Among others, Java  has the <a href="http://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html" rel="nofollow noreferrer"><code>BigDecimal</code></a> class, and C# has the <a href="http://msdn.microsoft.com/en-us/library/364x0z75.aspx" rel="nofollow noreferrer"><code>decimal</code></a> type.</p></body></html>

===ID===
584e5a5e3e2ca51be94fedb7
===QUESTION===
Download a file with Android, and showing the progress in a ProgressDialog
I am trying to write a simple application that gets updated. For this I need a simple function that can download a file and  show the current progress  in a  ProgressDialog . I know how to do the  ProgressDialog , but I'm not sure how to display the current progress and how to download the file in the first place. 
===LINK===
http://stackoverflow.com/questions/3028306/download-a-file-with-android-and-showing-the-progress-in-a-progressdialog
===KEYWORDS===
updated 
===ANSWER===
1481
<html><body><p>There are many ways to download files. Following I will post most common ways; it is up to you to decide which method is better for your app.</p><p>This method will allow you to execute some background processes and update the UI at the same time (in this case, we'll update a progress bar).</p><p>This is an example code:</p><pre><code>// declare the dialog as a member field of your activity
ProgressDialog mProgressDialog;

// instantiate it within the onCreate method
mProgressDialog = new ProgressDialog(YourActivity.this);
mProgressDialog.setMessage("A message");
mProgressDialog.setIndeterminate(true);
mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
mProgressDialog.setCancelable(true);

// execute this when the downloader must be fired
final DownloadTask downloadTask = new DownloadTask(YourActivity.this);
downloadTask.execute("the url to the file you want to download");

mProgressDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {
    @Override
    public void onCancel(DialogInterface dialog) {
        downloadTask.cancel(true);
    }
});
</code></pre><p>The <code>AsyncTask</code> will look like this:</p><pre><code>// usually, subclasses of AsyncTask are declared inside the activity class.
// that way, you can easily modify the UI thread from here
private class DownloadTask extends AsyncTask&lt;String, Integer, String&gt; {

    private Context context;
    private PowerManager.WakeLock mWakeLock;

    public DownloadTask(Context context) {
        this.context = context;
    }

    @Override
    protected String doInBackground(String... sUrl) {
        InputStream input = null;
        OutputStream output = null;
        HttpURLConnection connection = null;
        try {
            URL url = new URL(sUrl[0]);
            connection = (HttpURLConnection) url.openConnection();
            connection.connect();

            // expect HTTP 200 OK, so we don't mistakenly save error report
            // instead of the file
            if (connection.getResponseCode() != HttpURLConnection.HTTP_OK) {
                return "Server returned HTTP " + connection.getResponseCode()
                        + " " + connection.getResponseMessage();
            }

            // this will be useful to display download percentage
            // might be -1: server did not report the length
            int fileLength = connection.getContentLength();

            // download the file
            input = connection.getInputStream();
            output = new FileOutputStream("/sdcard/file_name.extension");

            byte data[] = new byte[4096];
            long total = 0;
            int count;
            while ((count = input.read(data)) != -1) {
                // allow canceling with back button
                if (isCancelled()) {
                    input.close();
                    return null;
                }
                total += count;
                // publishing the progress....
                if (fileLength &gt; 0) // only if total length is known
                    publishProgress((int) (total * 100 / fileLength));
                output.write(data, 0, count);
            }
        } catch (Exception e) {
            return e.toString();
        } finally {
            try {
                if (output != null)
                    output.close();
                if (input != null)
                    input.close();
            } catch (IOException ignored) {
            }

            if (connection != null)
                connection.disconnect();
        }
        return null;
    }
</code></pre><p>The method above (<code>doInBackground</code>) runs always on a background thread. You shouldn't do any UI tasks there. On the other hand, the <code>onProgressUpdate</code> and <code>onPreExecute</code> run on the UI thread, so there you can change the progress bar:</p><pre><code>    @Override
    protected void onPreExecute() {
        super.onPreExecute();
        // take CPU lock to prevent CPU from going off if the user 
        // presses the power button during download
        PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);
        mWakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,
             getClass().getName());
        mWakeLock.acquire();
        mProgressDialog.show();
    }

    @Override
    protected void onProgressUpdate(Integer... progress) {
        super.onProgressUpdate(progress);
        // if we get here, length is known, now set indeterminate to false
        mProgressDialog.setIndeterminate(false);
        mProgressDialog.setMax(100);
        mProgressDialog.setProgress(progress[0]);
    }

    @Override
    protected void onPostExecute(String result) {
        mWakeLock.release();
        mProgressDialog.dismiss();
        if (result != null)
            Toast.makeText(context,"Download error: "+result, Toast.LENGTH_LONG).show();
        else
            Toast.makeText(context,"File downloaded", Toast.LENGTH_SHORT).show();
    }
</code></pre><p>For this to run, you need the WAKE_LOCK permission.</p><pre><code>&lt;uses-permission android:name="android.permission.WAKE_LOCK" /&gt;
</code></pre><p>The big question here is: <em>how do I update my activity from a service?</em>. In the next example we are going to use two classes you may not be aware of: <code>ResultReceiver</code> and <code>IntentService</code>. <code>ResultReceiver</code> is the one that will allow us to update our thread from a service; <code>IntentService</code> is a subclass of <code>Service</code> which spawns a thread to do background work from there (you should know that a <code>Service</code> runs actually in the same thread of your app; when you extends <code>Service</code>, you must manually spawn new threads to run CPU blocking operations).</p><p>Download service can look like this:</p><pre><code>public class DownloadService extends IntentService {
    public static final int UPDATE_PROGRESS = 8344;
    public DownloadService() {
        super("DownloadService");
    }
    @Override
    protected void onHandleIntent(Intent intent) {
        String urlToDownload = intent.getStringExtra("url");
        ResultReceiver receiver = (ResultReceiver) intent.getParcelableExtra("receiver");
        try {
            URL url = new URL(urlToDownload);
            URLConnection connection = url.openConnection();
            connection.connect();
            // this will be useful so that you can show a typical 0-100% progress bar
            int fileLength = connection.getContentLength();

            // download the file
            InputStream input = new BufferedInputStream(connection.getInputStream());
            OutputStream output = new FileOutputStream("/sdcard/BarcodeScanner-debug.apk");

            byte data[] = new byte[1024];
            long total = 0;
            int count;
            while ((count = input.read(data)) != -1) {
                total += count;
                // publishing the progress....
                Bundle resultData = new Bundle();
                resultData.putInt("progress" ,(int) (total * 100 / fileLength));
                receiver.send(UPDATE_PROGRESS, resultData);
                output.write(data, 0, count);
            }

            output.flush();
            output.close();
            input.close();
        } catch (IOException e) {
            e.printStackTrace();
        }

        Bundle resultData = new Bundle();
        resultData.putInt("progress" ,100);
        receiver.send(UPDATE_PROGRESS, resultData);
    }
}
</code></pre><p>Add the service to your manifest:</p><pre><code>&lt;service android:name=".DownloadService"/&gt;
</code></pre><p>And the activity will look like this:</p><pre><code>// initialize the progress dialog like in the first example

// this is how you fire the downloader
mProgressDialog.show();
Intent intent = new Intent(this, DownloadService.class);
intent.putExtra("url", "url of the file to download");
intent.putExtra("receiver", new DownloadReceiver(new Handler()));
startService(intent);
</code></pre><p>Here is were <code>ResultReceiver</code> comes to play:</p><pre><code>private class DownloadReceiver extends ResultReceiver{
    public DownloadReceiver(Handler handler) {
        super(handler);
    }

    @Override
    protected void onReceiveResult(int resultCode, Bundle resultData) {
        super.onReceiveResult(resultCode, resultData);
        if (resultCode == DownloadService.UPDATE_PROGRESS) {
            int progress = resultData.getInt("progress");
            mProgressDialog.setProgress(progress);
            if (progress == 100) {
                mProgressDialog.dismiss();
            }
        }
    }
}
</code></pre><p><a href="http://github.com/casidiablo/groundy" rel="nofollow noreferrer"><strong>Groundy</strong></a> is a library that basically helps you run pieces of code in a background service, and it is based on the <code>ResultReceiver</code> concept shown above. This library is <strong>deprecated</strong> at the moment. This is how the <strong>whole</strong> code would look like:</p><p>The activity where you are showing the dialog...</p><pre><code>public class MainActivity extends Activity {

    private ProgressDialog mProgressDialog;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        findViewById(R.id.btn_download).setOnClickListener(new View.OnClickListener() {
            public void onClick(View view) {
                String url = ((EditText) findViewById(R.id.edit_url)).getText().toString().trim();
                Bundle extras = new Bundler().add(DownloadTask.PARAM_URL, url).build();
                Groundy.create(DownloadExample.this, DownloadTask.class)
                        .receiver(mReceiver)
                        .params(extras)
                        .queue();

                mProgressDialog = new ProgressDialog(MainActivity.this);
                mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
                mProgressDialog.setCancelable(false);
                mProgressDialog.show();
            }
        });
    }

    private ResultReceiver mReceiver = new ResultReceiver(new Handler()) {
        @Override
        protected void onReceiveResult(int resultCode, Bundle resultData) {
            super.onReceiveResult(resultCode, resultData);
            switch (resultCode) {
                case Groundy.STATUS_PROGRESS:
                    mProgressDialog.setProgress(resultData.getInt(Groundy.KEY_PROGRESS));
                    break;
                case Groundy.STATUS_FINISHED:
                    Toast.makeText(DownloadExample.this, R.string.file_downloaded, Toast.LENGTH_LONG);
                    mProgressDialog.dismiss();
                    break;
                case Groundy.STATUS_ERROR:
                    Toast.makeText(DownloadExample.this, resultData.getString(Groundy.KEY_ERROR), Toast.LENGTH_LONG).show();
                    mProgressDialog.dismiss();
                    break;
            }
        }
    };
}
</code></pre><p>A <code>GroundyTask</code> implementation used by <strong>Groundy</strong> to download the file and show the progress:</p><pre><code>public class DownloadTask extends GroundyTask {    
    public static final String PARAM_URL = "com.groundy.sample.param.url";

    @Override
    protected boolean doInBackground() {
        try {
            String url = getParameters().getString(PARAM_URL);
            File dest = new File(getContext().getFilesDir(), new File(url).getName());
            DownloadUtils.downloadFile(getContext(), url, dest, DownloadUtils.getDownloadListenerForTask(this));
            return true;
        } catch (Exception pokemon) {
            return false;
        }
    }
}
</code></pre><p>And just add this to the manifest:</p><pre><code>&lt;service android:name="com.codeslap.groundy.GroundyService"/&gt;
</code></pre><p>It couldn't be easier I think. Just grab the latest jar <a href="https://github.com/casidiablo/groundy/downloads" rel="nofollow noreferrer">from Github</a> and you are ready to go. Keep in mind that <strong>Groundy</strong>'s main purpose is to make calls to external REST apis in a background service and post results to the UI with easily. If you are doing something like that in your app, it could be really useful.</p><p>GingerBread brought a new feature, <code>DownloadManager</code>, which allows you to download files easily and delegate the hard work of handling threads, streams, etc. to the system.</p><p>First, let's see a utility method:</p><pre><code>/**
 * @param context used to check the device version and DownloadManager information
 * @return true if the download manager is available
 */
public static boolean isDownloadManagerAvailable(Context context) {

    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.GINGERBREAD) {
        return true;
    }
    return false;
}
</code></pre><p>Method's name explains it all. Once you are sure <code>DownloadManager</code> is available, you can do something like this:</p><pre><code>String url = "url you want to download";
DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));
request.setDescription("Some descrition");
request.setTitle("Some title");
// in order for this if to run, you must use the android 3.2 to compile your app
if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB) {
    request.allowScanningByMediaScanner();
    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);
}
request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, "name-of-the-file.ext");

// get download service and enqueue file
DownloadManager manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);
manager.enqueue(request);
</code></pre><p>Download progress will be showing in the notification bar.</p><p>First and second methods are just the tip of the iceberg. There are lots of things you have to keep in mind if you want your app to be robust. Here is a brief list:</p><li>You must check whether user has an internet connection available</li><li>Make sure you have the right permissions (<code>INTERNET</code> and <code>WRITE_EXTERNAL_STORAGE</code>); also <code>ACCESS_NETWORK_STATE</code> if you want to check internet availability.</li><li>Make sure the directory were you are going to download files exist and has write permissions.</li><li>If download is too big you may want to implement a way to resume the download if previous attempts failed.</li><li>Users will be grateful if you allow them to interrupt the download.</li><p>Unless you need detailed control of the download process, then consider using <code>DownloadManager</code> (3) because it already handles most of the items listed above.</p><p>But also consider that your needs may change. For example, <code>DownloadManager</code> <a href="http://stackoverflow.com/questions/35191718">does no response caching</a>. It will blindly download the same big file multiple times. There's no easy way to fix it after the fact. Where if you start with a basic <code>HttpURLConnection</code> (1, 2), then all you need is to add an <code>HttpResponseCache</code>. So the initial effort of learning the basic, standard tools can be a good investment.</p></body></html>

===ID===
584e5a5e3e2ca51be94fedb8
===QUESTION===
NullPointerException accessing views in onCreate()
This is a canonical question for a problem frequently posted on StackOverflow. I'm following a tutorial. I've created a new activity using a wizard. I get  NullPointerException  when attempting to call a method on  View s obtained with  findViewById()  in my activity  onCreate() . Activity  onCreate() : Layout XML ( fragment_main.xml ): 
===LINK===
http://stackoverflow.com/questions/23653778/nullpointerexception-accessing-views-in-oncreate
===KEYWORDS===
obtained 
===ANSWER===
55
<html><body><p>The tutorial is probably outdated, attempting to create an activity-based UI instead of the fragment-based UI preferred by wizard-generated code.</p><p>The view is in the fragment layout (<code>fragment_main.xml</code>)  and not in the activity layout (<code>activity_main.xml</code>). <code>onCreate()</code> is too early in the lifecycle to find it in the activity view hierarchy, and a <code>null</code> is returned. Invoking a method on <code>null</code> causes the NPE.</p><p>The preferred solution is to move the code to the fragment <code>onCreateView()</code>, calling <code>findViewById()</code> on the inflated fragment layout <code>rootView</code>:</p><pre><code>@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
    Bundle savedInstanceState) {
  View rootView = inflater.inflate(R.layout.fragment_main, container,
      false);

  View something = rootView.findViewById(R.id.something); // not activity findViewById()
  something.setOnClickListener(new View.OnClickListener() { ... });

  return rootView;
}
</code></pre><p>As a side note, the fragment layout will eventually be a part of the activity view hierarchy and discoverable with activity <code>findViewById()</code> but only after the fragment transaction has been run. Pending fragment transactions get executed in <code>super.onStart()</code> after <code>onCreate()</code>.</p></body></html>

===ID===
584e5a603e2ca51be94fedb9
===QUESTION===
How do I import the javax.servlet API in my Eclipse project?
I want to develop with Servlets in Eclipse, but it says that the package  javax.servlet  cannot be resolved. How can I add  javax.servlet  package to my Eclipse project? 
===LINK===
http://stackoverflow.com/questions/4076601/how-do-i-import-the-javax-servlet-api-in-my-eclipse-project
===KEYWORDS===
resolved 
===ANSWER===
322
<html><body><p>Ensure that you're using at least <a href="http://www.eclipse.org/downloads/" rel="nofollow noreferrer">Eclipse IDE for <strong>Java EE</strong> developers</a> (with the <strong>EE</strong>). It contains development tools to create dynamic web projects and easily integrate servletcontainers (those tools are part of Web Tools Platform, WTP). In case you already had Eclipse IDE for Java (without EE), and manually installed some EE related plugins, then chances are that it wasn't done properly. You'd best trash it and grab the real Eclipse IDE for Java EE one.</p><p>You also need to ensure that you already have a servletcontainer installed on your machine which implements at least the same Servlet API version as the servletcontainer in the production environment, for example <a href="http://tomcat.apache.org" rel="nofollow noreferrer">Apache Tomcat</a>, <a href="http://glassfish.java.net" rel="nofollow noreferrer">Oracle GlassFish</a>, <a href="http://www.jboss.org/jbossas" rel="nofollow noreferrer">JBoss AS</a>/<a href="http://www.wildfly.org/" rel="nofollow noreferrer">WildFly</a>, etc. Usually, just downloading the ZIP file and extracting it is sufficient. In case of Tomcat, do <em>not</em> download the EXE format, that's only for Windows based production environments. See also a.o. <a href="http://stackoverflow.com/questions/5064733">Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use</a>.</p><p>A servletcontainer is a concrete implementation of the Servlet API. Note that the <a href="http://www.oracle.com/technetwork/java/javaee/downloads/index.html" rel="nofollow noreferrer">Java EE SDK</a> download at Oracle.com basically contains GlassFish. So if you happen to already have downloaded Java EE SDK, then you basically already have GlassFish. Also note that for example GlassFish and JBoss AS/WildFly are <em>more</em> than just a servletcontainer, they also supports JSF, EJB, JPA and all other Java EE fanciness. See also a.o. <a href="http://stackoverflow.com/questions/7295096">What exactly is Java EE?</a></p><p>Once having installed both Eclipse for Java EE and a servletcontainer on your machine, do the following steps in Eclipse:</p><li><p><strong>Integrate servletcontainer in Eclipse</strong></p>
<p>a. <strong>Via Servers view</strong></p>
<ul>
<li>Open the <em>Servers</em> view in the bottom box.</li>
<li>Rightclick there and choose <em>New &gt; Server</em>.</li>
<li><p>Pick the appropriate servletcontainer make and version and walk through the wizard.</p>
<p><a href="https://i.stack.imgur.com/99Li8.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/99Li8m.png"/></a></p></li>
</ul>
<p>b. <strong>Or, via Eclipse preferences</strong></p>
<ul>
<li>Open <em>Window &gt; Preferences &gt; Server &gt; Runtime Environments</em>.</li>
<li><p>You can <em>Add</em>, <em>Edit</em> and <em>Remove</em> servers here.</p>
<p><a href="https://i.stack.imgur.com/hf9Go.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/hf9Gom.png"/></a></p></li>
</ul></li><p><strong>Integrate servletcontainer in Eclipse</strong></p><p>a. <strong>Via Servers view</strong></p><li>Open the <em>Servers</em> view in the bottom box.</li><li>Rightclick there and choose <em>New &gt; Server</em>.</li><li><p>Pick the appropriate servletcontainer make and version and walk through the wizard.</p>
<p><a href="https://i.stack.imgur.com/99Li8.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/99Li8m.png"/></a></p></li><p>Pick the appropriate servletcontainer make and version and walk through the wizard.</p><p><a href="https://i.stack.imgur.com/99Li8.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/99Li8m.png"/></a></p><p>b. <strong>Or, via Eclipse preferences</strong></p><li>Open <em>Window &gt; Preferences &gt; Server &gt; Runtime Environments</em>.</li><li><p>You can <em>Add</em>, <em>Edit</em> and <em>Remove</em> servers here.</p>
<p><a href="https://i.stack.imgur.com/hf9Go.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/hf9Gom.png"/></a></p></li><p>You can <em>Add</em>, <em>Edit</em> and <em>Remove</em> servers here.</p><p><a href="https://i.stack.imgur.com/hf9Go.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/hf9Gom.png"/></a></p><li><p><strong>Associate server with project</strong></p>
<p>a. <strong>In new project</strong></p>
<ul>
<li>Open the <em>Project Navigator/Explorer</em> on the left hand side.</li>
<li>Rightclick there and choose <em>New &gt; Project</em> and then in menu <em>Web &gt; Dynamic Web Project</em>.</li>
<li><p>In the wizard, set the <em>Target Runtime</em> to the integrated server.</p>
<p><a href="https://i.stack.imgur.com/M259E.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/M259Em.png"/></a></p></li>
</ul>
<p>b. <strong>Or, in existing project</strong></p>
<ul>
<li>Rightclick project and choose <em>Properties</em>.</li>
<li><p>In <em>Targeted Runtimes</em> section, select the integrated server.</p>
<p><a href="https://i.stack.imgur.com/jcY3M.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/jcY3Mm.png"/></a></p></li>
</ul>
<p>Either way, Eclipse will then automatically take the servletcontainer's libraries in the build path. This way you'll be able to import and use the Servlet API.</p></li><p><strong>Associate server with project</strong></p><p>a. <strong>In new project</strong></p><li>Open the <em>Project Navigator/Explorer</em> on the left hand side.</li><li>Rightclick there and choose <em>New &gt; Project</em> and then in menu <em>Web &gt; Dynamic Web Project</em>.</li><li><p>In the wizard, set the <em>Target Runtime</em> to the integrated server.</p>
<p><a href="https://i.stack.imgur.com/M259E.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/M259Em.png"/></a></p></li><p>In the wizard, set the <em>Target Runtime</em> to the integrated server.</p><p><a href="https://i.stack.imgur.com/M259E.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/M259Em.png"/></a></p><p>b. <strong>Or, in existing project</strong></p><li>Rightclick project and choose <em>Properties</em>.</li><li><p>In <em>Targeted Runtimes</em> section, select the integrated server.</p>
<p><a href="https://i.stack.imgur.com/jcY3M.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/jcY3Mm.png"/></a></p></li><p>In <em>Targeted Runtimes</em> section, select the integrated server.</p><p><a href="https://i.stack.imgur.com/jcY3M.png" rel="nofollow noreferrer"><img alt="enter image description here" src="https://i.stack.imgur.com/jcY3Mm.png"/></a></p><p>Either way, Eclipse will then automatically take the servletcontainer's libraries in the build path. This way you'll be able to import and use the Servlet API.</p><p>You should in any case not have the need to fiddle around in the <em>Build Path</em> property of the project. You should above all <strong>never</strong> manually copy/download/move/include the individual servletcontainer-specific libraries like <code>servlet-api.jar</code>, <code>jsp-api.jar</code>, <code>el-api.jar</code>, <code>j2ee.jar</code>, <code>javaee.jar</code>, etc. It would only lead to future portability, compatibility, classpath and maintainability troubles, because your webapp would not work when it's deployed to a servletcontainer of a different make/version than where those libraries are originally obtained from.</p><p>In case you're using Maven, you need to make absolutely sure that servletcontainer-specific libraries which are already provided by the target runtime are marked as <code>&lt;scope&gt;provided&lt;/scope&gt;</code>.</p><p>Here are some typical exceptions which you can get when you litter the <code>/WEB-INF/lib</code> or even <code>/JRE/lib</code>, <code>/JRE/lib/ext</code>, etc with servletcontainer-specific libraries in a careless attempt to fix the compilation errors:</p><li><a href="http://stackoverflow.com/questions/4886196/spring-mvc-jsp-and-nullpointerexception">java.lang.NullPointerException at org.apache.jsp.index_jsp._jspInit</a></li><li><a href="http://stackoverflow.com/questions/6360121/java-lang-noclassdeffounderror-javax-el-elresolver-when-running-simplehellobyent">java.lang.NoClassDefFoundError: javax/el/ELResolver</a></li><li><a href="http://stackoverflow.com/questions/4214826/error-java-lang-nosuchfielderror-is-dir-while-starting-apache-tomcat-from-ecli">java.lang.NoSuchFieldError: IS_DIR</a></li><li><a href="http://stackoverflow.com/questions/7274675/getting-error-while-accessing-the-map-from-spring-controller-to-jsp-using-jstl/7274928#7274928">java.lang.NoSuchMethodError: javax.servlet.jsp.PageContext.getELContext()Ljavax/el/ELContext;</a></li><li><a href="http://stackoverflow.com/questions/6998747/tomcat-6-http-authentication">java.lang.AbstractMethodError: javax.servlet.jsp.JspFactory.getJspApplicationContext(Ljavax/servlet/ServletContext;)Ljavax/servlet/jsp/JspApplicationContext;</a></li><li><a href="http://stackoverflow.com/questions/2327118/howto-solve-jasper-exception-problem">org.apache.jasper.JasperException: The method getJspApplicationContext(ServletContext) is undefined for the type JspFactory</a></li><li><a href="http://stackoverflow.com/questions/7310968/web-app-working-in-eclipse-gives-verify-el-error-org-apache-catalina-core-standar">java.lang.VerifyError: (class: org/apache/jasper/runtime/JspApplicationContextImpl, method: createELResolver signature: ()Ljavax/el/ELResolver;) Incompatible argument to function</a></li><li><a href="http://stackoverflow.com/questions/2641338/how-to-resolve-error-listenerstart-when-deploying-web-app-in-tomcat-5-5">jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class</a></li></body></html>

===ID===
584e5a613e2ca51be94fedba
===QUESTION===
How to use an existing database with an Android application [duplicate]
This question already has an answer here: I have already created an SQLite database. I want to use this database file with my Android project. I want to bundle this database with my application.  Instead of creating a new database, how can the application gain access to this database and use it as its database? 
===LINK===
http://stackoverflow.com/questions/9109438/how-to-use-an-existing-database-with-an-android-application
===KEYWORDS===
creating 
===ANSWER===
270
<html><body><p><strong>NOTE:</strong>
Before trying this code, please find this line in the below code:</p><pre><code>private static String DB_NAME ="YourDbName"; // Database name
</code></pre><p>DB_NAME here is the name of your database. It is assumed that you have a copy of the database in the assets folder, so for example if your database name is ordersDB, then the value of DB_NAME will be ordersDB,</p><pre><code>private static String DB_NAME ="ordersDB";
</code></pre><p>Keep the database in <strong>assets folder</strong> and then follow the below:</p><p>DataHelper class:</p><pre><code>import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;

import android.content.Context;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.util.Log;

public class DataBaseHelper extends SQLiteOpenHelper
{
    private static String TAG = "DataBaseHelper"; // Tag just for the LogCat window
    //destination path (location) of our database on device
    private static String DB_PATH = "";
    private static String DB_NAME ="YourDbName";// Database name
    private SQLiteDatabase mDataBase;
    private final Context mContext;

    public DataBaseHelper(Context context)
    {
        super(context, DB_NAME, null, 1);// 1? Its database Version
        if(android.os.Build.VERSION.SDK_INT &gt;= 17){
           DB_PATH = context.getApplicationInfo().dataDir + "/databases/";
        }
        else
        {
           DB_PATH = "/data/data/" + context.getPackageName() + "/databases/";
        }
        this.mContext = context;
    }

    public void createDataBase() throws IOException
    {
        //If the database does not exist, copy it from the assets.

        boolean mDataBaseExist = checkDataBase();
        if(!mDataBaseExist)
        {
            this.getReadableDatabase();
            this.close();
            try
            {
                //Copy the database from assests
                copyDataBase();
                Log.e(TAG, "createDatabase database created");
            }
            catch (IOException mIOException)
            {
                throw new Error("ErrorCopyingDataBase");
            }
        }
    }

    //Check that the database exists here: /data/data/your package/databases/Da Name
    private boolean checkDataBase()
    {
        File dbFile = new File(DB_PATH + DB_NAME);
        //Log.v("dbFile", dbFile + "   "+ dbFile.exists());
        return dbFile.exists();
    }

    //Copy the database from assets
    private void copyDataBase() throws IOException
    {
        InputStream mInput = mContext.getAssets().open(DB_NAME);
        String outFileName = DB_PATH + DB_NAME;
        OutputStream mOutput = new FileOutputStream(outFileName);
        byte[] mBuffer = new byte[1024];
        int mLength;
        while ((mLength = mInput.read(mBuffer))&gt;0)
        {
            mOutput.write(mBuffer, 0, mLength);
        }
        mOutput.flush();
        mOutput.close();
        mInput.close();
    }

    //Open the database, so we can query it
    public boolean openDataBase() throws SQLException
    {
        String mPath = DB_PATH + DB_NAME;
        //Log.v("mPath", mPath);
        mDataBase = SQLiteDatabase.openDatabase(mPath, null, SQLiteDatabase.CREATE_IF_NECESSARY);
        //mDataBase = SQLiteDatabase.openDatabase(mPath, null, SQLiteDatabase.NO_LOCALIZED_COLLATORS);
        return mDataBase != null;
    }

    @Override
    public synchronized void close()
    {
        if(mDataBase != null)
            mDataBase.close();
        super.close();
    }
}
</code></pre><p><strong>Write a DataAdapter class like:</strong></p><pre><code>import java.io.IOException;
import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import android.util.Log;

public class TestAdapter
{
    protected static final String TAG = "DataAdapter";

    private final Context mContext;
    private SQLiteDatabase mDb;
    private DataBaseHelper mDbHelper;

    public TestAdapter(Context context)
    {
        this.mContext = context;
        mDbHelper = new DataBaseHelper(mContext);
    }

    public TestAdapter createDatabase() throws SQLException
    {
        try
        {
            mDbHelper.createDataBase();
        }
        catch (IOException mIOException)
        {
            Log.e(TAG, mIOException.toString() + "  UnableToCreateDatabase");
            throw new Error("UnableToCreateDatabase");
        }
        return this;
    }

    public TestAdapter open() throws SQLException
    {
        try
        {
            mDbHelper.openDataBase();
            mDbHelper.close();
            mDb = mDbHelper.getReadableDatabase();
        }
        catch (SQLException mSQLException)
        {
            Log.e(TAG, "open &gt;&gt;"+ mSQLException.toString());
            throw mSQLException;
        }
        return this;
    }

    public void close()
    {
        mDbHelper.close();
    }

     public Cursor getTestData()
     {
         try
         {
             String sql ="SELECT * FROM myTable";

              Cursor mCur = mDb.rawQuery(sql, null);
             if (mCur!=null)
             {
                mCur.moveToNext();
             }
             return mCur;
         }
         catch (SQLException mSQLException)
         {
             Log.e(TAG, "getTestData &gt;&gt;"+ mSQLException.toString());
             throw mSQLException;
         }
     }
}
</code></pre><p><strong>Now you can use it like:</strong></p><pre><code>TestAdapter mDbHelper = new TestAdapter(urContext);
mDbHelper.createDatabase();
mDbHelper.open();

Cursor testdata = mDbHelper.getTestData();

mDbHelper.close();
</code></pre><p><strong>EDIT: Thanks to JDx</strong></p><p>For <a href="https://en.wikipedia.org/wiki/Android_version_history#Android_4.1_Jelly_Bean_.28API_level_16.29" rel="nofollow noreferrer">Android 4.1</a> (Jelly Bean), change:</p><pre><code>DB_PATH = "/data/data/" + context.getPackageName() + "/databases/";
</code></pre><p>to:</p><pre><code>DB_PATH = context.getApplicationInfo().dataDir + "/databases/";
</code></pre><p>in the DataHelper class this code will work on JB 4.2 multi users.</p></body></html>

===ID===
584e5a623e2ca51be94fedbb
===QUESTION===
Loading image resource
I am having a error for my GUI. Trying to set title bar icon then be included in a Runnable JAR. Here is the error I am getting: The image is in the correct directory which "resources" folder is the root of the 
project file 
===LINK===
http://stackoverflow.com/questions/9864267/loading-image-resource
===KEYWORDS===
gui 
===ANSWER===
42
<html><body><p>First of all, change this line : </p><pre><code>image = ImageIO.read(getClass().getClassLoader().getResource("resources/icon.gif"));
</code></pre><p>to this : </p><pre><code>image = ImageIO.read(getClass().getResource("/resources/icon.gif"));
</code></pre><p><strong>More info</strong>, on as to where lies the difference between the two approaches, can be found on this thread - <a href="http://stackoverflow.com/a/676273/1057230"><strong>Different ways of loading a Resource</strong></a></p><p><strong>For Eclipse:</strong> </p><li><a href="http://stackoverflow.com/questions/8960381/runnable-jars-missing-buttons/9278270#9278270"><strong>How to add Images to your Resource Folder in the Project</strong></a></li><p><strong>For NetBeans:</strong> </p><li><a href="http://netbeans.org/kb/docs/java/gui-image-display.html"><strong>Handling Images in a Java GUI Application</strong></a></li><li><a href="http://stackoverflow.com/a/24821738/1057230"><strong>How to add Images to the Project</strong></a></li><p><strong>For IntelliJ IDEA:</strong></p><li><strong>Right-Click</strong> the <strong>src</strong> Folder of the Project. Select <strong>New -&gt; Package</strong></li><li>Under <strong>New Package Dialog</strong>, type name of the package, say <strong><em>resources</em></strong>. Click OK</li><li>Right <strong>Click resources package</strong>. Select <strong>New -&gt; Package</strong></li><li>Under <strong>New Package Dialog</strong>, type name of the package, say <strong><em>images</em></strong>. Click OK</li><li>Now select the image that you want to add to the project, copy it. <strong>Right click resources.images package</strong>, inside the <strong>IDE</strong>, and <strong>select Paste</strong></li><li><p>Use the last link to check how to access this file now in Java code. Though for this example, one would be using </p>
<p><code>getClass().getResource("/resources/images/myImage.imageExtension");</code></p></li><p>Use the last link to check how to access this file now in Java code. Though for this example, one would be using </p><p><code>getClass().getResource("/resources/images/myImage.imageExtension");</code></p><li><p>Press <kbd>Shift</kbd> + <kbd>F10</kbd>, to make and run the project. The <strong>resources and images</strong> folders, will be created automatically inside the <strong>out</strong> folder.</p></li><p>Press <kbd>Shift</kbd> + <kbd>F10</kbd>, to make and run the project. The <strong>resources and images</strong> folders, will be created automatically inside the <strong>out</strong> folder.</p><p><strong>If you are doing it manually :</strong> </p><li><a href="http://stackoverflow.com/a/9613766/1057230"><strong>How to add Images to your Project</strong></a></li><li><a href="http://docs.oracle.com/javase/tutorial/uiswing/components/icon.html"><strong>How to Use Icons</strong></a></li><li><a href="http://stackoverflow.com/a/11372350/1057230"><strong>A Little extra clarification</strong></a>, as given in this answer's first
code example.</li><p><strong>QUICK REFERENCE CODE EXAMPLE(though for more detail consider, A little extra clarification link):</strong></p><pre><code>package swingtest;

import java.awt.*;
import java.awt.image.BufferedImage;
import java.io.IOException;
import javax.imageio.ImageIO;
import javax.swing.*;

/**
 * Created with IntelliJ IDEA.
 * User: Gagandeep Bali
 * Date: 7/1/14
 * Time: 9:44 AM
 * To change this template use File | Settings | File Templates.
 */
public class ImageExample {

    private MyPanel contentPane;

    private void displayGUI() {
        JFrame frame = new JFrame("Image Example");
        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);

        contentPane = new MyPanel();

        frame.setContentPane(contentPane);
        frame.pack();
        frame.setLocationByPlatform(true);
        frame.setVisible(true);
    }

    private class MyPanel extends JPanel {

        private BufferedImage image;

        public MyPanel() {
            try {
                image = ImageIO.read(MyPanel.class.getResource("/resources/images/planetbackground.jpg"));
            } catch (IOException ioe) {
                ioe.printStackTrace();
            }
        }

        @Override
        public Dimension getPreferredSize() {
            return image == null ? new Dimension(400, 300): new Dimension(image.getWidth(), image.getHeight());
        }

        @Override
        protected void paintComponent(Graphics g) {
            super.paintComponent(g);
            g.drawImage(image, 0, 0, this);
        }
    }

    public static void main(String[] args) {
        Runnable runnable = new Runnable() {
            @Override
            public void run() {
                new ImageExample().displayGUI();
            }
        };
        EventQueue.invokeLater(runnable);
    }
}
</code></pre></body></html>

===ID===
584e5a623e2ca51be94fedbc
===QUESTION===
How does the Java for each loop work?
What would the equivalent for loop look like without using the for each syntax? 
===LINK===
http://stackoverflow.com/questions/85190/how-does-the-java-for-each-loop-work
===KEYWORDS===
equivalent 
===ANSWER===
661
<html><body><pre><code>for(Iterator&lt;String&gt; i = someList.iterator(); i.hasNext(); ) {
    String item = i.next();
    System.out.println(item);
}
</code></pre><p>Note that if you need to use <code>i.remove();</code> in your loop, or access the actual <code>iterator</code> in some way, you cannot use the <code>for( : )</code> idiom, since the actual <code>Iterator</code> is merely inferred.</p><p>As was noted by Denis Bueno, this code works for any object that <code>implements</code> the <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html" rel="nofollow noreferrer"><code>Iterable interface</code></a>.</p><p>Also, if the right-hand side of the <code>for(:)</code> idiom is an <code>array</code> rather than an <code>Iterable</code> object, the internal code uses an int index counter and checks against array.length instead. See the <a href="http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.14.2" rel="nofollow noreferrer">Java Language Specification</a>.</p></body></html>

===ID===
584e5a633e2ca51be94fedbd
===QUESTION===
What is the difference between == vs equals() in Java?
I wanted to clarify if I understand this correctly: Am I correct in my understanding ? 
===LINK===
http://stackoverflow.com/questions/7520432/what-is-the-difference-between-vs-equals-in-java
===KEYWORDS===
difference 
===ANSWER===
304
<html><body><p>In general, the answer to  your question is "yes", but...</p><li>equals will only compare what it is written to compare, no more, no less.</li><li>if a class does not override the equals method, then it defaults to the <code>equals(Object o)</code> method of the closest parent class that has overridden this method. </li><li>If no parent classes have provided an override, then it defaults to the method from the ultimate parent class, Object, and so  you're left with the <code>Object#equals(Object o)</code> method. Per the Object API this is the same as <code>==</code>; that is, it returns true <em>if and only if</em> both variables refer to the same object, if their references are one and the same. Thus you will be testing  for <strong>object equality</strong> and not <strong>functional equality</strong>.</li><li>Always remember to override <code>hashCode</code> if you override <code>equals</code> so as not to "break the contract". As per the API, the result returned from the <code>hashCode()</code> method for two objects <strong>must</strong> be the same if their <code>equals</code> methods shows that they are equivalent. The converse is <em>not</em> necessarily true. </li></body></html>

===ID===
584e5a643e2ca51be94fedbe
===QUESTION===
What does “Could not find or load main class” mean?
A common problem that new Java developers experience is that their programs fail to run with the error message:   Could not find or load main class ... What does this mean, what causes it, and how should you fix it? 
===LINK===
http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean
===KEYWORDS===
fix 
===ANSWER===
438
<html><body><p>First of all, you need to understand the correct way to launch a program using the <code>java</code> (or <code>javaw</code>) command.</p><p>The normal syntax<sup>1</sup> is this:</p><pre><code>    java [ &lt;option&gt; ... ] &lt;class-name&gt; [&lt;argument&gt; ...]
</code></pre><p>where <code>&lt;option&gt;</code> is a command line option (starting with a "-" character), <code>&lt;class-name&gt;</code> is a fully qualified Java class name, and <code>&lt;argument&gt;</code> is an arbitrary command line argument that gets passed to your application.<br>
<sup>1 - There is a second syntax for "executable" JAR files which I will describe at the bottom.</sup></br></p><p>The fully qualified classname is conventionally written as you would in Java source code; e.g.</p><pre><code>    packagename.packagename2.packagename3.ClassName
</code></pre><p>However some versions of the <code>java</code> command allow you to use slashes instead of periods; e.g.</p><pre><code>    packagename/packagename2/packagename3/ClassName
</code></pre><p>which (confusingly) looks like a file pathname, but isn't one.  Note that the term <em>fully qualified classname</em> is standard Java terminology ... not something I just made up to confuse you :-)</p><p>Here is an example of what a <code>java</code> command should look like:</p><pre><code>    java -Xmx100m com.acme.example.ListUsers fred joe bert
</code></pre><p>The above is going to cause the <code>java</code> command to do the following:</p><li>Search for the compiled version of the <code>com.acme.example.ListUsers</code> class.</li><li>Load the class.</li><li>Check that the class has a <code>main</code> method with signature + modifiers <code>public static void main(String[] args)</code>.</li><li>Call that method passing it the command line arguments ("fred", "joe", "bert") as a <code>String[]</code>.</li><p>When you get the message "Could not find or load main class ...", that means that the first step has failed.  The <code>java</code> command was not able to find the class.  And indeed, the "..." in the message will be the <em>fully qualified class name</em> that <code>java</code> is looking for. </p><p>So why might it be unable to find the class?  Basically, there are two main causes:</p><p>The first likely cause is that you may have provided the wrong class name.  (Or ... the right class name, but in the wrong form.)   Considering the example above, here a variety of <strong>wrong ways</strong> to specify the class name:</p><li><p>Example #1 - a simple class name:</p>
<pre><code>java ListUser
</code></pre>
<p>When the class is declared in a package such as <code>com.acme.example</code>, then you must use the full classname <em>including</em> the package name in the <code>java</code> command; e.g. </p>
<pre><code>java com.acme.example.ListUser
</code></pre></li><p>Example #1 - a simple class name:</p><pre><code>java ListUser
</code></pre><p>When the class is declared in a package such as <code>com.acme.example</code>, then you must use the full classname <em>including</em> the package name in the <code>java</code> command; e.g. </p><pre><code>java com.acme.example.ListUser
</code></pre><li><p>Example #2 - a filename or pathname rather than a class name:</p>
<pre><code>java ListUser.class
java com/acme/example/ListUser.class
</code></pre></li><p>Example #2 - a filename or pathname rather than a class name:</p><pre><code>java ListUser.class
java com/acme/example/ListUser.class
</code></pre><li><p>Example #3 - a class name with the casing incorrect:</p>
<pre><code>java com.acme.example.listuser
</code></pre></li><p>Example #3 - a class name with the casing incorrect:</p><pre><code>java com.acme.example.listuser
</code></pre><li><p>Example #4 - a typo</p>
<pre><code>java com.acme.example.mistuser
</code></pre></li><p>Example #4 - a typo</p><pre><code>java com.acme.example.mistuser
</code></pre><p>The second likely cause is that the class name is correct, but that the <code>java</code> command cannot find the class.  To understand this, you need to understand the concept of the "classpath".  This is explained <em>well</em> by the Oracle documentation:</p><li><a href="http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html" rel="nofollow noreferrer">The <code>java</code> command documentation</a></li><li><a href="http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html" rel="nofollow noreferrer">Setting the Classpath</a>. </li><li>The Java Tutorial - <a href="http://docs.oracle.com/javase/tutorial/essential/environment/paths.html" rel="nofollow noreferrer">PATH and CLASSPATH</a></li><p>So ... if you have specified the class name correctly, the next thing to check is that you have specified the classpath correctly:</p><li>Read the three documents linked above.  (Yes ... READ them.  It is important that a Java programmer <em>understands</em> at least the basics of how the Java classpath mechanisms works.)</li><li>Look at command line and / or the CLASSPATH environment variable that is in effect when you run the <code>java</code> command.  Check that the directory names and JAR file names are correct.</li><li>If there are <em>relative</em> pathnames in the classpath, check that they resolve correctly ... from the current directory that is in effect when you run the <code>java</code> command.</li><li>Check that the class (mentioned in the error message) can be located on the <em>effective</em> classpath.</li><p>Additional Notes:</p><li><p>When you put a directory on the classpath, it notionally corresponds to the root of the qualified name space.  Classes are located in the directory structure beneath that root, <em>by mapping the fully qualified name to a pathname</em>.  So for example, if "/usr/local/acme/classes" is on the class path, then when the JVM looks for a class called <code>com.acme.example.Foon</code>, it will look for a ".class" file with this pathname:</p>
<pre><code>    /usr/local/acme/classes/com/acme/example/Foon.class
</code></pre>
<p>If you had put "/usr/local/acme/classes/com/acme/example" on the classpath, then the JVM wouldn't be able to find the class.</p></li><p>When you put a directory on the classpath, it notionally corresponds to the root of the qualified name space.  Classes are located in the directory structure beneath that root, <em>by mapping the fully qualified name to a pathname</em>.  So for example, if "/usr/local/acme/classes" is on the class path, then when the JVM looks for a class called <code>com.acme.example.Foon</code>, it will look for a ".class" file with this pathname:</p><pre><code>    /usr/local/acme/classes/com/acme/example/Foon.class
</code></pre><p>If you had put "/usr/local/acme/classes/com/acme/example" on the classpath, then the JVM wouldn't be able to find the class.</p><li><p>The classpath needs to include all of the <em>other</em> (non-system) classes that your application depends on.  (The system classes are located automatically, and you rarely need to concern yourself with this.)</p></li><p>The classpath needs to include all of the <em>other</em> (non-system) classes that your application depends on.  (The system classes are located automatically, and you rarely need to concern yourself with this.)</p><p>The alternative syntax used for "executable" JAR files is as follows:</p><pre><code>    java [ &lt;option&gt; ... ] -jar &lt;jar-file-name&gt; [&lt;argument&gt; ...]
</code></pre><p>e.g.</p><pre><code>    java -Xmx100m -jar /usr/local/acme-example/listuser.jar fred
</code></pre><p>In this case the name of the entry-point class (i.e. <code>com.acme.example.ListUser</code>) and the classpath are specified in the MANIFEST of the JAR file.</p><p>A typical Java IDE has support for running Java applications in the IDE JVM itself or in a child JVM.  These are <em>generally</em> immune from this particular exception, because the IDE uses its own mechanisms to construct the runtime classpath, identify the main class and create the <code>java</code> command line.</p><p>However it is still possible for this exception to occur, if you do things behind the back of the IDE to break things.  For example, if you have previously set up an Application Launcher for your Java app in Eclipse, and you then moved the JAR file containing the "main" class to a different place in the file system <em>without telling Eclipse</em>, Eclipse would unwittingly launch the JVM with an incorrect classpath.</p><p>In short, if you get this problem in an IDE, check for things like stale IDE state, broken project references or broken launcher configurations.</p><li>From the Oracle Java Tutorials - <a href="http://docs.oracle.com/javase/tutorial/getStarted/problems/index.html" rel="nofollow noreferrer">Common Problems (and Their Solutions)</a></li><li><p>From the Java Documentation:</p>
<ul>
<li><a class="doc-link" href="http://stackoverflow.com/documentation/java/5791/the-java-command-java-and-javaw">The Java Command - 'java' and 'javaw'</a></li>
<li><p><a class="doc-link" href="http://stackoverflow.com/documentation/java/3720/the-classpath">The Classpath</a></p>
<p>oo</p></li>
</ul></li><p>From the Java Documentation:</p><li><a class="doc-link" href="http://stackoverflow.com/documentation/java/5791/the-java-command-java-and-javaw">The Java Command - 'java' and 'javaw'</a></li><li><p><a class="doc-link" href="http://stackoverflow.com/documentation/java/3720/the-classpath">The Classpath</a></p>
<p>oo</p></li><p><a class="doc-link" href="http://stackoverflow.com/documentation/java/3720/the-classpath">The Classpath</a></p><p>oo</p></body></html>

===ID===
584e5a663e2ca51be94fedbf
===QUESTION===
Java inner class and static nested class
What is the main difference between an inner class and a static nested class in Java? Does design / implementation play a role in choosing one of these? 
===LINK===
http://stackoverflow.com/questions/70324/java-inner-class-and-static-nested-class
===KEYWORDS===
role 
===ANSWER===
1223
<html><body><p>Nested classes are divided into two categories: static and non-static. Nested classes that are declared static are simply called static nested classes. Non-static nested classes are called inner classes. </p><p>Static nested classes are accessed using the enclosing class name:</p><pre><code>OuterClass.StaticNestedClass
</code></pre><p>For example, to create an object for the static nested class, use this syntax:</p><pre><code>OuterClass.StaticNestedClass nestedObject = new OuterClass.StaticNestedClass();
</code></pre><p>Objects that are instances of an inner class exist within an instance of the outer class. Consider the following classes:</p><pre><code>class OuterClass {
    ...
    class InnerClass {
        ...
    }
}
</code></pre><p>An instance of InnerClass can exist only within an instance of OuterClass and has direct access to the methods and fields of its enclosing instance.</p><p>To instantiate an inner class, you must first instantiate the outer class. Then, create the inner object within the outer object with this syntax:</p><pre><code>OuterClass.InnerClass innerObject = outerObject.new InnerClass();
</code></pre><p>see: <a href="http://download.oracle.com/javase/tutorial/java/javaOO/nested.html" rel="nofollow noreferrer">Java Tutorial - Nested Classes</a></p><p>For completeness note that there is also such a thing as an <a href="http://stackoverflow.com/questions/20468856/is-it-true-that-every-inner-class-requires-an-enclosing-instance">inner class <em>without</em> an enclosing instance</a>:</p><pre><code>class A {
  int t() { return 1; }
  static A a =  new A() { int t() { return 2; } };
}
</code></pre><p>Here, <code>new A() { ... }</code> is an <em>inner class defined in a static context</em> and does not have an enclosing instance.</p></body></html>

===ID===
584e5a673e2ca51be94fedc0
===QUESTION===
Show JDBC ResultSet in HTML in JSP page using MVC and DAO pattern
I'm implementing MVC using JSP and JDBC. I have imported a database class file to my JSP file and I would like to show the data of a DB table. I don't know how I should return the  ResultSet  from the Java class to the JSP page and embed it in HTML. How can I achieve this? 
===LINK===
http://stackoverflow.com/questions/5003142/show-jdbc-resultset-in-html-in-jsp-page-using-mvc-and-dao-pattern
===KEYWORDS===
jdbc 
===ANSWER===
92
<html><body><p>In a well designed MVC approach, the JSP file should not contain any line of Java code and the servlet class should not contain any line of JDBC code.</p><p>Assuming that you want to show a list of products in a webshop, the following code needs to be created.</p><li><p>A <code>Product</code> class representing a real world entity of a product, it should be just a <a href="http://stackoverflow.com/questions/1727603">Javabean</a>.</p>
<pre><code>public class Product {

    private Long id; 
    private String name;
    private String description;
    private BigDecimal price;

    // Add/generate getters/setters/c'tors/equals/hashcode boilerplate.
}
</code></pre></li><p>A <code>Product</code> class representing a real world entity of a product, it should be just a <a href="http://stackoverflow.com/questions/1727603">Javabean</a>.</p><pre><code>public class Product {

    private Long id; 
    private String name;
    private String description;
    private BigDecimal price;

    // Add/generate getters/setters/c'tors/equals/hashcode boilerplate.
}
</code></pre><li><p>A <a href="http://balusc.omnifaces.org/2008/07/dao-tutorial-data-layer.html" rel="nofollow">DAO</a> class which does all the nasty JDBC work and returns a nice <code>List&lt;Product&gt;</code>.</p>
<pre><code>public class ProductDAO {

    private DataSource dataSource;

    public ProductDAO(DataSource dataSource) {
        this.dataSource = dataSource;
    }

    public List&lt;Product&gt; list() throws SQLException {
        List&lt;Product&gt; products = new ArrayList&lt;Product&gt;();

        try (
            Connection connection = dataSource.getConnection();
            PreparedStatement statement = connection.prepareStatement("SELECT id, name, description, price FROM product");
            ResultSet resultSet = statement.executeQuery();
        ) {
            while (resultSet.next()) {
                Product product = new Product();
                product.setId(resultSet.getLong("id"));
                product.setName(resultSet.getString("name"));
                product.setDescription(resultSet.getString("description"));
                product.setPrice(resultSet.getBigDecimal("price"));
                products.add(product);
            }
        }

        return products;
    }

}
</code></pre></li><p>A <a href="http://balusc.omnifaces.org/2008/07/dao-tutorial-data-layer.html" rel="nofollow">DAO</a> class which does all the nasty JDBC work and returns a nice <code>List&lt;Product&gt;</code>.</p><pre><code>public class ProductDAO {

    private DataSource dataSource;

    public ProductDAO(DataSource dataSource) {
        this.dataSource = dataSource;
    }

    public List&lt;Product&gt; list() throws SQLException {
        List&lt;Product&gt; products = new ArrayList&lt;Product&gt;();

        try (
            Connection connection = dataSource.getConnection();
            PreparedStatement statement = connection.prepareStatement("SELECT id, name, description, price FROM product");
            ResultSet resultSet = statement.executeQuery();
        ) {
            while (resultSet.next()) {
                Product product = new Product();
                product.setId(resultSet.getLong("id"));
                product.setName(resultSet.getString("name"));
                product.setDescription(resultSet.getString("description"));
                product.setPrice(resultSet.getBigDecimal("price"));
                products.add(product);
            }
        }

        return products;
    }

}
</code></pre><li><p>A <a href="http://stackoverflow.com/tags/servlets/info">servlet</a> class which obtains the list and puts it in the request scope.</p>
<pre><code>@WebServlet("/products")
public class ProductsServlet extends HttpServlet {

    @Resource("jdbc/YourDB") // For Tomcat, define as &lt;Resource&gt; in context.xml and declare as &lt;resource-ref&gt; in web.xml.
    private DataSource dataSource;
    private ProductDAO productDAO;

    @Override
    public void init() {
        productDAO = new ProductDAO(dataSource);
    }

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        try {
            List&lt;Product&gt; products = productDAO.list();
            request.setAttribute("products", products); // Will be available as ${products} in JSP
            request.getRequestDispatcher("/WEB-INF/products.jsp").forward(request, response);
        } catch (SQLException e) {
            throw new ServletException("Cannot obtain products from DB", e);
        }
    }

}
</code></pre></li><p>A <a href="http://stackoverflow.com/tags/servlets/info">servlet</a> class which obtains the list and puts it in the request scope.</p><pre><code>@WebServlet("/products")
public class ProductsServlet extends HttpServlet {

    @Resource("jdbc/YourDB") // For Tomcat, define as &lt;Resource&gt; in context.xml and declare as &lt;resource-ref&gt; in web.xml.
    private DataSource dataSource;
    private ProductDAO productDAO;

    @Override
    public void init() {
        productDAO = new ProductDAO(dataSource);
    }

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        try {
            List&lt;Product&gt; products = productDAO.list();
            request.setAttribute("products", products); // Will be available as ${products} in JSP
            request.getRequestDispatcher("/WEB-INF/products.jsp").forward(request, response);
        } catch (SQLException e) {
            throw new ServletException("Cannot obtain products from DB", e);
        }
    }

}
</code></pre><li><p>Finally a <a href="http://stackoverflow.com/tags/jsp/info">JSP</a> file in <code>/WEB-INF/products.jsp</code> which uses <a href="http://stackoverflow.com/tags/jstl/info">JSTL</a> <code>&lt;c:forEach&gt;</code> to iterate over <code>List&lt;Product&gt;</code> which is made available in <a href="http://stackoverflow.com/tags/el/info">EL</a> by <code>${products}</code>, and uses JSTL <code>&lt;c:out&gt;</code> to escape string properties in order to avoid <a href="http://stackoverflow.com/questions/2658922">XSS</a> holes when it concerns user-controlled input.</p>
<pre class="lang-xml prettyprint-override"><code>&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;
&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/format" prefix="fmt" %&gt;
...
&lt;table&gt;
    &lt;c:forEach items="${products}" var="product"&gt;
        &lt;tr&gt;
            &lt;td&gt;${product.id}&lt;/td&gt;
            &lt;td&gt;&lt;c:out value="${product.name}" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;c:out value="${product.description}" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;fmt:formatNumber value="${product.price}" type="currency" currencyCode="USD" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/c:forEach&gt;
&lt;/table&gt;
</code></pre></li><p>Finally a <a href="http://stackoverflow.com/tags/jsp/info">JSP</a> file in <code>/WEB-INF/products.jsp</code> which uses <a href="http://stackoverflow.com/tags/jstl/info">JSTL</a> <code>&lt;c:forEach&gt;</code> to iterate over <code>List&lt;Product&gt;</code> which is made available in <a href="http://stackoverflow.com/tags/el/info">EL</a> by <code>${products}</code>, and uses JSTL <code>&lt;c:out&gt;</code> to escape string properties in order to avoid <a href="http://stackoverflow.com/questions/2658922">XSS</a> holes when it concerns user-controlled input.</p><pre class="lang-xml prettyprint-override"><code>&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;
&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/format" prefix="fmt" %&gt;
...
&lt;table&gt;
    &lt;c:forEach items="${products}" var="product"&gt;
        &lt;tr&gt;
            &lt;td&gt;${product.id}&lt;/td&gt;
            &lt;td&gt;&lt;c:out value="${product.name}" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;c:out value="${product.description}" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;fmt:formatNumber value="${product.price}" type="currency" currencyCode="USD" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/c:forEach&gt;
&lt;/table&gt;
</code></pre><p>To get it to work, just call the servlet by its URL. Provided that the servlet is annotated <code>@WebServlet("/products")</code> or mapped in <code>web.xml</code> with <code>&lt;url-pattern&gt;/products&lt;/url-pattern&gt;</code>, then you can call it by <code>http://example.com/contextname/products</code></p><li><a href="http://stackoverflow.com/questions/3177733">How to avoid Java code in JSP files?</a></li><li><a href="http://stackoverflow.com/questions/2349633">doGet and doPost in Servlets</a></li><li><a href="http://stackoverflow.com/questions/2299469">How should I connect to JDBC database / datasource in a servlet based application?</a></li><li><a href="http://stackoverflow.com/questions/3541077">Design Patterns web based applications</a></li><li><a href="http://stackoverflow.com/questions/2047122/requestdispatcher-forward-vs-httpservletresponse-sendredirect/2048640#2048640">RequestDispatcher.forward() vs HttpServletResponse.sendRedirect()</a></li><li><a href="http://stackoverflow.com/questions/9201128/how-to-map-a-resultset-with-unknown-amount-of-columns-to-a-list-and-display-it-i">How to map a ResultSet with unknown amount of columns to a List and display it in a HTML table?</a></li></body></html>

===ID===
584e5a683e2ca51be94fedc1
===QUESTION===
How do I create a Java string from the contents of a file?
I've been using the idiom below for some time now. And it seems to be the most wide-spread, at least on the sites I've visited. Is there a better/different way to read a file into a string in Java? 
===LINK===
http://stackoverflow.com/questions/326390/how-do-i-create-a-java-string-from-the-contents-of-a-file
===KEYWORDS===
wide 
===ANSWER===
965
<html><body><p>Here's a compact, robust idiom for Java 7, wrapped up in a utility method:</p><pre><code>static String readFile(String path, Charset encoding) 
  throws IOException 
{
  byte[] encoded = Files.readAllBytes(Paths.get(path));
  return new String(encoded, encoding);
}
</code></pre><p>Java 7 added a <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines%28java.nio.file.Path,%20java.nio.charset.Charset%29" rel="nofollow noreferrer">convenience method to read a file as lines of text,</a> represented as a <code>List&lt;String&gt;</code>. This approach is "lossy" because the line separators are stripped from the end of each line.</p><pre><code>List&lt;String&gt; lines = Files.readAllLines(Paths.get(path), encoding);
</code></pre><p>The first method, that preserves line breaks, can temporarily require memory several times the size of the file, because for a short time the raw file contents (a byte array), and the decoded characters (each of which is 16 bits even if encoded as 8 bits in the file) reside in memory at once. It is safest to apply to files that you know to be small relative to the available memory.</p><p>The second method, reading lines, is usually more memory efficient, because the input byte buffer for decoding doesn't need to contain the entire file. However, it's still not suitable for files that are very large relative to available memory.</p><p>For reading large files, you need a different design for your program, one that reads a chunk of text from a stream, processes it, and then moves on to the next, reusing the same fixed-sized memory block. Here, "large" depends on the computer specs. Nowadays, this threshold might be many gigabytes of RAM.</p><p>One thing that is missing from the sample in the original post is the character encoding. There are some special cases where the platform default is what you want, but they are rare, and you should be able justify your choice.</p><p>The <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html" rel="nofollow noreferrer"><code>StandardCharsets</code></a> class define some constants for the encodings required of all Java runtimes:</p><pre><code>String content = readFile("test.txt", StandardCharsets.UTF_8);
</code></pre><p>The platform default is available from <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/charset/Charset.html#defaultCharset%28%29" rel="nofollow noreferrer">the <code>Charset</code> class</a> itself:</p><pre><code>String content = readFile("test.txt", Charset.defaultCharset());
</code></pre><p>Note: This answer largely replaces my Java 6 version. The utility of Java 7 safely simplifies the code, and the old answer, which used a mapped byte buffer, prevented the file that was read from being deleted until the mapped buffer was garbage collected. You can view the old version via the "edited" link on this answer.</p></body></html>

===ID===
584e5a683e2ca51be94fedc2
===QUESTION===
What is the reason behind “non-static method cannot be referenced from a static context”? [duplicate]
This question already has an answer here: The very common beginner mistake is when you try to use a class property "statically" without making an instance of that class. It leaves you with the mentioned error message. You can either make the non static method static or make an instance of that class to use its properties. Why? I am not asking for solutions. I would be grateful to know what's the reason behind it. The very core reason! 
===LINK===
http://stackoverflow.com/questions/290884/what-is-the-reason-behind-non-static-method-cannot-be-referenced-from-a-static
===KEYWORDS===
referenced 
===ANSWER===
173
<html><body><p>You can't call something that doesn't exist.  Since you haven't created an object, the non-static method doesn't exist yet.  A static method (by definition) always exists.</p></body></html>

===ID===
584e5a693e2ca51be94fedc3
===QUESTION===
Division of integers in Java
This is a basic question but I can't find an answer.  I've looked into floating point arithmetic and a few other topics but nothing has seemed to address this.  I'm sure I just have the wrong terminology. Basically, I want to take two quantities - completed, and total - and divide them to come up with a percentage (of how much has been completed).  The quantities are  long s.  Here's the setup: I've tried reassigning the result to a double - it prints  0.0 .  Where am I going wrong? Incidentally, the next step is to multiply this result by 100, which I assume should be easy once this small hurdle is stepped over. BTW not homework here just plain old numskull-ness (and maybe too much coding today). 
===LINK===
http://stackoverflow.com/questions/7220681/division-of-integers-in-java
===KEYWORDS===
btw 
===ANSWER===
77
<html><body><p>Converting the <em>output</em> is too late; the calculation has already taken place in integer arithmetic.  You need to convert the <em>inputs</em> to <code>double</code>:</p><pre><code>System.out.println((double)completed/(double)total);
</code></pre><p>Note that you don't actually need to convert <em>both</em> of them; so long as one is <code>double</code>, the other will be implicitly converted.  But I prefer to do both, for symmetry.</p></body></html>

===ID===
584e5a693e2ca51be94fedc4
===QUESTION===
Converting String to Int in Java?
How can I convert a  String  to an  int  in Java? My String contains only numbers and I want to return the number it represents. For example, given the string  "1234"  the result should be the number  1234 . 
===LINK===
http://stackoverflow.com/questions/5585779/converting-string-to-int-in-java
===KEYWORDS===
represents 
===ANSWER===
2658
<html><body><pre><code>int foo = Integer.parseInt("1234");
</code></pre><p>See the <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-">Java Documentation</a> for more information.</p><p><em>(If you have it in a <code>StringBuilder</code> (or the ancient <code>StringBuffer</code>), you'll need to do <code>Integer.parseInt(myBuilderOrBuffer.toString());</code> instead).</em></p></body></html>

===ID===
584e5a6a3e2ca51be94fedc5
===QUESTION===
Why is Java Vector class considered obsolete or deprecated?
Why is Java Vector considered a legacy class, obsolete or deprecated? Isn't its use valid when working with concurrency? And if I don't want to manually synchronize objects and just want to use a thread-safe collection without needing to make fresh copies of the underlying array (as  CopyOnWriteArrayList  does), then is it fine to use  Vector ? What about  Stack , which is a subclass of  Vector , what should I use instead of it? 
===LINK===
http://stackoverflow.com/questions/1386275/why-is-java-vector-class-considered-obsolete-or-deprecated
===KEYWORDS===
vector 
===ANSWER===
517
<html><body><p><code>Vector</code> synchronizes on each individual operation. That's almost never what you want to do.</p><p>Generally you want to synchronize a <em>whole sequence</em> of operations. Synchronizing individual operations is both less safe (if you iterate over a <code>Vector</code>, for instance, you still need to take out a lock to avoid anyone else changing the collection at the same time, which would cause a <code>ConcurrentModificationException</code> in the iterating thread) but also slower (why take out a lock repeatedly when once will be enough)?</p><p>Of course, it also has the overhead of locking even when you don't need to.</p><p>Basically, it's a very flawed approach to synchronization in most situations. As <strong>Mr Brian Henk</strong> pointed out, you can decorate a collection using the calls such as <a href="http://java.sun.com/javase/6/docs/api/java/util/Collections.html#synchronizedList(java.util.List)" rel="nofollow noreferrer"><code>Collections.synchronizedList</code></a> - the fact that <code>Vector</code> combines both the "resized array" collection implementation with the "synchronize every operation" bit is another example of poor design; the decoration approach gives cleaner separation of concerns.</p><p>As for a <code>Stack</code> equivalent - I'd look at <code>Deque</code>/<code>ArrayDeque</code> to start with.</p></body></html>

===ID===
584e5a6a3e2ca51be94fedc6
===QUESTION===
Manipulating an Access database from Java without ODBC
I want to manipulate a Microsoft Access database (.accdb or .mdb file) from my Java project. I don't want to use the JDBC-ODBC Bridge and the Access ODBC driver from Microsoft because: I have seen other answers mentioning a JDBC driver for Access databases named  UCanAccess . How can I set up my Java project to use this approach? (Answers suggesting better ways of working with Access databases from Java would also be most welcome.) 
===LINK===
http://stackoverflow.com/questions/21955256/manipulating-an-access-database-from-java-without-odbc
===KEYWORDS===
accdb 
===ANSWER===
110
<html><body><p><a href="http://ucanaccess.sourceforge.net/site.html" rel="nofollow noreferrer">UCanAccess</a> is a pure Java JDBC driver that allows us to read from and write to Access databases without using ODBC. It uses two other packages, <a href="http://jackcess.sourceforge.net/" rel="nofollow noreferrer">Jackcess</a> and <a href="http://hsqldb.org/" rel="nofollow noreferrer">HSQLDB</a>, to perform these tasks. The following is a brief overview of how to get it set up.</p><p> </p><p>If your project uses <a href="https://maven.apache.org/index.html" rel="nofollow noreferrer">Maven</a> you can simply include UCanAccess via the following coordinates:</p><p><strong>groupId:</strong> net.sf.ucanaccess<br>
<strong>artifactId:</strong> ucanaccess</br></p><p> </p><p>As mentioned above, UCanAccess requires Jackcess and HSQLDB. Jackcess in turn has its own <a href="http://jackcess.sourceforge.net/dependencies.html" rel="nofollow noreferrer">dependencies</a>. So to use UCanAccess you will need to include the following components:</p><p><a href="http://ucanaccess.sourceforge.net/site.html" rel="nofollow noreferrer">UCanAccess</a> (ucanaccess-x.x.x.jar)<br>
<a href="http://hsqldb.org/" rel="nofollow noreferrer">HSQLDB</a> (hsqldb.jar, version 2.2.5 or newer)<br>
<a href="http://jackcess.sourceforge.net/" rel="nofollow noreferrer">Jackcess</a> (jackcess-2.x.x.jar)<br>
<a href="http://commons.apache.org/proper/commons-lang/" rel="nofollow noreferrer">commons-lang</a> (commons-lang-2.6.jar, or newer 2.x version)<br>
<a href="http://commons.apache.org/proper/commons-logging/" rel="nofollow noreferrer">commons-logging</a> (commons-logging-1.1.1.jar, or newer 1.x version)</br></br></br></br></p><p>Fortunately, UCanAccess includes all of the required JAR files in its distribution file. When you unzip it you will see something like</p><pre class="lang-none prettyprint-override"><code>ucanaccess-3.0.3.jar  
  /lib/
    commons-lang-2.6.jar  
    commons-logging-1.1.1.jar  
    hsqldb.jar  
    jackcess-2.1.3.jar
</code></pre><p>All you need to do is add all <strong>five (5)</strong> JARs to your project.</p><p>NOTE: Do <strong>not</strong> add <code>loader/ucanload.jar</code> to your build path if you are adding the other five (5) JAR files. The <code>UcanloadDriver</code> class is only used in special circumstances and requires a different setup. See the related answer <a href="http://stackoverflow.com/a/34469789/2144390">here</a> for details.</p><p><strong>Eclipse:</strong> Right-click the project in Package Explorer and choose <code>Build Path &gt; Configure Build Path...</code>. Click the "Add External JARs..." button to add each of the five (5) JARs. When you are finished your Java Build Path should look something like this</p><p><a href="https://i.stack.imgur.com/ZP3X3.png" rel="nofollow noreferrer"><img alt="BuildPath.png" src="https://i.stack.imgur.com/ZP3X3.png"/></a></p><p><strong>NetBeans:</strong> Expand the tree view for your project, right-click the "Libraries" folder and choose "Add JAR/Folder...", then browse to the JAR file. </p><p><img alt="nbAddJar.png" src="https://i.stack.imgur.com/dVN3d.png"/></p><p>After adding all five (5) JAR files the "Libraries" folder should look something like this:</p><p><img alt="nbLibraries.png" src="https://i.stack.imgur.com/e5FKa.png"/></p><p><strong>IntelliJ IDEA:</strong> Choose <code>File &gt; Project Structure...</code> from the main menu. In the "Libraries" pane click the "Add" (<code>+</code>) button and add the five (5) JAR files. Once that is done the project should look something like this:</p><p><a href="https://i.stack.imgur.com/AnOp5.png" rel="nofollow noreferrer"><img alt="IntelliJ.png" src="https://i.stack.imgur.com/AnOp5.png"/></a></p><p> </p><p>Now "U Can Access" data in .accdb and .mdb files using code like this</p><pre class="lang-java prettyprint-override"><code>// assumes...
//     import java.sql.*;
Connection conn=DriverManager.getConnection(
        "jdbc:ucanaccess://C:/__tmp/test/zzz.accdb");
Statement s = conn.createStatement();
ResultSet rs = s.executeQuery("SELECT [LastName] FROM [Clients]");
while (rs.next()) {
    System.out.println(rs.getString(1));
}
</code></pre><p> </p><p>At the time of writing this Q&amp;A I had no involvement in or affiliation with the UCanAccess project; I just used it. I have since become a contributor to the project.</p></body></html>

===ID===
584e5a6b3e2ca51be94fedc7
===QUESTION===
What is a StackOverflowError?
What is a  StackOverflowError , what causes it, and how should I deal with them? 
===LINK===
http://stackoverflow.com/questions/214741/what-is-a-stackoverflowerror
===KEYWORDS===
stackoverflowerror 
===ANSWER===
240
<html><body><p>Parameters and local variables are allocated on the stack (with reference types the object lives on the heap and a variable references that object). The stack typically lives at the upper end of your address space and as it is used up it heads towards the bottom of the address space (i.e. towards zero).</p><p>Your process also has a heap, which lives at the bottom end of your process. As you allocate memory this heap can grow towards the upper end of your address space. As you can see, there is the potential for the heap to "collide" with the stack (a bit like tectonic plates!!!).</p><p>The common cause for a stack overflow is a bad recursive call. Typically this is caused when your recursive functions doesn't have the correct termination condition, so it ends up calling itself forever. However, with GUI programming it's possible to generate indirect recursion. For example, your app may be handling paint messages and whilst processing them it may call a function that causes the system to send another paint message. Here you've not explicitly called yourself, but the OS/VM has done it for you.</p><p>To deal with them you'll need to examine your code. If you've got functions that call themselves then check that you've got a terminating condition. If you have then check than when calling the function you have at least modified one of the arguments, otherwise there'll be no visible change for the recursively called function and the terminating condition is useless.</p><p>If you've got no obvious recursive functions then check to see if you're calling any library functions that indirectly will cause your function to be called (like the implicit case above).</p></body></html>

===ID===
584e5a6c3e2ca51be94fedc8
===QUESTION===
What is a serialVersionUID and why should I use it?
Eclipse issues warnings when a  serialVersionUID  is missing.   The serializable class Foo does not declare a static final
  serialVersionUID field of type long What is  serialVersionUID  and why is it important?  Please show an example where missing  serialVersionUID  will cause a problem. 
===LINK===
http://stackoverflow.com/questions/285793/what-is-a-serialversionuid-and-why-should-i-use-it
===KEYWORDS===
show 
===ANSWER===
1409
<html><body><p>The docs for <a href="http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html" rel="nofollow noreferrer"><code>java.io.Serializable</code></a> are probably about as good an explanation as you'll get:</p><p>The serialization runtime associates
  with each serializable class a version
  number, called a serialVersionUID,
  which is used during deserialization
  to verify that the sender and receiver
  of a serialized object have loaded
  classes for that object that are
  compatible with respect to
  serialization. If the receiver has
  loaded a class for the object that has
  a different serialVersionUID than that
  of the corresponding sender's class,
  then deserialization will result in an
  <code>InvalidClassException</code>. A serializable
  class can declare its own
  serialVersionUID explicitly by
  declaring a field named
  "<code>serialVersionUID</code>" that must be
  static, final, and of type <code>long</code>:</p><pre><code>ANY-ACCESS-MODIFIER static final long serialVersionUID = 42L;
</code></pre><p>If a
  serializable class does not explicitly
  declare a serialVersionUID, then the
  serialization runtime will calculate a
  default serialVersionUID value for
  that class based on various aspects of
  the class, as described in the
  Java(TM) Object Serialization
  Specification. However, it is <em>strongly
  recommended</em> that all serializable
  classes explicitly declare
  serialVersionUID values, since the
  default serialVersionUID computation
  is highly sensitive to class details
  that may vary depending on compiler
  implementations, and can thus result
  in unexpected <code>InvalidClassExceptions</code>
  during deserialization. Therefore, to
  guarantee a consistent
  serialVersionUID value across
  different java compiler
  implementations, a serializable class
  must declare an explicit
  serialVersionUID value. It is also
  strongly advised that explicit
  serialVersionUID declarations use the
  private modifier where possible, since
  such declarations apply only to the
  immediately declaring
  class--serialVersionUID fields are not
  useful as inherited members.</p></body></html>

===ID===
584e5a6d3e2ca51be94fedc9
===QUESTION===
Read/convert an InputStream to a String
If you have  java.io.InputStream  object, how should you process that object and produce a  String ? Suppose I have an  InputStream  that contains text data, and I want to convert this to a  String  (for example, so I can write the contents of the stream to a log file). What is the easiest way to take the  InputStream  and convert it to a  String ? 
===LINK===
http://stackoverflow.com/questions/309424/read-convert-an-inputstream-to-a-string
===KEYWORDS===
read/convert 
===ANSWER===
1483
<html><body><p>A nice way to do this is using <a href="http://commons.apache.org/" rel="nofollow noreferrer">Apache commons</a> <code><a href="https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html" rel="nofollow noreferrer">IOUtils</a></code> to copy the <code>InputStream</code> into a <code>StringWriter</code>... something like</p><pre><code>StringWriter writer = new StringWriter();
IOUtils.copy(inputStream, writer, encoding);
String theString = writer.toString();
</code></pre><p>or even</p><pre><code>// NB: does not close inputStream, you can use IOUtils.closeQuietly for that
String theString = IOUtils.toString(inputStream, encoding); 
</code></pre><p>Alternatively, you could use <code>ByteArrayOutputStream</code> if you don't want to mix your Streams and Writers</p></body></html>

===ID===
584e5a6e3e2ca51be94fedca
===QUESTION===
Reading a plain text file in Java
It seems there are different ways to read and write data of files in Java. I want to read ASCII data from a file. What are the possible ways and their differences? 
===LINK===
http://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java
===KEYWORDS===
files 
===ANSWER===
337
<html><body><p>ASCII is a TEXT file so you would use <a href="http://docs.oracle.com/javase/7/docs/api/java/io/Reader.html">Readers</a> for reading. Java also supports reading from a binary file using <a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html">InputStreams</a>. If the files being read are huge then you would want to use a <a href="http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html">BufferedReader</a> on top of a <a href="http://docs.oracle.com/javase/7/docs/api/java/io/FileReader.html">FileReader</a> to improve read performance.</p><p>Go through <a href="http://www.javapractices.com/topic/TopicAction.do?Id=42">this article</a> on how to use a Reader</p><p>I'd also recommend you download and read this wonderful (yet free) book called <a href="http://www.mindviewinc.com/Books/downloads.html"><strong>Thinking In Java</strong></a></p><p><strong>In Java 7</strong>:</p><p><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllBytes%28java.nio.file.Path%29">new String(Files.readAllBytes(...))</a> or <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines%28java.nio.file.Path,%20java.nio.charset.Charset%29">Files.readAllLines(...)</a></p><p><strong>In Java 8</strong>:</p><p><a href="http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-">Files.lines(..).forEach(...)</a></p></body></html>

===ID===
584e5a6f3e2ca51be94fedcb
===QUESTION===
Cannot refer to a non-final variable inside an inner class defined in a different method
Edited:
I need to change the values of several variables as they run several times thorugh a timer. I need to keep updating the values with every iteration through the timer. I cannot set the values to final as that will prevent me from updating the values however I am getting the error I describe in the initial question below: I had previously written what is below: I am getting the error "cannot refer to a non-final variable inside an inner class defined in a different method". This is happening for the double called price and the Price called priceObject. Do you know why I get this problem. I do not understand why I need to have a final declaration. Also if you can see what it is I am trying to do, what do I have to do to get around this problem. 
===LINK===
http://stackoverflow.com/questions/1299837/cannot-refer-to-a-non-final-variable-inside-an-inner-class-defined-in-a-differen
===KEYWORDS===
edited 
===ANSWER===
173
<html><body><p>Java doesn't support true <a href="http://en.wikipedia.org/wiki/Closure_(computer_science)" rel="nofollow noreferrer">closures</a>, even though using an anonymous class like you are using here (new TimerTask() { ... }) looks like a kind of closure.</p><p><strong>edit</strong> - <em>See the comments below - the following is not a correct explanation, as KeeperOfTheSoul points out.</em></p><p>This is why it doesn't work:</p><p>The variables lastPrice and price are local variables in the main() method. The object that you create with the anonymous class might last until after the main() method returns.</p><p>When the main() method returns, local variables (such as lastPrice and price) will be cleaned up from the stack, so they won't exist anymore after main() returns.</p><p>But the anonymous class object references these variables. Things would go horribly wrong if the anonymous class object tries to access the variables after they have been cleaned up.</p><p>By making lastPrice and price <code>final</code>, they are not really variables anymore, but constants. The compiler can then just replace the use of lastPrice and price in the anonymous class with the values of the constants (at compile time, ofcourse), and you won't have the problem with accessing non-existent variables anymore.</p><p>Other programming languages that do support closures do it by treating those variables specially - by making sure they don't get destroyed when the method ends, so that the closure can still access the variables.</p><p>@Ankur: You could do this:</p><pre><code>public static void main(String args[]) {
    int period = 2000;
    int delay = 2000;

    Timer timer = new Timer();

    timer.scheduleAtFixedRate(new TimerTask() {
        // Variables as member variables instead of local variables in main()
        private double lastPrice = 0;
        private Price priceObject = new Price();
        private double price = 0;

        public void run() {
            price = priceObject.getNextPrice(lastPrice);
            System.out.println();
            lastPrice = price;
        }
    }, delay, period);      
}
</code></pre></body></html>

===ID===
584e5a703e2ca51be94fedcc
===QUESTION===
Converting ISO 8601-compliant String to java.util.Date
I am trying to convert an  ISO 8601  formatted String to a java.util.Date.  I found the pattern "yyyy-MM-dd'T'HH:mm:ssZ" to be ISO8601-compliant if used with a Locale (compare sample).
However, using the java.text.SimpleDateFormat, I cannot convert the correctly formatted String "2010-01-01T12:00:00+01:00". I have to convert it first to "2010-01-01T12:00:00+0100", without the colon. 
So, the current solution is which obviously isn't that nice. Am I missing something or is there a better solution? answer Thanks to JuanZe's comment, I found the  Joda-Time  magic, it is also  described here .
So, the solution is Or more simply, use the default parser via the constructor: To me, this is nice. 
===LINK===
http://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date
===KEYWORDS===
comment 
===ANSWER===
350
<html><body><p>Unfortunately, the time zone formats available to <a href="http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html" rel="nofollow noreferrer">SimpleDateFormat</a> (Java 6 and earlier) are not <a href="https://en.wikipedia.org/wiki/ISO_8601" rel="nofollow noreferrer">ISO 8601</a> compliant. SimpleDateFormat understands time zone strings like "GMT+01:00" or "+0100", the latter according to <a href="http://www.ietf.org/rfc/rfc0822.txt" rel="nofollow noreferrer" title="STANDARD FOR THE FORMAT OF ARPA INTERNET TEXT MESSAGES">RFC # 822</a>.</p><p>Even if Java 7 added support for time zone descriptors according to ISO 8601, SimpleDateFormat is still not able to properly parse a complete date string, as it has no support for optional parts.</p><p>Reformatting your input string using regexp is certainly one possibility, but the replacement rules are not as simple as in your question:</p><li>Some time zones are not full hours off <a href="https://en.wikipedia.org/wiki/Coordinated_Universal_Time" rel="nofollow noreferrer">UTC</a>, so the string does not necessarily end with ":00".</li><li>ISO8601 allows only the number of hours to be included in the time zone, so "+01" is equivalent to "+01:00"</li><li>ISO8601 allows the usage of "Z" to indicate UTC instead of "+00:00".</li><p>The easier solution is possibly to use the data type converter in JAXB, since JAXB must be able to parse ISO8601 date string according to the XML Schema specification. <code>javax.xml.bind.DatatypeConverter.parseDateTime("2010-01-01T12:00:00Z")</code> will give you a <code>Calendar</code> object and you can simply use getTime() on it, if you need a <code>Date</code> object.</p><p>You could probably use <a href="http://www.joda.org/joda-time/" rel="nofollow noreferrer">Joda-Time</a> as well, but I don't know why you should bother with that.</p></body></html>

===ID===
584e5a713e2ca51be94fedcd
===QUESTION===
Why are only final variables accessible in anonymous class?
a  can only be final here.  Why?  How can I reassign  a  in  onClick()  method without keeping it as private member? How can I return the  5*a  when it clicked? I mean, 
===LINK===
http://stackoverflow.com/questions/4732544/why-are-only-final-variables-accessible-in-anonymous-class
===KEYWORDS===
keeping 
===ANSWER===
326
<html><body><p>As noted in comments, some of this becomes irrelevant in Java 8, where <code>final</code> can be implicit. Only an <em>effectively</em> final variable can be used in an anonymous inner class or lambda expression though.</p><p>It's basically due to the way Java manages <a href="http://en.wikipedia.org/wiki/Closure_%28computer_science%29">closures</a>.</p><p>When you create an instance of an anonymous inner class, any variables which are used within that class have their <em>values</em> copied in via the autogenerated constructor. This avoids the compiler having to autogenerate various extra types to hold the logical state of the "local variables", as for example the C# compiler does... (When C# captures a variable in an anonymous function, it really captures the variable - the closure can update the variable in a way which is seen by the main body of the method, and vice versa.)</p><p>As the value has been copied into the instance of the anonymous inner class, it would look odd if the variable could be modified by the rest of the method - you could have code which appeared to be working with an out-of-date variable (because that's effectively what <em>would</em> be happening... you'd be working with a copy taken at a different time). Likewise if you could make changes within the anonymous inner class, developers might expect those changes to be visible within the body of the enclosing method.</p><p>Making the variable final removes all these possibilities - as the value can't be changed  at all, you don't need to worry about whether such changes will be visible. The only ways to allow the method and the anonymous inner class see each other's changes is to use a mutable type of some description. This could be the enclosing class itself, an array, a mutable wrapper type... anything like that. Basically it's a bit like communicating between one method and another: changes made to the <em>parameters</em> of one method aren't seen by its caller, but changes made to the objects <em>referred to</em> by the parameters are seen.</p><p>If you're interested in a more detailed comparison between Java and C# closures, I have an <a href="http://csharpindepth.com/Articles/Chapter5/Closures.aspx">article</a> which goes into it further. I wanted to focus on the Java side in this answer :)</p></body></html>

===ID===
584e5a723e2ca51be94fedce
===QUESTION===
How to retrieve and display images from a database in a JSP page?
How can I retrieve and display images from a database in a JSP page? 
===LINK===
http://stackoverflow.com/questions/2340406/how-to-retrieve-and-display-images-from-a-database-in-a-jsp-page
===KEYWORDS===
retrieve 
===ANSWER===
54
<html><body><p>Let's see in steps what should happen: </p><li>JSP is basically a view technology which is supposed to generate HTML output.</li><li>To display an image in HTML, you need the HTML <code>&lt;img&gt;</code> element. </li><li>To let it locate an image, you need to specify its <code>src</code> attribute. </li><li>The <code>src</code> attribute needs to point to a valid <code>http://</code> URL and thus not a local disk file system path <code>file://</code> as that would never work when the server and client run at physically different machines.</li><li>The image URL needs to have the image identifier in  either the request path (e.g. <code>http://example.com/context/images/foo.png</code>) or as request parameter (e.g. <code>http://example.com/context/images?id=1</code>). </li><li>In JSP/Servlet world, you can let a Servlet listen on a certain URL pattern like <code>/images/*</code>, so that you can just execute some Java code on specific URL's. </li><li>Images are binary data and are to be obtained as either a <code>byte[]</code> or <code>InputStream</code> from the DB, the <a href="http://docs.oracle.com/javase/tutorial/jdbc/index.html" rel="nofollow noreferrer">JDBC API</a> offers the <a href="http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getBytes-java.lang.String-" rel="nofollow noreferrer"><code>ResultSet#getBytes()</code></a> and <a href="http://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html#getBinaryStream-java.lang.String-" rel="nofollow noreferrer"><code>ResultSet#getBinaryStream()</code></a> for this, and <a href="http://docs.oracle.com/javaee/7/tutorial/partpersist.htm#BNBPY" rel="nofollow noreferrer">JPA API</a> offers <a href="http://docs.oracle.com/javaee/7/api/javax/persistence/Lob.html" rel="nofollow noreferrer"><code>@Lob</code></a> for this.</li><li>In the Servlet you can just write this <code>byte[]</code> or <code>InputStream</code> to the <code>OutputStream</code> of the response the usual <a href="http://docs.oracle.com/javase/tutorial/essential/io/" rel="nofollow noreferrer">Java IO</a> way.</li><li>The client side needs to be instructed that the data should be handled as an image, thus at least the <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.17" rel="nofollow noreferrer"><code>Content-Type</code></a> response header needs to be set as well. You can obtain the right one via <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#getMimeType(java.lang.String)" rel="nofollow noreferrer"><code>ServletContext#getMimeType()</code></a> based on image file extension which you can extend and/or override via <code>&lt;mime-mapping&gt;</code> in <code>web.xml</code>.</li><p>That should be it. It almost writes code itself. Let's start with HTML (in <a href="http://stackoverflow.com/tags/jsp/info">JSP</a>):</p><pre class="lang-html prettyprint-override"><code>&lt;img src="${pageContext.request.contextPath}/images/foo.png"&gt;
&lt;img src="${pageContext.request.contextPath}/images/bar.png"&gt;
&lt;img src="${pageContext.request.contextPath}/images/baz.png"&gt;
</code></pre><p>You can if necessary also dynamically set <code>src</code> with <a href="http://stackoverflow.com/tags/el/info">EL</a> while iterating using <a href="http://stackoverflow.com/tags/jstl/info">JSTL</a>:</p><pre class="lang-html prettyprint-override"><code>&lt;c:forEach items="${imagenames}" var="imagename"&gt;
    &lt;img src="${pageContext.request.contextPath}/images/${imagename}"&gt;
&lt;/c:forEach&gt;
</code></pre><p>Then define/create a <a href="http://stackoverflow.com/tags/servlets/info">servlet</a> which listens on GET requests on URL pattern of <code>/images/*</code>, the below example uses plain vanilla JDBC for the job:</p><pre><code>@WebServlet("/images/*")
public class ImageServlet extends HttpServlet {

    // content=blob, name=varchar(255) UNIQUE.
    private static final String SQL_FIND = "SELECT content FROM Image WHERE name = ?";

    @Resource(name="jdbc/yourDB") // For Tomcat, define as &lt;Resource&gt; in context.xml and declare as &lt;resource-ref&gt; in web.xml.
    private DataSource dataSource;

    @Override
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        String imageName = request.getPathInfo().substring(1); // Returns "foo.png".

        try (Connection connection = dataSource.getConnection(); PreparedStatement statement = connection.prepareStatement(SQL_FIND)) {
            statement.setString(1, imageName);

            try (ResultSet resultSet = statement.executeQuery()) {
                if (resultSet.next()) {
                    byte[] content = resultSet.getBytes("content");
                    response.setContentType(getServletContext().getMimeType(imageName));
                    response.setContentLength(content.length);
                    response.getOutputStream().write(content);
                } else {
                    response.sendError(HttpServletResponse.SC_NOT_FOUND); // 404.
                }
            }
        } catch (SQLException e) {
            throw new ServletException("Something failed at SQL/DB level.", e);
        }
    }

}
</code></pre><p>That's it. In case you worry about HEAD and caching headers and properly responding on those requests, use this <a href="http://stackoverflow.com/questions/132052/servlet-for-serving-static-content/29991447#29991447">abstract template for static resource servlet</a>.</p><li><a href="http://stackoverflow.com/questions/2299469/how-should-i-connect-to-jdbc-database-datasource-in-a-servlet-based-applicatio/">How should I connect to JDBC database / datasource in a servlet based application?</a></li><li><a href="http://stackoverflow.com/questions/7033676/how-to-upload-an-image-and-save-it-in-database">How to upload an image and save it in database?</a></li><li><a href="http://stackoverflow.com/questions/1812244/simplest-way-to-serve-static-data-from-outside-the-application-server-in-a-java">Simplest way to serve static data from outside the application server in a Java web application</a></li></body></html>

===ID===
584e5a733e2ca51be94fedcf
===QUESTION===
Design Patterns web based applications
I am designing a simple web based application. I am new to this web based domain.I needed your advice regarding the design patterns like how responsibility should be distributed among Servlets, criteria to make new Servlet, etc. Actually I have few entities on my home page and corresponding to each one of them we have few options like add, edit and delete. Earlier I was using one Servlet per options like Servlet1 for add entity1, Servlet2 for edit entity1 and so on and in this way we ended up having a large number of servlets. Now we are changing our design. My question is how you exactly choose how you choose the responsibility of a servlet. Should we have one Servlet per entity which will process all it's options and forward request to service layer.Or should we have one servlet for the whole page which will process the whole page request and then forward it to corresponding service layer.Also should the request object forwarded to service layer or not. Please you guide us in choosing the best design.Also any pointer to a good design pattern material will be welcome. 
===LINK===
http://stackoverflow.com/questions/3541077/design-patterns-web-based-applications
===KEYWORDS===
process 
===ANSWER===
418
<html><body><p>A bit decent web application consists of a mix of design patterns. I'll mention only the most important ones.</p><p>The core (architectural) design pattern you'd like to use is the <a href="http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" rel="nofollow noreferrer">Model-View-Controller pattern</a>. The <em>Controller</em> is to be represented by a Servlet which (in)directly creates/uses a specific <em>Model</em> and <em>View</em> based on the request. The <em>Model</em> is to be represented by Javabean classes. This is often further dividable in <em>Business Model</em> which contains the actions (behaviour) and <em>Data Model</em> which contains the data (information). The <em>View</em> is to be represented by JSP files which have direct access to the (<em>Data</em>) <em>Model</em> by EL (Expression Language). </p><p>Then there are variations based on how actions and events are handled. The popular ones are:</p><li><p><strong>Request (action) based MVC</strong>: this is the simplest to implement. The (<em>Business</em>) <em>Model</em> works directly with <code>HttpServletRequest</code> and <code>HttpServletResponse</code> objects. You have to gather, convert and validate the request parameters (mostly) yourself. The <em>View</em> can be represented by plain vanilla HTML/CSS/JS and it does not maintain state across requests. This is how among others <a href="http://stackoverflow.com/tags/spring-mvc/info">Spring MVC</a>, <a href="http://stackoverflow.com/tags/struts/info">Struts</a> and <a href="http://stackoverflow.com/tags/stripes/info">Stripes</a> works.</p></li><p><strong>Request (action) based MVC</strong>: this is the simplest to implement. The (<em>Business</em>) <em>Model</em> works directly with <code>HttpServletRequest</code> and <code>HttpServletResponse</code> objects. You have to gather, convert and validate the request parameters (mostly) yourself. The <em>View</em> can be represented by plain vanilla HTML/CSS/JS and it does not maintain state across requests. This is how among others <a href="http://stackoverflow.com/tags/spring-mvc/info">Spring MVC</a>, <a href="http://stackoverflow.com/tags/struts/info">Struts</a> and <a href="http://stackoverflow.com/tags/stripes/info">Stripes</a> works.</p><li><p><strong>Component based MVC</strong>: this is harder to implement. But you end up with a simpler model and view wherein all the "raw" Servlet API is abstracted completely away. You shouldn't have the need to gather, convert and validate the request parameters yourself. The <em>Controller</em> does this task and sets the gathered, converted and validated request parameters in the <em>Model</em>. All you need to do is to define action methods which works directly with the model properties. The <em>View</em> is represented by "components" in flavor of JSP taglibs or XML elements which in turn generates HTML/CSS/JS. The state of the <em>View</em> for the subsequent requests is maintained in the session. This is particularly helpful for server-side conversion, validation and value change events. This is how among others <a href="http://stackoverflow.com/tags/jsf/info">JSF</a>, <a href="http://stackoverflow.com/tags/wicket/info">Wicket</a> and <a href="http://stackoverflow.com/tags/playframework/info">Play!</a> works.</p></li><p><strong>Component based MVC</strong>: this is harder to implement. But you end up with a simpler model and view wherein all the "raw" Servlet API is abstracted completely away. You shouldn't have the need to gather, convert and validate the request parameters yourself. The <em>Controller</em> does this task and sets the gathered, converted and validated request parameters in the <em>Model</em>. All you need to do is to define action methods which works directly with the model properties. The <em>View</em> is represented by "components" in flavor of JSP taglibs or XML elements which in turn generates HTML/CSS/JS. The state of the <em>View</em> for the subsequent requests is maintained in the session. This is particularly helpful for server-side conversion, validation and value change events. This is how among others <a href="http://stackoverflow.com/tags/jsf/info">JSF</a>, <a href="http://stackoverflow.com/tags/wicket/info">Wicket</a> and <a href="http://stackoverflow.com/tags/playframework/info">Play!</a> works.</p><p>As a side note, hobbying around with a homegrown MVC framework is a very nice learning exercise, and I do recommend it as long as you keep it for personal/private purposes. But once you go professional, then it's strongly recommended to pick an existing framework rather than reinventing your own. Learning an existing and well-developed framework takes in long term less time than developing and maintaining a robust framework yourself.</p><p>In the below detailed explanation I'll restrict myself to request based MVC since that's easier to implement.</p><p>First, the <em>Controller</em> part should implement the <a href="http://en.wikipedia.org/wiki/Front_Controller_pattern" rel="nofollow noreferrer">Front Controller pattern</a> (which is a specialized kind of <a href="http://en.wikipedia.org/wiki/Mediator_pattern" rel="nofollow noreferrer">Mediator pattern</a>). It should consist of only a single servlet which provides a centralized entry point of all requests. It should create the <em>Model</em> based on information available by the request, such as the pathinfo or servletpath, the method and/or specific parameters. The <em>Business Model</em> is called <code>Action</code> in the below <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html" rel="nofollow noreferrer"><code>HttpServlet</code></a> example.</p><pre><code>protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
    try {
        Action action = ActionFactory.getAction(request);
        String view = action.execute(request, response);

        if (view.equals(request.getPathInfo().substring(1)) {
            request.getRequestDispatcher("/WEB-INF/" + view + ".jsp").forward(request, response);
        }
        else {
            response.sendRedirect(view); // We'd like to fire redirect in case of a view change as result of the action (PRG pattern).
        }
    }
    catch (Exception e) {
        throw new ServletException("Executing action failed.", e);
    }
}
</code></pre><p>Executing the action should return some identifier to locate the view. Simplest would be to use it as filename of the JSP. Map this servlet on a specific <code>url-pattern</code> in <code>web.xml</code>, e.g. <code>/pages/*</code>, <code>*.do</code> or even just <code>*.html</code>. </p><p>In case of prefix-patterns as for example <code>/pages/*</code> you could then invoke URL's like <a href="http://example.com/pages/register" rel="nofollow noreferrer">http://example.com/pages/register</a>, <a href="http://example.com/pages/login" rel="nofollow noreferrer">http://example.com/pages/login</a>, etc and provide <code>/WEB-INF/register.jsp</code>, <code>/WEB-INF/login.jsp</code> with the appropriate GET and POST actions. The parts <code>register</code>, <code>login</code>, etc are then available by <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getPathInfo--" rel="nofollow noreferrer"><code>request.getPathInfo()</code></a> as in above example. </p><p>When you're using suffix-patterns like <code>*.do</code>, <code>*.html</code>, etc, then you could then invoke URL's like <a href="http://example.com/register.do" rel="nofollow noreferrer">http://example.com/register.do</a>, <a href="http://example.com/login.do" rel="nofollow noreferrer">http://example.com/login.do</a>, etc and you should change the code examples in this answer (also the <code>ActionFactory</code>) to extract the <code>register</code> and <code>login</code> parts by <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getServletPath--" rel="nofollow noreferrer"><code>request.getServletPath()</code></a> instead.</p><p>The <code>Action</code> should follow the <a href="http://en.wikipedia.org/wiki/Strategy_pattern" rel="nofollow noreferrer">Strategy pattern</a>. It needs to be defined as an abstract/interface type which should do the work based on the <em>passed-in</em> arguments of the abstract method (this is the difference with the <a href="http://en.wikipedia.org/wiki/Command_pattern" rel="nofollow noreferrer">Command pattern</a>, wherein the abstract/interface type should do the work based on the arguments which are been passed-in during the <em>creation</em> of the implementation).</p><pre><code>public interface Action {
    public String execute(HttpServletRequest request, HttpServletResponse response) throws Exception;
}
</code></pre><p>You may want to make the <code>Exception</code> more specific with a custom exception like <code>ActionException</code>. It's just a basic kickoff example, the rest is all up to you.</p><p>Here's an example of a <code>LoginAction</code> which (as its name says) logs in the user. The <code>User</code> itself is in turn a <em>Data Model</em>. The <em>View</em> is aware of the presence of the <code>User</code>.</p><pre><code>public class LoginAction implements Action {

    public String execute(HttpServletRequest request, HttpServletResponse response) throws Exception {
        String username = request.getParameter("username");
        String password = request.getParameter("password");
        User user = userDAO.find(username, password);

        if (user != null) {
            request.getSession().setAttribute("user", user); // Login user.
            return "home"; // Redirect to home page.
        }
        else {
            request.setAttribute("error", "Unknown username/password. Please retry."); // Store error message in request scope.
            return "login"; // Go back to redisplay login form with error.
        }
    }

}
</code></pre><p>The <code>ActionFactory</code> should follow the <a href="http://en.wikipedia.org/wiki/Factory_method" rel="nofollow noreferrer">Factory method pattern</a>. Basically, it should provide a creational method which returns a concrete implementation of an abstract/interface type. In this case, it should return an implementation of the <code>Action</code> interface based on the information provided by the request. For example, the <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getMethod--" rel="nofollow noreferrer">method</a> and <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getPathInfo--" rel="nofollow noreferrer">pathinfo</a> (the pathinfo is the part after the context and servlet path in the request URL, excluding the query string).</p><pre><code>public static Action getAction(HttpServletRequest request) {
    return actions.get(request.getMethod() + request.getPathInfo());
}
</code></pre><p>The <code>actions</code> in turn should be some static/applicationwide <code>Map&lt;String, Action&gt;</code> which holds all known actions. It's up to you how to fill this map. Hardcoding:</p><pre><code>actions.put("POST/register", new RegisterAction());
actions.put("POST/login", new LoginAction());
actions.put("GET/logout", new LogoutAction());
// ...
</code></pre><p>Or configurable based on a properties/XML configuration file in the classpath: (pseudo)</p><pre><code>for (Entry entry : configuration) {
    actions.put(entry.getKey(), Class.forName(entry.getValue()).newInstance());
}
</code></pre><p>Or dynamically based on a scan in the classpath for classes implementing a certain interface and/or annotation: (pseudo)</p><pre><code>for (ClassFile classFile : classpath) {
    if (classFile.isInstanceOf(Action.class)) {
       actions.put(classFile.getAnnotation("mapping"), classFile.newInstance());
    }
}
</code></pre><p>Keep in mind to create a "do nothing" <code>Action</code> for the case there's no mapping. Let it for example return directly the <code>request.getPathInfo().substring(1)</code> then.</p><p>Those were the important patterns so far. </p><p>To get a step further, you could use the <a href="http://en.wikipedia.org/wiki/Facade_pattern" rel="nofollow noreferrer">Facade pattern</a> to create a <code>Context</code> class which in turn wraps the request and response objects and offers several convenience methods delegating to the request and response objects and pass that as argument into the <code>Action#execute()</code> method instead. This adds an extra abstract layer to hide the raw Servlet API away. You should then basically end up with <strong>zero</strong> <code>import javax.servlet.*</code> declarations in every <code>Action</code> implementation. In JSF terms, this is what the <a href="http://docs.oracle.com/javaee/7/api/javax/faces/context/FacesContext.html" rel="nofollow noreferrer"><code>FacesContext</code></a> and <a href="http://docs.oracle.com/javaee/7/api/javax/faces/context/ExternalContext.html" rel="nofollow noreferrer"><code>ExternalContext</code></a> classes are doing. You can find a concrete example in <a href="http://stackoverflow.com/questions/4764285/retrieving-web-session-from-a-pojo-outside-the-web-container/4764894#4764894">this answer</a>.</p><p>Then there's the <a href="http://en.wikipedia.org/wiki/State_pattern" rel="nofollow noreferrer">State pattern</a> for the case that you'd like to add an extra abstraction layer to split the tasks of gathering the request parameters, converting them, validating them, updating the model values and execute the actions. In JSF terms, this is what the <a href="http://download.oracle.com/javaee/7/api/javax/faces/lifecycle/Lifecycle.html" rel="nofollow noreferrer"><code>LifeCycle</code></a> is doing.</p><p>Then there's the <a href="http://en.wikipedia.org/wiki/Composite_pattern" rel="nofollow noreferrer">Composite pattern</a> for the case that you'd like to create a component based view which can be attached with the model and whose behaviour depends on the state of the request based lifecycle. In JSF terms, this is what the <a href="http://docs.oracle.com/javaee/7/api/javax/faces/component/UIComponent.html" rel="nofollow noreferrer"><code>UIComponent</code></a> represent. </p><p>This way you can evolve bit by bit towards a component based framework.</p><li><a href="http://stackoverflow.com/questions/1673841">Examples of GoF Design Patterns in Java's core libraries</a></li><li><a href="http://stackoverflow.com/questions/4801891">Difference between Request MVC and Component MVC</a></li><li><a href="http://stackoverflow.com/questions/5003142">Show JDBC ResultSet in HTML in JSP page using MVC and DAO pattern</a></li><li><a href="http://stackoverflow.com/questions/5104094">What components are MVC in JSF MVC framework?</a></li><li><a href="http://stackoverflow.com/questions/30639785">JSF Controller, Service and DAO</a></li></body></html>

===ID===
584e5a733e2ca51be94fedd0
===QUESTION===
What does the 'static' keyword do in a class?
To be specific, I was trying this code: But it gave the error  Cannot access non-static field in static method main So I changed the declaration of  clock  to this: And it worked. What does it mean to put that keyword before the declaration? What exactly will it do and/or restrict in terms of what can be done to that object? 
===LINK===
http://stackoverflow.com/questions/413898/what-does-the-static-keyword-do-in-a-class
===KEYWORDS===
access 
===ANSWER===
383
<html><body><p><code>static</code> members belong to the class instead of a specific instance.</p><p>It means that <b>only one instance of a <code>static</code> field exists</b><sup>[1]</sup> even if you create a million instances of the class or you don't create any. It will be shared by all instances.</p><p>Since <code>static</code> methods also do not belong to a specific instance, they can't refer to instance members (how would you know which instance Hello class you want to refer to?). <code>static</code> members can only refer to <code>static</code> members. Instance members can, of course access <code>static</code> members.</p><p><i>Side note:</i> Of course, <code>static</code> members can access instance members <b>through an object reference</b>.</p><p>Example:</p><pre><code>public class Example {
    private static boolean staticField;
    private boolean instanceField;
    public static void main(String[] args) {
        // a static method can access static fields
        staticField = true;

        // a static method can access instance fields through an object reference
        Example instance = new Example();
        instance.instanceField = true;
    }
</code></pre><p>[1]: Depending on the runtime characteristics, it can be one per ClassLoader or AppDomain or thread, but that is beside the point.</p></body></html>

===ID===
584e5a743e2ca51be94fedd1
===QUESTION===
What's the difference between JavaScript and Java?
What's the difference between JavaScript and Java? 
===LINK===
http://stackoverflow.com/questions/245062/whats-the-difference-between-javascript-and-java
===KEYWORDS===
difference 
===ANSWER===
575
<html><body><p>Java and Javascript are similar like Car and Carpet are similar.</p></body></html>

===ID===
584e5a743e2ca51be94fedd2
===QUESTION===
How to best position Swing GUIs?
In  another thread  I stated that I liked to center my GUIs by doing something like this: But Andrew Thompson had a different opinion, to instead call and inquiring minds want to know why? 
===LINK===
http://stackoverflow.com/questions/7143287/how-to-best-position-swing-guis
===KEYWORDS===
center 
===ANSWER===
145
<html><body><p>To my eye, a GUI in the middle of the screen looks so.. "splash-screen'ish". I keep waiting for them to disappear and the <em>real</em> GUI to appear!</p><p>Since Java 1.5 we've had access to <a href="http://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#setLocationByPlatform-boolean-" rel="nofollow noreferrer"><code>Window.setLocationByPlatform(boolean)</code></a>. which..</p><p>Sets whether this Window should appear at the default location for the native windowing system or at the current location (returned by getLocation) the next time the Window is made visible. This behavior resembles a native window shown without programmatically setting its location. <strong>Most windowing systems cascade windows if their locations are not explicitly set.</strong> The actual location is determined once the window is shown on the screen. </p><p>Have a look at the effect of this example that puts 3 GUIs into the default positions as chosen by the OS - on Windows 7, Linux with Gnome &amp; Mac OS X.</p><p><img alt="Stacked windows on Windows 7" src="https://i.stack.imgur.com/D1JLb.png"> <img alt="enter image description here" src="https://i.stack.imgur.com/5kvJV.png">
<img alt="Stacked windows on Mac OS X" src="https://i.stack.imgur.com/J2zQu.png"/></img></img></p><p>(3 lots of) 3 GUIs neatly stacked.  This represents 'the path of least surprise' for the end user, since it is how the OS might position 3 instances of the default plain-text editor (or anything else, for that matter).  My thanks to trashgod for the Linux &amp; Mac. images.</p><p>Here is the simple code used:</p><pre><code>import javax.swing.*;

class WhereToPutTheGui {

    public static void initGui() {
        for (int ii=1; ii&lt;4; ii++) {
            JFrame f = new JFrame("Frame " + ii);
            f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
            String s =
                "os.name: " + System.getProperty("os.name") +
                "\nos.version: " + System.getProperty("os.version");
            f.add(new JTextArea(s,3,28));  // suggest a size
            f.pack();
            // Let the OS handle the positioning!
            f.setLocationByPlatform(true);
            f.setVisible(true);
        }
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater( new Runnable() {
            public void run() {
                try {
                    UIManager.setLookAndFeel(
                        UIManager.getSystemLookAndFeelClassName());
                } catch (Exception useDefault) {}
                initGui();
            }
        });
    }
}
</code></pre></body></html>

===ID===
584e5a753e2ca51be94fedd3
===QUESTION===
Trusting all certificates using HttpClient over HTTPS
Recently posted a question regarding the  HttpClient  over Https ( found here ).  I've made some headway, but I've run into new issues. As with my last problem, I can't seem to find an example anywhere that works for me. Basically, I want my client to accept any certificate (because I'm only ever pointing to one server) but I keep getting a  javax.net.ssl.SSLException: Not trusted server certificate exception. So this is what I have: And here's the error I'm getting: 
===LINK===
http://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https
===KEYWORDS===
pointing 
===ANSWER===
360
<html><body><p><strong>Note: Do not implement this in production code you are ever going to use on a network you do not entirely trust. Especially anything going over the public internet.</strong> </p><p>Your question is just what I want to know. After I did some searches, the conclusion is as follows.</p><p>In HttpClient way, you should create a custom class from org.apache.http.conn.ssl.SSLSocketFactory, not the one org.apache.http.conn.ssl.SSLSocketFactory
 itself. Some clues can be found in this post <a href="http://stackoverflow.com/questions/2899079/custom-ssl-handling-stopped-working-on-android-2-2-froyo">Custom SSL handling stopped working on Android 2.2 FroYo</a>.</p><p>An example is like  ...</p><pre><code>import java.io.IOException;
import java.net.Socket;
import java.net.UnknownHostException;
import java.security.KeyManagementException;
import java.security.KeyStore;
import java.security.KeyStoreException;
import java.security.NoSuchAlgorithmException;
import java.security.UnrecoverableKeyException;
import java.security.cert.CertificateException;
import java.security.cert.X509Certificate;

import javax.net.ssl.SSLContext;
import javax.net.ssl.TrustManager;
import javax.net.ssl.X509TrustManager;

import org.apache.http.conn.ssl.SSLSocketFactory;
public class MySSLSocketFactory extends SSLSocketFactory {
    SSLContext sslContext = SSLContext.getInstance("TLS");

    public MySSLSocketFactory(KeyStore truststore) throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException, UnrecoverableKeyException {
        super(truststore);

        TrustManager tm = new X509TrustManager() {
            public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {
            }

            public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {
            }

            public X509Certificate[] getAcceptedIssuers() {
                return null;
            }
        };

        sslContext.init(null, new TrustManager[] { tm }, null);
    }

    @Override
    public Socket createSocket(Socket socket, String host, int port, boolean autoClose) throws IOException, UnknownHostException {
        return sslContext.getSocketFactory().createSocket(socket, host, port, autoClose);
    }

    @Override
    public Socket createSocket() throws IOException {
        return sslContext.getSocketFactory().createSocket();
    }
}
</code></pre><p>and use this class while creating instance of HttpClient.</p><pre><code>public HttpClient getNewHttpClient() {
    try {
        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());
        trustStore.load(null, null);

        MySSLSocketFactory sf = new MySSLSocketFactory(trustStore);
        sf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);

        HttpParams params = new BasicHttpParams();
        HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);
        HttpProtocolParams.setContentCharset(params, HTTP.UTF_8);

        SchemeRegistry registry = new SchemeRegistry();
        registry.register(new Scheme("http", PlainSocketFactory.getSocketFactory(), 80));
        registry.register(new Scheme("https", sf, 443));

        ClientConnectionManager ccm = new ThreadSafeClientConnManager(params, registry);

        return new DefaultHttpClient(ccm, params);
    } catch (Exception e) {
        return new DefaultHttpClient();
    }
}
</code></pre><p>BTW, the link below is for someone who is looking for HttpURLConnection solution.
<a href="http://stackoverflow.com/questions/995514/https-connection-android/1000205#1000205">Https Connection Android</a></p><p>I have tested the above two kinds of solutions on froyo, and they all work like a charm in my cases. Finally, using HttpURLConnection may face the redirect problems, but this is beyond the topic.</p><p>Note: Before you decide to trust all certificates, you probably should know the site full well and won't be harmful of it to end-user.</p><p>Indeed, the risk you take should be considered carefully, including the effect of hacker's mock site mentioned in the following comments that I deeply appreciated. In some situation, although it might be hard to take care of all certificates, you'd better know the implicit drawbacks to trust all of them.</p></body></html>

===ID===
584e5a753e2ca51be94fedd4
===QUESTION===
How to pass an object from one activity to another on Android
I am trying to work on sending an object of my  customer  class from one  Activity  and display it in another  Activity . The code for the customer class: I want to send its object from one  Activity  to another and then display the data on the other  Activity . How can I achieve that? 
===LINK===
http://stackoverflow.com/questions/2736389/how-to-pass-an-object-from-one-activity-to-another-on-android
===KEYWORDS===
sending 
===ANSWER===
515
<html><body><p>One option could be letting your custom class implement the <code>Serializable</code> interface and then you can pass object instances in the intent extra using the <code>putExtra(Serializable..)</code> variant of the <code>Intent#putExtra()</code> method.</p><p><strong>Pseudocode</strong>:</p><pre><code>//To pass:
intent.putExtra("MyClass", obj);

// To retrieve object in second Activity
getIntent().getSerializableExtra("MyClass");
</code></pre></body></html>

===ID===
584e5a773e2ca51be94fedd5
===QUESTION===
Java 256-bit AES Password-Based Encryption
I need to implement 256 bit AES encryption, but all the examples I have found online use a "KeyGenerator" to generate a 256 bit key, but I would like to use my own passkey. How can I create my own key? I have tried padding it out to 256 bits, but then I get an error saying that the key is too long. I do have the unlimited jurisdiction patch installed, so thats not the problem :) Ie. The KeyGenerator looks like this ... Code taken from here EDIT I was actually padding the password out to 256 bytes, not bits, which is too long. The following is some code I am using now that I have some more experience with this. The "TODO" bits you need to do yourself :-) 
===LINK===
http://stackoverflow.com/questions/992019/java-256-bit-aes-password-based-encryption
===KEYWORDS===
experience 
===ANSWER===
346
<html><body><p>Share the <code>password</code> (a <code>char[]</code>) and <code>salt</code> (a <code>byte[]</code>—8 bytes selected by a <code>SecureRandom</code> makes a good salt—which doesn't need to be kept secret) with the recipient out-of-band. Then to derive a good key from this information:</p><pre><code>/* Derive the key, given password and salt. */
SecretKeyFactory factory = SecretKeyFactory.getInstance("PBKDF2WithHmacSHA256");
KeySpec spec = new PBEKeySpec(password, salt, 65536, 256);
SecretKey tmp = factory.generateSecret(spec);
SecretKey secret = new SecretKeySpec(tmp.getEncoded(), "AES");
</code></pre><p>The magic numbers (which could be defined as constants somewhere) 65536 and 256 are the key derivation iteration count and the key size, respectively.</p><p>The key derivation function is iterated to require significant computational effort, and that prevents attackers from quickly trying many different passwords. The iteration count can be changed depending on the computing resources available. </p><p>The key size can be reduced to 128 bits, which is still considered "strong" encryption, but it doesn't give much of a safety margin if attacks are discovered that weaken AES.</p><p>Used with a proper block-chaining mode, the same derived key can be used to encrypt many messages. In CBC, a random initialization vector (IV) is generated for each message, yielding different cipher text even if the plain text is identical. CBC may not be the most secure mode available to you (see AEAD below); there are many other modes with different security properties, but they all use a similar random input. In any case, the outputs of each encryption operation are the cipher text <em>and</em> the initialization vector:</p><pre><code>/* Encrypt the message. */
Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
cipher.init(Cipher.ENCRYPT_MODE, secret);
AlgorithmParameters params = cipher.getParameters();
byte[] iv = params.getParameterSpec(IvParameterSpec.class).getIV();
byte[] ciphertext = cipher.doFinal("Hello, World!".getBytes("UTF-8"));
</code></pre><p>Store the <code>ciphertext</code> and the <code>iv</code>. On decryption, the <code>SecretKey</code> is regenerated in exactly the same way, using using the password with the same salt and iteration parameters. Initialize the cipher with this key <em>and</em> the initialization vector stored with the message:</p><pre><code>/* Decrypt the message, given derived key and initialization vector. */
Cipher cipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
cipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(iv));
String plaintext = new String(cipher.doFinal(ciphertext), "UTF-8");
System.out.println(plaintext);
</code></pre><p>Java 7 included API support for AEAD cipher modes, and the "SunJCE" provider included with OpenJDK and Oracle distributions implements these beginning with Java 8. One of these modes is strongly recommended in place of CBC; it will protect the integrity of the data as well as their privacy.</p><p>A <code>java.security.InvalidKeyException</code> with the message "Illegal key size or default parameters" means that the cryptography strength <em>is</em> limited; the unlimited strength jurisdiction policy files are not in the correct location. In a JDK, they should be placed under <code>${jdk}/jre/lib/security</code> </p><p>Based on the problem description, it sounds like the policy files are not correctly installed. Systems can easily have multiple Java runtimes; double-check to make sure that the correct location is being used.</p></body></html>

===ID===
584e5a773e2ca51be94fedd6
===QUESTION===
Cannot make a static reference to the non-static method
Building a multi-language application in Java. Getting an error when inserting String value from  R.string  resource XML file: This is the error message: Error: Cannot make a static reference to the non-static method getText(int) from the type 
       Context How is this caused and how can I solve it? 
===LINK===
http://stackoverflow.com/questions/4969171/cannot-make-a-static-reference-to-the-non-static-method
===KEYWORDS===
building 
===ANSWER===
106
<html><body><p>Since <code>getText()</code> is non-static you cannot call it from a static method.</p><p>To understand why, you have to understand the difference between the two.</p><p>Instance (non-static) methods work on objects that are of a particular type (the class). These are created with the new like this:</p><pre><code>SomeClass myObject = new SomeClass();
</code></pre><p>To call an instance method, you call it on the instance (<code>myObject</code>):</p><pre><code>myObject.getText(...)
</code></pre><p><s>However a static method/field can be called <strong>only</strong> on the type directly, say like this:</s>
<em>The previous statement is not correct. <a href="http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html" rel="nofollow">One can also refer to static fields with an object reference like</a> <code>myObject.staticMethod()</code> but this is discouraged because it does not make it clear that they are class variables.</em> </p><pre><code>... = SomeClass.final
</code></pre><p>And the two cannot work together as they operate on different data spaces (instance data and class data)</p><p>Let me try and explain. Consider this class (psuedocode):</p><pre><code>class Test {
     string somedata = "99";
     string getText() { return somedata; } 
     static string TTT = "0";
}
</code></pre><p>Now I have the following use case:</p><pre><code>Test item1 = new Test();
 item1.somedata = "200";

 Test item2 = new Test();

 Test.TTT = "1";
</code></pre><p>What are the values?</p><p>Well</p><pre><code>in item1 TTT = 1 and somedata = 200
in item2 TTT = 1 and somedata = 99
</code></pre><p>In other words, <code>TTT</code> is a datum that is shared by all the instances of the type. So it make no sense to say </p><pre><code>class Test {
         string somedata = "99";
         string getText() { return somedata; } 
  static string TTT = getText(); // error there is is no somedata at this point 
}
</code></pre><p><strong>So the question is why is <em>TTT</em> static or why is getText() not static?</strong> </p><p>Remove the <code>static</code> and it should get past this error - but without understanding what your type does it's only a sticking plaster till the next error. What are the requirements of <code>getText()</code> that require it to be non-static?</p></body></html>

===ID===
584e5a793e2ca51be94fedd7
===QUESTION===
How do I invoke a Java method when given the method name as a string?
If I have two variables: Without knowing the class of  obj , how can I call the method identified by  methodName  on it? The method being called has no parameters, and a  String  return value. It's  a getter for a Java bean . 
===LINK===
http://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string
===KEYWORDS===
knowing 
===ANSWER===
619
<html><body><p>Coding from the hip, it would be something like:</p><pre><code>java.lang.reflect.Method method;
try {
  method = obj.getClass().getMethod(methodName, param1.class, param2.class, ..);
} catch (SecurityException e) { ... }
  catch (NoSuchMethodException e) { ... }
</code></pre><p>The parameters identify the very specific method you need (if there are several overloaded available, if the method has no arguments, only give <code>methodName</code>).</p><p>Then you invoke that method by calling</p><pre><code>try {
  method.invoke(obj, arg1, arg2,...);
} catch (IllegalArgumentException e) { ... }
  catch (IllegalAccessException e) { ... }
  catch (InvocationTargetException e) { ... }
</code></pre><p>Again, leave out the arguments in <code>.invoke</code>, if you don't have any. But yeah. Read about <a href="http://java.sun.com/docs/books/tutorial/reflect/index.html" rel="nofollow noreferrer">Java Reflection</a></p></body></html>

===ID===
584e5a793e2ca51be94fedd8
===QUESTION===
read/write to Windows Registry using Java
How is it possible to read/write to the Windows Registry using java? 
===LINK===
http://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java
===KEYWORDS===
read/write 
===ANSWER===
285
<html><body><p>I know this question is old, but it is the first search result on google to "java read/write to registry".  Recently I found this amazing piece of code which:</p><li>Can read/write to ANY part of the registry. </li><li>DOES NOT USE JNI.</li><li>DOES NOT USE ANY 3rd PARTY/EXTERNAL APPLICATIONS TO WORK.</li><li>DOES NOT USE THE WINDOWS API (directly)</li><p>This is pure, Java code.</p><p>It uses reflection to work, by actually accessing the private methods in the java.util.prefs.Preferences class. The internals of this class are complicated, but the class itself is very easy to use.</p><p>For example, the following code obtains the exact windows distribution <strong>from the registry</strong>:</p><pre><code>String value = WinRegistry.readString (
    WinRegistry.HKEY_LOCAL_MACHINE,                             //HKEY
   "SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion",           //Key
   "ProductName");                                              //ValueName
    System.out.println("Windows Distribution = " + value);          
</code></pre><p>Here is the original class. Just copy paste it and it should work:</p><pre><code>import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;
import java.util.HashMap;
import java.util.Map;
import java.util.ArrayList;
import java.util.List;
import java.util.prefs.Preferences;

public class WinRegistry {
  public static final int HKEY_CURRENT_USER = 0x80000001;
  public static final int HKEY_LOCAL_MACHINE = 0x80000002;
  public static final int REG_SUCCESS = 0;
  public static final int REG_NOTFOUND = 2;
  public static final int REG_ACCESSDENIED = 5;

  private static final int KEY_ALL_ACCESS = 0xf003f;
  private static final int KEY_READ = 0x20019;
  private static final Preferences userRoot = Preferences.userRoot();
  private static final Preferences systemRoot = Preferences.systemRoot();
  private static final Class&lt;? extends Preferences&gt; userClass = userRoot.getClass();
  private static final Method regOpenKey;
  private static final Method regCloseKey;
  private static final Method regQueryValueEx;
  private static final Method regEnumValue;
  private static final Method regQueryInfoKey;
  private static final Method regEnumKeyEx;
  private static final Method regCreateKeyEx;
  private static final Method regSetValueEx;
  private static final Method regDeleteKey;
  private static final Method regDeleteValue;

  static {
    try {
      regOpenKey = userClass.getDeclaredMethod("WindowsRegOpenKey",
          new Class[] { int.class, byte[].class, int.class });
      regOpenKey.setAccessible(true);
      regCloseKey = userClass.getDeclaredMethod("WindowsRegCloseKey",
          new Class[] { int.class });
      regCloseKey.setAccessible(true);
      regQueryValueEx = userClass.getDeclaredMethod("WindowsRegQueryValueEx",
          new Class[] { int.class, byte[].class });
      regQueryValueEx.setAccessible(true);
      regEnumValue = userClass.getDeclaredMethod("WindowsRegEnumValue",
          new Class[] { int.class, int.class, int.class });
      regEnumValue.setAccessible(true);
      regQueryInfoKey = userClass.getDeclaredMethod("WindowsRegQueryInfoKey1",
          new Class[] { int.class });
      regQueryInfoKey.setAccessible(true);
      regEnumKeyEx = userClass.getDeclaredMethod(  
          "WindowsRegEnumKeyEx", new Class[] { int.class, int.class,  
              int.class });  
      regEnumKeyEx.setAccessible(true);
      regCreateKeyEx = userClass.getDeclaredMethod(  
          "WindowsRegCreateKeyEx", new Class[] { int.class,  
              byte[].class });  
      regCreateKeyEx.setAccessible(true);  
      regSetValueEx = userClass.getDeclaredMethod(  
          "WindowsRegSetValueEx", new Class[] { int.class,  
              byte[].class, byte[].class });  
      regSetValueEx.setAccessible(true); 
      regDeleteValue = userClass.getDeclaredMethod(  
          "WindowsRegDeleteValue", new Class[] { int.class,  
              byte[].class });  
      regDeleteValue.setAccessible(true); 
      regDeleteKey = userClass.getDeclaredMethod(  
          "WindowsRegDeleteKey", new Class[] { int.class,  
              byte[].class });  
      regDeleteKey.setAccessible(true); 
    }
    catch (Exception e) {
      throw new RuntimeException(e);
    }
  }

  private WinRegistry() {  }

  /**
   * Read a value from key and value name
   * @param hkey   HKEY_CURRENT_USER/HKEY_LOCAL_MACHINE
   * @param key
   * @param valueName
   * @return the value
   * @throws IllegalArgumentException
   * @throws IllegalAccessException
   * @throws InvocationTargetException
   */
  public static String readString(int hkey, String key, String valueName) 
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    if (hkey == HKEY_LOCAL_MACHINE) {
      return readString(systemRoot, hkey, key, valueName);
    }
    else if (hkey == HKEY_CURRENT_USER) {
      return readString(userRoot, hkey, key, valueName);
    }
    else {
      throw new IllegalArgumentException("hkey=" + hkey);
    }
  }

  /**
   * Read value(s) and value name(s) form given key 
   * @param hkey  HKEY_CURRENT_USER/HKEY_LOCAL_MACHINE
   * @param key
   * @return the value name(s) plus the value(s)
   * @throws IllegalArgumentException
   * @throws IllegalAccessException
   * @throws InvocationTargetException
   */
  public static Map&lt;String, String&gt; readStringValues(int hkey, String key) 
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    if (hkey == HKEY_LOCAL_MACHINE) {
      return readStringValues(systemRoot, hkey, key);
    }
    else if (hkey == HKEY_CURRENT_USER) {
      return readStringValues(userRoot, hkey, key);
    }
    else {
      throw new IllegalArgumentException("hkey=" + hkey);
    }
  }

  /**
   * Read the value name(s) from a given key
   * @param hkey  HKEY_CURRENT_USER/HKEY_LOCAL_MACHINE
   * @param key
   * @return the value name(s)
   * @throws IllegalArgumentException
   * @throws IllegalAccessException
   * @throws InvocationTargetException
   */
  public static List&lt;String&gt; readStringSubKeys(int hkey, String key) 
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    if (hkey == HKEY_LOCAL_MACHINE) {
      return readStringSubKeys(systemRoot, hkey, key);
    }
    else if (hkey == HKEY_CURRENT_USER) {
      return readStringSubKeys(userRoot, hkey, key);
    }
    else {
      throw new IllegalArgumentException("hkey=" + hkey);
    }
  }

  /**
   * Create a key
   * @param hkey  HKEY_CURRENT_USER/HKEY_LOCAL_MACHINE
   * @param key
   * @throws IllegalArgumentException
   * @throws IllegalAccessException
   * @throws InvocationTargetException
   */
  public static void createKey(int hkey, String key) 
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    int [] ret;
    if (hkey == HKEY_LOCAL_MACHINE) {
      ret = createKey(systemRoot, hkey, key);
      regCloseKey.invoke(systemRoot, new Object[] { new Integer(ret[0]) });
    }
    else if (hkey == HKEY_CURRENT_USER) {
      ret = createKey(userRoot, hkey, key);
      regCloseKey.invoke(userRoot, new Object[] { new Integer(ret[0]) });
    }
    else {
      throw new IllegalArgumentException("hkey=" + hkey);
    }
    if (ret[1] != REG_SUCCESS) {
      throw new IllegalArgumentException("rc=" + ret[1] + "  key=" + key);
    }
  }

  /**
   * Write a value in a given key/value name
   * @param hkey
   * @param key
   * @param valueName
   * @param value
   * @throws IllegalArgumentException
   * @throws IllegalAccessException
   * @throws InvocationTargetException
   */
  public static void writeStringValue
    (int hkey, String key, String valueName, String value) 
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    if (hkey == HKEY_LOCAL_MACHINE) {
      writeStringValue(systemRoot, hkey, key, valueName, value);
    }
    else if (hkey == HKEY_CURRENT_USER) {
      writeStringValue(userRoot, hkey, key, valueName, value);
    }
    else {
      throw new IllegalArgumentException("hkey=" + hkey);
    }
  }

  /**
   * Delete a given key
   * @param hkey
   * @param key
   * @throws IllegalArgumentException
   * @throws IllegalAccessException
   * @throws InvocationTargetException
   */
  public static void deleteKey(int hkey, String key) 
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    int rc = -1;
    if (hkey == HKEY_LOCAL_MACHINE) {
      rc = deleteKey(systemRoot, hkey, key);
    }
    else if (hkey == HKEY_CURRENT_USER) {
      rc = deleteKey(userRoot, hkey, key);
    }
    if (rc != REG_SUCCESS) {
      throw new IllegalArgumentException("rc=" + rc + "  key=" + key);
    }
  }

  /**
   * delete a value from a given key/value name
   * @param hkey
   * @param key
   * @param value
   * @throws IllegalArgumentException
   * @throws IllegalAccessException
   * @throws InvocationTargetException
   */
  public static void deleteValue(int hkey, String key, String value) 
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    int rc = -1;
    if (hkey == HKEY_LOCAL_MACHINE) {
      rc = deleteValue(systemRoot, hkey, key, value);
    }
    else if (hkey == HKEY_CURRENT_USER) {
      rc = deleteValue(userRoot, hkey, key, value);
    }
    if (rc != REG_SUCCESS) {
      throw new IllegalArgumentException("rc=" + rc + "  key=" + key + "  value=" + value);
    }
  }

  // =====================

  private static int deleteValue
    (Preferences root, int hkey, String key, String value)
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    int[] handles = (int[]) regOpenKey.invoke(root, new Object[] {
        new Integer(hkey), toCstr(key), new Integer(KEY_ALL_ACCESS) });
    if (handles[1] != REG_SUCCESS) {
      return handles[1];  // can be REG_NOTFOUND, REG_ACCESSDENIED
    }
    int rc =((Integer) regDeleteValue.invoke(root,  
        new Object[] { 
          new Integer(handles[0]), toCstr(value) 
          })).intValue();
    regCloseKey.invoke(root, new Object[] { new Integer(handles[0]) });
    return rc;
  }

  private static int deleteKey(Preferences root, int hkey, String key) 
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    int rc =((Integer) regDeleteKey.invoke(root,  
        new Object[] { new Integer(hkey), toCstr(key) })).intValue();
    return rc;  // can REG_NOTFOUND, REG_ACCESSDENIED, REG_SUCCESS
  }

  private static String readString(Preferences root, int hkey, String key, String value)
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    int[] handles = (int[]) regOpenKey.invoke(root, new Object[] {
        new Integer(hkey), toCstr(key), new Integer(KEY_READ) });
    if (handles[1] != REG_SUCCESS) {
      return null; 
    }
    byte[] valb = (byte[]) regQueryValueEx.invoke(root, new Object[] {
        new Integer(handles[0]), toCstr(value) });
    regCloseKey.invoke(root, new Object[] { new Integer(handles[0]) });
    return (valb != null ? new String(valb).trim() : null);
  }

  private static Map&lt;String,String&gt; readStringValues
    (Preferences root, int hkey, String key)
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    HashMap&lt;String, String&gt; results = new HashMap&lt;String,String&gt;();
    int[] handles = (int[]) regOpenKey.invoke(root, new Object[] {
        new Integer(hkey), toCstr(key), new Integer(KEY_READ) });
    if (handles[1] != REG_SUCCESS) {
      return null;
    }
    int[] info = (int[]) regQueryInfoKey.invoke(root,
        new Object[] { new Integer(handles[0]) });

    int count = info[0]; // count  
    int maxlen = info[3]; // value length max
    for(int index=0; index&lt;count; index++)  {
      byte[] name = (byte[]) regEnumValue.invoke(root, new Object[] {
          new Integer
            (handles[0]), new Integer(index), new Integer(maxlen + 1)});
      String value = readString(hkey, key, new String(name));
      results.put(new String(name).trim(), value);
    }
    regCloseKey.invoke(root, new Object[] { new Integer(handles[0]) });
    return results;
  }

  private static List&lt;String&gt; readStringSubKeys
    (Preferences root, int hkey, String key)
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    List&lt;String&gt; results = new ArrayList&lt;String&gt;();
    int[] handles = (int[]) regOpenKey.invoke(root, new Object[] {
        new Integer(hkey), toCstr(key), new Integer(KEY_READ) 
        });
    if (handles[1] != REG_SUCCESS) {
      return null;
    }
    int[] info = (int[]) regQueryInfoKey.invoke(root,
        new Object[] { new Integer(handles[0]) });

    int count  = info[0]; // Fix: info[2] was being used here with wrong results. Suggested by davenpcj, confirmed by Petrucio
    int maxlen = info[3]; // value length max
    for(int index=0; index&lt;count; index++)  {
      byte[] name = (byte[]) regEnumKeyEx.invoke(root, new Object[] {
          new Integer
            (handles[0]), new Integer(index), new Integer(maxlen + 1)
          });
      results.add(new String(name).trim());
    }
    regCloseKey.invoke(root, new Object[] { new Integer(handles[0]) });
    return results;
  }

  private static int [] createKey(Preferences root, int hkey, String key)
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    return  (int[]) regCreateKeyEx.invoke(root,
        new Object[] { new Integer(hkey), toCstr(key) });
  }

  private static void writeStringValue 
    (Preferences root, int hkey, String key, String valueName, String value) 
    throws IllegalArgumentException, IllegalAccessException,
    InvocationTargetException 
  {
    int[] handles = (int[]) regOpenKey.invoke(root, new Object[] {
        new Integer(hkey), toCstr(key), new Integer(KEY_ALL_ACCESS) });

    regSetValueEx.invoke(root,  
        new Object[] { 
          new Integer(handles[0]), toCstr(valueName), toCstr(value) 
          }); 
    regCloseKey.invoke(root, new Object[] { new Integer(handles[0]) });
  }

  // utility
  private static byte[] toCstr(String str) {
    byte[] result = new byte[str.length() + 1];

    for (int i = 0; i &lt; str.length(); i++) {
      result[i] = (byte) str.charAt(i);
    }
    result[str.length()] = 0;
    return result;
  }
}
</code></pre><p>I was unable to find and give credit to the original author of this code. If you find any details, please add a comment and I will add it here.</p></body></html>

===ID===
584e5a7a3e2ca51be94fedd9
===QUESTION===
Convert a string representation of a hex dump to a byte array using Java?
I am looking for a way to convert a long string (from a dump), that represents hex values into a byte array. I couldn't have phrased it better than the person that posted the same question here: http://www.experts-exchange.com/Programming/Programming_Languages/Java/Q_21062554.html But to keep it original, I'll phrase it my own way: suppose I have a string "00A0BF" that I would like interpreted as the byte[] {0x00,0xA0,0xBf} what should I do? I am a Java novice and ended up using BigInteger and watching out for leading hex zeros. But I think it is ugly and I am sure I am missing something simple...  
===LINK===
http://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java
===KEYWORDS===
missing 
===ANSWER===
419
<html><body><p>Here's a solution that I think is better than any posted so far:</p><pre><code>public static byte[] hexStringToByteArray(String s) {
    int len = s.length();
    byte[] data = new byte[len / 2];
    for (int i = 0; i &lt; len; i += 2) {
        data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)
                             + Character.digit(s.charAt(i+1), 16));
    }
    return data;
}
</code></pre><p>Reasons why it is an improvement:</p><li><p>Safe with leading zeros (unlike BigInteger) and with negative byte values (unlike Byte.parseByte)</p></li><p>Safe with leading zeros (unlike BigInteger) and with negative byte values (unlike Byte.parseByte)</p><li><p>Doesn't convert the String into a <code>char[]</code>, or create StringBuilder and String objects for every single byte.</p></li><p>Doesn't convert the String into a <code>char[]</code>, or create StringBuilder and String objects for every single byte.</p><p>Feel free to add argument checking via <code>assert</code> or exceptions if the argument is not known to be safe.</p></body></html>

===ID===
584e5a7b3e2ca51be94fedda
===QUESTION===
Java generics - type erasure - when and what happens
I read about Java's type erasure  on Sun's website . When does type erasure occur?  At compile time / runtime? When the class is loaded / runtime? When the class is instantiated? A lot of sites (including the Sun tutorial mentioned above) say type erasure occurs at compile time. If the type information is completely removed at compile time, how does the JDK check type compatibility when a method using generics is invoked with no type information or wrong type information.  Consider the following example: Say class A has a method,  empty(Box<? extends Number> b) . We compile A.java and get the class file A.class. Now we create another class B which invokes the method empty with a non-parameterized argument (raw type)-  empty(new Box()) . If we compile B.java with A.class in the classpath, javac is smart enough to raise a warning. So A.class  has  some type information stored in it. My guess would be that type erasure occurs when the class is loaded, but it is just a guess. So when does it happen?  
===LINK===
http://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens
===KEYWORDS===
javac 
===ANSWER===
157
<html><body><p>Type erasure applies to the <em>use</em> of generics. There's definitely metadata in the class file to say whether or not a method/type <em>is</em> generic, and what the constraints are etc. But when generics are <em>used</em>, they're converted into compile-time checks and execution-time casts. So this code:</p><pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();
list.add("Hi");
String x = list.get(0);
</code></pre><p>is compiled into</p><pre><code>List list = new ArrayList();
list.add("Hi");
String x = (String) list.get(0);
</code></pre><p>At execution time there's no way of finding out that <code>T=String</code> for the list object - that information is gone.</p><p>... but the <code>List&lt;T&gt;</code> interface itself still advertises itself as being generic.</p><p>EDIT: Just to clarify, the compiler does retain the information about the <em>variable</em> being a <code>List&lt;String&gt;</code> - but you still can't find out that <code>T=String</code> for the list object itself.</p></body></html>

===ID===
584e5a7b3e2ca51be94feddb
===QUESTION===
Why do I need to override the equals and hashCode methods in Java?
Recently I read through this
  Developer Works Document . The document is all about defining  hashCode()  and  equals()  effectively and correctly, but I am not able to figure out why we need to override these two methods.  How can I take the decision to implement these method efficiently? 
===LINK===
http://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java
===KEYWORDS===
recently 
===ANSWER===
276
<html><body><p>Joshua Bloch says on Effective Java</p><p>You must override hashCode() in every class that overrides equals(). Failure to do so will result in a violation of the general contract for Object.hashCode(), which will prevent your class from functioning properly in conjunction with all hash-based collections, including HashMap, HashSet, and Hashtable.</p><p>Let's try to understand it with an example of what would happen if we override <code>equals()</code> without overriding <code>hashCode()</code> and attempt to use a <code>Map</code>.</p><p>Say we have a class like this and that two objects of <code>MyClass</code> are equal if their <code>importantField</code> is equal (with <code>hashCode()</code> and <code>equals()</code> generated by eclipse)</p><pre><code>public class MyClass {

    private final String importantField;
    private final String anotherField;

    public MyClass(final String equalField, final String anotherField) {
        this.importantField = equalField;
        this.anotherField = anotherField;
    }

    public String getEqualField() {
        return importantField;
    }

    public String getAnotherField() {
        return anotherField;
    }

    @Override
    public int hashCode() {
        final int prime = 31;
        int result = 1;
        result = prime * result
                + ((importantField == null) ? 0 : importantField.hashCode());
        return result;
    }

    @Override
    public boolean equals(final Object obj) {
        if (this == obj)
            return true;
        if (obj == null)
            return false;
        if (getClass() != obj.getClass())
            return false;
        final MyClass other = (MyClass) obj;
        if (importantField == null) {
            if (other.importantField != null)
                return false;
        } else if (!importantField.equals(other.importantField))
            return false;
        return true;
    }

}
</code></pre><p><strong>Override only <code>equals</code></strong></p><p>If only <code>equals</code> is overriden, then when you call <code>myMap.put(first,someValue)</code> first will hash to some bucket and when you call <code>myMap.put(second,someOtherValue)</code> it will hash to some other bucket (as they have a different <code>hashCode</code>). So, although they are equal, as they don't hash to the same bucket, the map can't realize it and both of them stay in the map.</p><p>Although it is not necessary to override <code>equals()</code> if we override <code>hashCode()</code>, let's see what would happen in this particular case where we know that two objects of <code>MyClass</code> are equal if their <code>importantField</code> is equal but we do not override <code>equals()</code>.</p><p><strong>Override only <code>hashCode</code></strong></p><p>Imagine you have this</p><pre><code>MyClass first = new MyClass("a","first");
MyClass second = new MyClass("a","second");
</code></pre><p>If you only override <code>hashCode</code> then when you call <code>myMap.put(first,someValue)</code> it takes first, calculates its <code>hashCode</code> and stores it in a given bucket. Then when you call <code>myMap.put(second,someOtherValue)</code> it should replace first with second  as per the <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html#put%28java.lang.Object,%20java.lang.Object%29" rel="nofollow noreferrer">Map Documentation</a> because they are equal (according to the business requirement).</p><p>But the problem is that equals was not redefined, so when the map hashes <code>second</code> and iterates through the bucket looking if there is an object <code>k</code> such that <code>second.equals(k)</code> is true it won't find any as <code>second.equals(first)</code> will be <code>false</code>.</p><p>Hope it was clear</p></body></html>

===ID===
584e5a7e3e2ca51be94feddc
===QUESTION===
How do I discover memory usage of my application in Android?
How can I find the memory used on my Android application, programmatically? I hope there is a way to do it. Plus, how do I get the free memory of the phone too? 
===LINK===
http://stackoverflow.com/questions/2298208/how-do-i-discover-memory-usage-of-my-application-in-android
===KEYWORDS===
application 
===ANSWER===
896
<html><body><p>Note that memory usage on modern operating systems like Linux is an <em>extremely</em> complicated and difficult to understand area.  In fact the chances of you actually correctly interpreting whatever numbers you get is extremely low.  (Pretty much every time I look at memory usage numbers with other engineers, there is always a long discussion about what they actually mean that only results in a vague conclusion.)</p><p><strong>Note: we now have much more extensive documentation on <a href="http://developer.android.com/training/articles/memory.html" rel="nofollow noreferrer">Managing Your App's Memory</a> that covers much of the material here and is more up-to-date with the state of Android.</strong></p><p>First thing is to probably read the last part of this article which has some discussion of how memory is managed on Android:</p><p><a href="http://android-developers.blogspot.com/2010/02/service-api-changes-starting-with.html" rel="nofollow noreferrer">Service API changes starting with Android 2.0</a></p><p>Now <code>ActivityManager.getMemoryInfo()</code> is our highest-level API for looking at overall memory usage.  This is mostly there to help an application gauge how close the system is coming to having no more memory for background processes, thus needing to start killing needed processes like services.  For pure Java applications, this should be of little use, since the Java heap limit is there in part to avoid one app from being able to stress the system to this point.</p><p>Going lower-level, you can use the Debug API to get raw kernel-level information about memory usage: <a href="http://developer.android.com/intl/de/reference/android/os/Debug.html#getMemoryInfo" rel="nofollow noreferrer">android.os.Debug.MemoryInfo</a></p><p>Note starting with 2.0 there is also an API, <code>ActivityManager.getProcessMemoryInfo</code>, to get this information about another process: <a href="http://developer.android.com/reference/android/app/ActivityManager.html#getProcessMemoryInfo(int[])" rel="nofollow noreferrer">ActivityManager.getProcessMemoryInfo(int[])</a></p><p>This returns a low-level MemoryInfo structure with all of this data:</p><pre><code>    /** The proportional set size for dalvik. */
    public int dalvikPss;
    /** The private dirty pages used by dalvik. */
    public int dalvikPrivateDirty;
    /** The shared dirty pages used by dalvik. */
    public int dalvikSharedDirty;

    /** The proportional set size for the native heap. */
    public int nativePss;
    /** The private dirty pages used by the native heap. */
    public int nativePrivateDirty;
    /** The shared dirty pages used by the native heap. */
    public int nativeSharedDirty;

    /** The proportional set size for everything else. */
    public int otherPss;
    /** The private dirty pages used by everything else. */
    public int otherPrivateDirty;
    /** The shared dirty pages used by everything else. */
    public int otherSharedDirty;
</code></pre><p>But as to what the difference is between <code>Pss</code>, <code>PrivateDirty</code>, and <code>SharedDirty</code>...  well now the fun begins.</p><p>A lot of memory in Android (and Linux systems in general) is actually shared across multiple processes.  So how much memory a processes uses is really not clear.  Add on top of that paging out to disk (let alone swap which we don't use on Android) and it is even less clear.</p><p>Thus if you were to take all of the physical RAM actually mapped in to each process, and add up all of the processes, you would probably end up with a number much greater than the actual total RAM.</p><p>The <code>Pss</code> number is a metric the kernel computes that takes into account memory sharing -- basically each page of RAM in a process is scaled by a ratio of the number of other processes also using that page.  This way you can (in theory) add up the pss across all processes to see the total RAM they are using, and compare pss between processes to get a rough idea of their relative weight.</p><p>The other interesting metric here is <code>PrivateDirty</code>, which is basically the amount of RAM inside the process that can not be paged to disk (it is not backed by the same data on disk), and is not shared with any other processes.  Another way to look at this is the RAM that will become available to the system when that process goes away (and probably quickly subsumed into caches and other uses of it).</p><p>That is pretty much the SDK APIs for this.  However there is more you can do as a developer with your device.</p><p>Using <code>adb</code>, there is a lot of information you can get about the memory use of a running system.  A common one is the command <code>adb shell dumpsys meminfo</code> which will spit out a bunch of information about the memory use of each Java process, containing the above info as well as a variety of other things.  You can also tack on the name or pid of a single process to see, for example <code>adb shell dumpsys meminfo system</code> give me the system process:</p><pre>
** MEMINFO in pid 890 [system] **
                    native   dalvik    other    total
            size:    10940     7047      N/A    17987
       allocated:     8943     5516      N/A    14459
            free:      336     1531      N/A     1867
           (Pss):     4585     9282    11916    25783
  (shared dirty):     2184     3596      916     6696
    (priv dirty):     4504     5956     7456    17916

 Objects
           Views:      149        ViewRoots:        4
     AppContexts:       13       Activities:        0
          Assets:        4    AssetManagers:        4
   Local Binders:      141    Proxy Binders:      158
Death Recipients:       49
 OpenSSL Sockets:        0

 SQL
            heap:      205          dbFiles:        0
       numPagers:        0   inactivePageKB:        0
    activePageKB:        0
</pre><p>The top section is the main one, where <code>size</code> is the total size in address space of a particular heap, <code>allocated</code> is the kb of actual allocations that heap thinks it has, <code>free</code> is the remaining kb free the heap has for additional allocations, and <code>pss</code> and <code>priv dirty</code> are the same as discussed before specific to pages associated with each of the heaps.</p><p>If you just want to look at memory usage across all processes, you can use the command <code>adb shell procrank</code>.  Output of this on the same system looks like:</p><pre>
  PID      Vss      Rss      Pss      Uss  cmdline
  890   84456K   48668K   25850K   21284K  system_server
 1231   50748K   39088K   17587K   13792K  com.android.launcher2
  947   34488K   28528K   10834K    9308K  com.android.wallpaper
  987   26964K   26956K    8751K    7308K  com.google.process.gapps
  954   24300K   24296K    6249K    4824K  com.android.phone
  948   23020K   23016K    5864K    4748K  com.android.inputmethod.latin
  888   25728K   25724K    5774K    3668K  zygote
  977   24100K   24096K    5667K    4340K  android.process.acore
...
   59     336K     332K      99K      92K  /system/bin/installd
   60     396K     392K      93K      84K  /system/bin/keystore
   51     280K     276K      74K      68K  /system/bin/servicemanager
   54     256K     252K      69K      64K  /system/bin/debuggerd
</pre><p>Here the <code>Vss</code> and <code>Rss</code> columns are basically noise (these are the straight-forward address space and RAM usage of a process, where if you add up the RAM usage across processes you get an ridiculously large number).</p><p><code>Pss</code> is as we've seen before, and <code>Uss</code> is <code>Priv Dirty</code>.</p><p>Interesting thing to note here: <code>Pss</code> and <code>Uss</code> are slightly (or more than slightly) different than what we saw in <code>meminfo</code>.  Why is that?  Well procrank uses a different kernel mechanism to collect its data than <code>meminfo</code> does, and they give slightly different results.  Why is that?  Honestly I haven't a clue.  I believe <code>procrank</code> may be the more accurate one...  but really, this just leave the point: "take any memory info you get with a grain of salt; often a very large grain."</p><p>Finally there is the command <code>adb shell cat /proc/meminfo</code> that gives a summary of the overall memory usage of the system.  There is a lot of data here, only the first few numbers worth discussing (and the remaining ones understood by few people, and my questions of those few people about them often resulting in conflicting explanations):</p><pre>
MemTotal:         395144 kB
MemFree:          184936 kB
Buffers:             880 kB
Cached:            84104 kB
SwapCached:            0 kB
</pre><p><code>MemTotal</code> is the total amount of memory available to the kernel and user space (often less than the actual physical RAM of the device, since some of that RAM is needed for the radio, DMA buffers, etc).</p><p><code>MemFree</code> is the amount of RAM that is not being used at all.  The number you see here is very high; typically on an Android system this would be only a few MB, since we try to use available memory to keep processes running</p><p><code>Cached</code> is the RAM being used for filesystem caches and other such things.  Typical systems will need to have 20MB or so for this to avoid getting into bad paging states; the Android out of memory killer is tuned for a particular system to make sure that background processes are killed before the cached RAM is consumed too much by them to result in such paging.</p></body></html>

===ID===
584e5a7f3e2ca51be94feddd
===QUESTION===
Java's +=, -=, *=, /= compound assignment operators
Until today I thought that for example: is just a shortcut for: But what if we try this: Then  i = i + j;  will not compile but  i += j;  will compile fine. Does it mean that in fact  i += j;  is a shortcut for something like this
 i = (type of i) (i + j) ? 
===LINK===
http://stackoverflow.com/questions/8710619/javas-compound-assignment-operators
===KEYWORDS===
compile 
===ANSWER===
1905
<html><body><p>As always with these questions, the JLS holds the answer. In this case <a href="http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.26.2">§15.26.2 Compound Assignment Operators</a>. An extract:</p><p>A compound assignment expression of the form <code>E1 op= E2</code> is equivalent to <code>E1 = (T)((E1) op (E2))</code>, where <code>T</code> is the type of <code>E1</code>, except that <code>E1</code> is evaluated only once.</p><p>An example cited from <a href="http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.26.2">§15.26.2</a></p><p>[...] the following code is correct:</p><pre><code>short x = 3;
x += 4.6;
</code></pre><p>and results in x having the value 7 because it is equivalent to:</p><pre><code>short x = 3;
x = (short)(x + 4.6);
</code></pre><p>In other words, your assumption is correct.</p></body></html>

===ID===
584e5a803e2ca51be94fedde
===QUESTION===
How to declare an array
How do I declare an array in Java? 
===LINK===
http://stackoverflow.com/questions/1200621/how-to-declare-an-array
===KEYWORDS===
array 
===ANSWER===
1507
<html><body><p>You can either use array declaration or array literal (but only when you declare and affect the variable right away, array literals cannot be used for re-assigning an array). </p><p>For primitive types: </p><pre><code>int[] myIntArray = new int[3];
int[] myIntArray = {1,2,3};
int[] myIntArray = new int[]{1,2,3};
</code></pre><p>For classes, for example <code>String</code>, it's the same:</p><pre><code>String[] myStringArray = new String[3];
String[] myStringArray = {"a","b","c"};
String[] myStringArray = new String[]{"a","b","c"};
</code></pre><p>For more examples, see the <a class="doc-link" href="http://stackoverflow.com/documentation/java/99/arrays/404/creating-and-initializing-arrays#t=201607261943570177">documentation page.</a></p></body></html>

===ID===
584e5a803e2ca51be94feddf
===QUESTION===
Why is char[] preferred over String for passwords in Java?
In Swing, the password field has a  getPassword()  (returns  char[] ) method instead of the usual  getText()  (returns  String ) method. Similarly, I have come across a suggestion not to use  String  to handle passwords. Why does  String  pose a threat to security when it comes to passwords?
It feels inconvenient to use  char[] . 
===LINK===
http://stackoverflow.com/questions/8881291/why-is-char-preferred-over-string-for-passwords-in-java
===KEYWORDS===
passwords 
===ANSWER===
2845
<html><body><p><strong>Strings are immutable</strong>. That means once you've created the <code>String</code>, if another process can dump memory, there's no way (aside from <a href="https://en.wikipedia.org/wiki/Reflection_%28computer_programming%29" rel="nofollow noreferrer">reflection</a>) you can get rid of the data before <a href="https://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29" rel="nofollow noreferrer">garbage collection</a> kicks in.</p><p>With an array, you can explicitly wipe the data after you're done with it. You can overwrite the array with anything you like, and the password won't be present anywhere in the system, even before garbage collection.</p><p>So yes, this <em>is</em> a security concern - but even using <code>char[]</code> only reduces the window of opportunity for an attacker, and it's only for this specific type of attack.</p><p>As noted in comments, it's possible that arrays being moved by the garbage collector will leave stray copies of the data in memory. I believe this is implementation-specific - the garbage collector <em>may</em> clear all memory as it goes, to avoid this sort of thing. Even if it does, there's still the time during which the <code>char[]</code> contains the actual characters as an attack window.</p></body></html>

===ID===
584e5a813e2ca51be94fede0
===QUESTION===
How to efficiently iterate over each Entry in a Map?
If I have an object implementing the  Map  interface in Java and I wish to iterate over every pair contained within it, what is the most efficient way of going through the map?   Will the ordering of elements depend on the specific map implementation that I have for the interface? 
===LINK===
http://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-map
===KEYWORDS===
map 
===ANSWER===
2788
<html><body><pre><code>Map&lt;String, String&gt; map = ...
for (Map.Entry&lt;String, String&gt; entry : map.entrySet())
{
    System.out.println(entry.getKey() + "/" + entry.getValue());
}
</code></pre></body></html>

===ID===
584e5a813e2ca51be94fede1
===QUESTION===
Random shuffling of an array
I need to randomly shuffle the following Array: Is there any function to do that? 
===LINK===
http://stackoverflow.com/questions/1519736/random-shuffling-of-an-array
===KEYWORDS===
function 
===ANSWER===
172
<html><body><p>Using Collections to shuffle an array of primitive types is a bit of an overkill...</p><p>It is simple enough to implement the function yourself, using for example the <a href="http://en.wikipedia.org/wiki/Fisher-Yates_shuffle" rel="nofollow noreferrer">Fisher–Yates shuffle</a>:</p><pre><code>import java.util.*;
import java.util.concurrent.ThreadLocalRandom;

class Test
{
  public static void main(String args[])
  {
    int[] solutionArray = { 1, 2, 3, 4, 5, 6, 16, 15, 14, 13, 12, 11 };

    shuffleArray(solutionArray);
    for (int i = 0; i &lt; solutionArray.length; i++)
    {
      System.out.print(solutionArray[i] + " ");
    }
    System.out.println();
  }

  // Implementing Fisher–Yates shuffle
  static void shuffleArray(int[] ar)
  {
    // If running on Java 6 or older, use `new Random()` on RHS here
    Random rnd = ThreadLocalRandom.current();
    for (int i = ar.length - 1; i &gt; 0; i--)
    {
      int index = rnd.nextInt(i + 1);
      // Simple swap
      int a = ar[index];
      ar[index] = ar[i];
      ar[i] = a;
    }
  }
}
</code></pre></body></html>

===ID===
584e5a823e2ca51be94fede2
===QUESTION===
Why does my ArrayList contain N copies of the last item added to the list?
I'm adding three different objects to an ArrayList, but the list contains three copies of the last object I added.  For example: Expected: Actual: What mistake have I made? Note: this is designed to be a canonical Q&A for the numerous similar issues that arise on this site. 
===LINK===
http://stackoverflow.com/questions/19843506/why-does-my-arraylist-contain-n-copies-of-the-last-item-added-to-the-list
===KEYWORDS===
adding 
===ANSWER===
58
<html><body><p>This problem has two typical causes:</p><li><p>Static fields in your list object</p></li><p>Static fields in your list object</p><li><p>Accidentally adding the <em>same</em> object to the list</p></li><p>Accidentally adding the <em>same</em> object to the list</p><p>If you have static fields in your list object, each object in your list will appear to be the same because they hold the same values. Consider the class below:</p><pre><code>public class Foo {
  private static int value; 
  //      ^^^^^^------------ - Here's the problem!

  public Foo(int value) {
    this.value = value;
  }

  public int getValue() {
    return value;
  }
}
</code></pre><p>In that example, there is only one <code>int value</code> which is shared between all instances of <code>Foo</code> because it is declared <code>static</code>. (See <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html" rel="nofollow"><em>"Understanding Class Members"</em></a> tutorial.)</p><p>If you add multiple <code>Foo</code> objects to a list using the code below, each instance will return <code>3</code> from a call to <code>getValue()</code>:</p><pre><code>for (int i = 0; i &lt; 4; i++) {      
  list.add(new Foo(i));
}
</code></pre><p>The solution is simple - don't use the <code>static</code> keywords for fields in your class unless you actually want the values shared between every instance of that class.</p><p>If you add a temporary variable to a list, you must create a new instance each time you loop. Consider the following erroneous code snippet:</p><pre><code>List&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;();    
Foo tmp = new Foo();

for (int i = 0; i &lt; 3; i++) {
  tmp.setValue(i);
  list.add(tmp);
}
</code></pre><p>Here, the <code>tmp</code> object was constructed outside the loop. As a result, the <em>same object instance</em> is being added to the list three times. The instance will hold the value <code>2</code>, because that was the value passed during the last call to <code>setValue()</code>.</p><p>To fix this, just move the object construction inside the loop:</p><pre><code>List&lt;Foo&gt; list = new ArrayList&lt;Foo&gt;();        

for (int i = 0; i &lt; 3; i++) {
  Foo tmp = new Foo(); // &lt;-- fresh instance!
  tmp.setValue(i);
  list.add(tmp);
}
</code></pre></body></html>

===ID===
584e5a823e2ca51be94fede3
===QUESTION===
How do I copy an object in Java?
Consider the below code: So, I want to copy the 'dum' to 'dumtwo' and I want to change 'dum' without affecting the 'dumtwo'. But the above code is not doing that. When I change something in 'dum', the same change is happening in 'dumtwo' also. I guess, when I say  dumtwo = dum , Java copies the  reference only . So, is there any way to create a fresh copy of 'dum' and assign it to 'dumtwo'? 
===LINK===
http://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java
===KEYWORDS===
guess 
===ANSWER===
385
<html><body><p>Create a copy constructor:</p><pre><code>class DummyBean {
  private String dummy;

  public DummyBean(DummyBean another) {
    this.dummy = another.dummy; // you can access  
  }
}
</code></pre><p>Every object has also a clone method which can be used to copy the object, but don't use it. It's way too easy to create a class and do improper clone method. If you are going to do that, read at least what Joshua Bloch has to say about it in <em><a href="http://books.google.com/books?id=ka2VUBqHiWkC&amp;pg=PA55&amp;lpg=PA55&amp;dq=effective+java+clone&amp;source=bl&amp;ots=yXGhLnv4O4&amp;sig=zvEip5tp5KGgwqO1sCWgtGyJ1Ns&amp;hl=en&amp;ei=CYANSqygK8jktgfM-JGcCA&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=3#PPA54,M1" rel="nofollow noreferrer">Effective Java</a></em>.</p></body></html>

===ID===
584e5a833e2ca51be94fede4
===QUESTION===
Browser can't access/find relative resources like CSS, images and links when calling a Servlet which forwards to a JSP
I'm having trouble with loading CSS and images and creating links to other pages when I have a servlet forward to a JSP. Specifically, when I set my  <welcome-file>  to  index.jsp , the CSS is being loaded and my images are being displayed. However, if I set my  <welcome-file>  to  HomeServlet  which forwards control to  index.jsp , the CSS is not being applied and my images are not being displayed.  My CSS file is in  web/styles/default.css . 
My images are in  web/images/ . I'm linking to my CSS like so: I'm displaying my images as follows: How is this problem caused and how can I solve it? Update 1 : I've added the structure of the application, as well as some other information that might help. The  header.jsp  file is the file that contains the link tag for the CSS. The  HomeServlet  is set as my  welcome-file  in  web.xml : The servlet is declared and mapped as followes in the  web.xml : Update 2 : I found the problem finally - my servlet was mapped incorrectly. Apparently when setting a Servlet as your  <welcome-file>  it can't have a URL pattern of  / , which I find sort of weird, because wouldn't that stand for the root directory of the site? The new mapping is as follows: 
===LINK===
http://stackoverflow.com/questions/3655316/browser-cant-access-find-relative-resources-like-css-images-and-links-when-cal
===KEYWORDS===
declared 
===ANSWER===
74
<html><body><p>All relative URLs in the HTML page generated by the JSP file are relative to the current request URL (the URL as you see in the browser address bar) and <strong>not</strong> to the location of the JSP file in the server side as you seem to expect. It's namely the webbrowser who has to download those resources individually by URL, not the webserver who has to include them from disk somehow.</p><p>Apart from changing the relative URLs to make them relative to the URL of the servlet instead of the location of the JSP file, another way to fix this problem is to make them relative to the domain root (i.e. start with a <code>/</code>). This way you don't need to worry about changing the relative paths once again when you change the URL of the servlet.</p><pre class="lang-xml prettyprint-override"><code>&lt;head&gt;
    &lt;link rel="stylesheet" href="/context/css/default.css" /&gt;
    &lt;script src="/context/js/default.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;img src="/context/img/logo.png" /&gt;
    &lt;a href="/context/page.jsp"&gt;link&lt;/a&gt;
    &lt;form action="/context/servlet"&gt;&lt;input type="submit" /&gt;&lt;/form&gt;
&lt;/body&gt;
</code></pre><p>However, you would probably like not to hardcode the context path. Very reasonable. You can obtain the context path in EL by <code>${pageContext.request.contextPath}</code>.</p><pre class="lang-xml prettyprint-override"><code>&lt;head&gt;
    &lt;link rel="stylesheet" href="${pageContext.request.contextPath}/css/default.css" /&gt;
    &lt;script src="${pageContext.request.contextPath}/js/default.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;img src="${pageContext.request.contextPath}/img/logo.png" /&gt;
    &lt;a href="${pageContext.request.contextPath}/page.jsp"&gt;link&lt;/a&gt;
    &lt;form action="${pageContext.request.contextPath}/servlet"&gt;&lt;input type="submit" /&gt;&lt;/form&gt;
&lt;/body&gt;
</code></pre><p><em>(which can easily be shortened by <code>&lt;c:set var="root" value="${pageContext.request.contextPath}" /&gt;</code> and used as <code>${root}</code> elsewhere)</em></p><p>Or, if you don't fear unreadable XML and broken XML syntax highlighting, use <a href="http://stackoverflow.com/tags/jstl/info">JSTL</a> <a href="http://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/c/url.html" rel="nofollow noreferrer"><code>&lt;c:url&gt;</code></a>:</p><pre class="lang-xml prettyprint-override"><code>&lt;head&gt;
    &lt;link rel="stylesheet" href="&lt;c:url value="/css/default.css" /&gt;" /&gt;
    &lt;script src="&lt;c:url value="/js/default.js" /&gt;"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;img src="&lt;c:url value="/img/logo.png" /&gt;" /&gt;
    &lt;a href="&lt;c:url value="/page.jsp" /&gt;"&gt;link&lt;/a&gt;
    &lt;form action="&lt;c:url value="/servlet" /&gt;"&gt;&lt;input type="submit" /&gt;&lt;/form&gt;
&lt;/body&gt;
</code></pre><p>Either way, this is in turn pretty cumbersome if you have a lot of relative URLs. For that you can use the <code>&lt;base&gt;</code> tag. All relative URL's will instantly become relative to it. It has however to start with the scheme (<code>http://</code>, <code>https://</code>, etc). There's no neat way to obtain the base context path in plain EL, so we need a little help of <a href="http://stackoverflow.com/tags/jstl/info">JSTL</a> here.</p><pre class="lang-xml prettyprint-override"><code>&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %&gt;
&lt;c:set var="req" value="${pageContext.request}" /&gt;
&lt;c:set var="uri" value="${req.requestURI}" /&gt;
&lt;c:set var="url"&gt;${req.requestURL}&lt;/c:set&gt;
...
&lt;head&gt;
    &lt;base href="${fn:substring(url, 0, fn:length(url) - fn:length(uri))}${req.contextPath}/" /&gt;
    &lt;link rel="stylesheet" href="css/default.css" /&gt;
    &lt;script src="js/default.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;img src="img/logo.png" /&gt;
    &lt;a href="page.jsp"&gt;link&lt;/a&gt;
    &lt;form action="servlet"&gt;&lt;input type="submit" /&gt;&lt;/form&gt;
&lt;/body&gt;
</code></pre><p>This has in turn (again) some caveats. Anchors (the <code>#identifier</code> URL's) will become relative to the base path as well! You would like to make it relative to the request URL (URI) instead. So, change like</p><pre class="lang-xml prettyprint-override"><code>&lt;a href="#identifier"&gt;jump&lt;/a&gt;
</code></pre><p>to</p><pre class="lang-xml prettyprint-override"><code>&lt;a href="${uri}#identifier"&gt;jump&lt;/a&gt;
</code></pre><p>Each way has its own pros and cons. It's up to you which to choose. At least, you should now understand how this problem is caused and how to solve it :)</p><li><a href="http://stackoverflow.com/questions/1889076/is-it-recommended-to-use-the-base-html-tag">Is it recommended to use the <code>&lt;base&gt;</code> html tag?</a></li></body></html>

===ID===
584e5a833e2ca51be94fede5
===QUESTION===
getResourceAsStream() vs FileInputStream
I was trying to load a file in a webapp, and I was getting a  FileNotFound  exception when I used  FileInputStream . However, using the same path, I was able to load the file when I did  getResourceAsStream() . 
What is the difference between the two methods, and why does one work while the other doesn't? 
===LINK===
http://stackoverflow.com/questions/2308188/getresourceasstream-vs-fileinputstream
===KEYWORDS===
load 
===ANSWER===
230
<html><body><p>The <a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html" rel="nofollow noreferrer"><code>java.io.File</code></a> and consorts acts on the local disk file system. The root cause of your problem is that <em>relative</em> paths in <code>java.io</code> are dependent on the current working directory. I.e. the directory from which the JVM (in your case: the webserver's one) is started. This may for example be <code>C:\Tomcat\bin</code> or something entirely different, but thus <em>not</em> <code>C:\Tomcat\webapps\contextname</code> or whatever you'd expect it to be. In a normal Eclipse project, that would be <code>C:\Eclipse\workspace\projectname</code>. You can learn about the current working directory the following way:</p><pre><code>System.out.println(new File(".").getAbsolutePath());
</code></pre><p>However, the working directory is in no way programmatically controllable. You should really prefer using <em>absolute</em> paths in the <code>File</code> API instead of relative paths. E.g. <code>C:\full\path\to\file.ext</code>. </p><p>You don't want to hardcode or guess the absolute path in Java (web)applications. That's only portability trouble (i.e. it runs in system X, but not in system Y). The normal practice is to place those kind of resources in the <strong>classpath</strong>, or to add its full path to the classpath (in an IDE like Eclipse that's the <code>src</code> folder and the "build path" respectively). This way you can grab them with help of the <code>ClassLoader</code> by  <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResource-java.lang.String-" rel="nofollow noreferrer"><code>ClassLoader#getResource()</code></a> or <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html#getResourceAsStream-java.lang.String-" rel="nofollow noreferrer"><code>ClassLoader#getResourceAsStream()</code></a>. It is able to locate files relative to the "root" of the classpath, as you by coincidence figured out. In webapplications (or any other application which uses multiple classloaders) it's recommend to use the <code>ClassLoader</code> as returned by <code>Thread.currentThread().getContextClassLoader()</code> for this so you can look "outside" the webapp context as well.</p><p>Another alternative in webapps is the <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#getResource-java.lang.String-" rel="nofollow noreferrer"><code>ServletContext#getResource()</code></a> and its counterpart <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#getResourceAsStream-java.lang.String-" rel="nofollow noreferrer"><code>ServletContext#getResourceAsStream()</code></a>. It is able to access files located in the public <code>web</code> folder of the webapp project, including the <code>/WEB-INF</code> folder. The <code>ServletContext</code> is available in servlets by the inherited <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/GenericServlet.html#getServletContext--" rel="nofollow noreferrer"><code>getServletContext()</code></a> method, you can call it as-is. </p><li><a href="http://stackoverflow.com/questions/2161054/where-to-place-and-how-to-read-properties-files-in-a-jsp-servlet-web-application">Where to place and how to read configuration resource files in servlet based application?</a></li><li><a href="http://stackoverflow.com/questions/12160639/what-does-servletcontext-getrealpath-mean-and-when-should-i-use-it">What does servletcontext.getRealPath("/") mean and when should I use it</a></li><li><a href="http://stackoverflow.com/questions/18664579/recommended-way-to-save-uploaded-files-in-a-servlet-application">Recommended way to save uploaded files in a servlet application</a></li><li><a href="http://stackoverflow.com/questions/31255366/java-io-filenotfoundexception-when-trying-to-save-generated-file-in-web-applicat">How to save generated file in servlet based web application</a></li></body></html>

===ID===
584e5a843e2ca51be94fede6
===QUESTION===
Swing: Obtain Image of JFrame
How do I obtain a  java.awt.Image  of a JFrame? I want to obtain a screen shot of a  JFrame  (for later use within my application). This is presently accomplished using the robot to take a screen shot specifying the coordinates and dimensions of the  JFrame  involved. However, I believe that there is a better way: Swing components, by default, render themselves as images into a double buffer prior to painting themselves onto the screen. Is there a way to obtain these images from the component? 
===LINK===
http://stackoverflow.com/questions/5853879/swing-obtain-image-of-jframe
===KEYWORDS===
jframe 
===ANSWER===
64
<html><body><pre><code>import java.awt.BorderLayout;
import java.awt.Component;
import java.awt.Image;
import java.awt.Graphics;

import java.awt.image.BufferedImage;

import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import java.awt.event.KeyEvent;
import java.awt.event.InputEvent;

import javax.swing.*;

import javax.swing.border.TitledBorder;

import javax.imageio.ImageIO;

import java.io.File;

/**
Create a screenshot of a component.
@author Andrew Thompson
*/
class ComponentImageCapture {

  static final String HELP =
    "Type Ctrl-0 to get a screenshot of the current GUI.\n" +
    "The screenshot will be saved to the current " +
    "directory as 'screenshot.png'.";

  public static BufferedImage getScreenShot(
    Component component) {

    BufferedImage image = new BufferedImage(
      component.getWidth(),
      component.getHeight(),
      BufferedImage.TYPE_INT_RGB
      );
    // call the Component's paint method, using
    // the Graphics object of the image.
    component.paint( image.getGraphics() ); // alternately use .printAll(..)
    return image;
  }

  public static void main(String[] args) {
    Runnable r = new Runnable() {
      public void run() {
        final JFrame f = new JFrame("Test Screenshot");

        JMenuItem screenshot =
          new JMenuItem("Screenshot");
        screenshot.setAccelerator(
          KeyStroke.getKeyStroke(
            KeyEvent.VK_0,
            InputEvent.CTRL_DOWN_MASK
          ));
        screenshot.addActionListener(
          new ActionListener(){
            public void actionPerformed(ActionEvent ae) {
              BufferedImage img = getScreenShot(
                f.getContentPane() );
              JOptionPane.showMessageDialog(
                null,
                new JLabel(
                  new ImageIcon(
                    img.getScaledInstance(
                      img.getWidth(null)/2,
                      img.getHeight(null)/2,
                      Image.SCALE_SMOOTH )
                    )));
              try {
                // write the image as a PNG
                ImageIO.write(
                  img,
                  "png",
                  new File("screenshot.png"));
              } catch(Exception e) {
                e.printStackTrace();
              }
            }
          } );
        JMenu menu = new JMenu("Other");
        menu.add(screenshot);
        JMenuBar mb = new JMenuBar();
        mb.add(menu);
        f.setJMenuBar(mb);

        JPanel p = new JPanel( new BorderLayout(5,5) );
        p.setBorder( new TitledBorder("Main GUI") );
        p.add( new JScrollPane(new JTree()),
          BorderLayout.WEST );
        p.add( new JScrollPane( new JTextArea(HELP,10,30) ),
          BorderLayout.CENTER );

        f.setContentPane( p );
        f.pack();
        f.setLocationRelativeTo(null);
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.setVisible(true);
      }
    };
    SwingUtilities.invokeLater(r);
  }
} 
</code></pre><p><img alt="GUI with captured image" src="https://i.stack.imgur.com/fw4B7.png"/></p><p>The code shown above presumes the component has been realized on-screen, prior to rendering.</p><p>Rob Camick shows how to paint an unrealized component in the <a href="http://tips4java.wordpress.com/2008/10/13/screen-image/" rel="nofollow noreferrer">Screen Image</a> class.</p><p>Another thread that might be of relevance, is <a href="http://forums.oracle.com/forums/thread.jspa?messageID=5697465&amp;" rel="nofollow noreferrer">Render JLabel without 1st displaying</a>, particularly the 'one line fix' by Darryl Burke.</p><p></p><p>Here is an updated variant of the code shown on the second link.</p><pre><code>import java.awt.*;
import java.awt.image.BufferedImage;
import javax.swing.*;

public class LabelRenderTest {

    public static void main(String[] args) {
        SwingUtilities.invokeLater( new Runnable() {
            public void run() {

            String title = "&lt;html&gt;&lt;body style='width: 200px; padding: 5px;'&gt;"
                + "&lt;h1&gt;Do U C Me?&lt;/h1&gt;"
                + "Here is a long string that will wrap.  "
                + "The effect we want is a multi-line label.";

                JFrame f = new JFrame("Label Render Test");
                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

                BufferedImage image = new BufferedImage(
                    400,
                    300,
                    BufferedImage.TYPE_INT_RGB);
                Graphics2D imageGraphics = image.createGraphics();
                GradientPaint gp = new GradientPaint(
                    20f,
                    20f,
                    Color.red,
                    380f,
                    280f,
                    Color.orange);
                imageGraphics.setPaint(gp);
                imageGraphics.fillRect(0, 0, 400, 300);

                JLabel textLabel = new JLabel(title);
                textLabel.setSize(textLabel.getPreferredSize());

                Dimension d = textLabel.getPreferredSize();
                BufferedImage bi = new BufferedImage(
                    d.width,
                    d.height,
                    BufferedImage.TYPE_INT_ARGB);
                Graphics g = bi.createGraphics();
                g.setColor(new Color(255, 255, 255, 128));
                g.fillRoundRect(
                    0,
                    0,
                    bi.getWidth(f),
                    bi.getHeight(f),
                    15,
                    10);
                g.setColor(Color.black);
                textLabel.paint(g);
                Graphics g2 = image.getGraphics();
                g2.drawImage(bi, 20, 20, f);

                ImageIcon ii = new ImageIcon(image);
                JLabel imageLabel = new JLabel(ii);

                f.getContentPane().add(imageLabel);
                f.pack();
                f.setLocationByPlatform(true);

                f.setVisible(true);
            }
        });
    }
}
</code></pre><p><img alt="Label rendered on image" src="https://i.stack.imgur.com/BUWfe.png"/></p></body></html>

===ID===
584e5a843e2ca51be94fede7
===QUESTION===
Recommendations for a heap analysis tool for Java? [closed]
List your favorite heap analysis tools (e.g. jprofiler, jmap, ...).
Let's keep it one tool per answer, with a short list of pros and cons for each tool. 
===LINK===
http://stackoverflow.com/questions/2064427/recommendations-for-a-heap-analysis-tool-for-java
===KEYWORDS===
cons 
===ANSWER===
13
<html><body><p><strong>YourKit</strong> : <a href="http://www.yourkit.com/" rel="nofollow noreferrer">http://www.yourkit.com/</a></p><p><strong>Pros:</strong></p><li>The interface is clean and it's fast</li><li>It opened a large 5-gig heap dump where jProfiler grined to a halt. And it only needed 1-2 gigs of JVM ram to do so.</li><p><strong>Cons:</strong>
Of course... it's not free :(</p></body></html>

===ID===
584e5a843e2ca51be94fede8
===QUESTION===
Can a progress bar be used in a class outside main?
Right now, my main just calls a gui with 10 rows.  Based on how many of those rows have text, 1 of 9 classes is called (two rows must have text).  The called class performs calculations that I'd like to have the progress bar tied to.  Here is an example of one of the called classes (each class is similar, but different enough to warrant a new class.)  I believe the problem is a violation of EDT rules, but all the examples I've seen on them involve a main argument.  The frame appears when the code is run, but the progress bar doesn't update until all calculations are completed. 
===LINK===
http://stackoverflow.com/questions/4637215/can-a-progress-bar-be-used-in-a-class-outside-main
===KEYWORDS===
rows 
===ANSWER===
25
<html><body><p><a href="http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html"><code>SwingWorker</code></a> is ideal for this. The example below performs a simple iteration in the background, while reporting progress and intermediate results in a window. You can pass whatever parameters you need in a suitable <a href="http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html"><code>SwingWorker</code></a> constructor.</p><pre><code>import java.awt.EventQueue;
import java.awt.GridLayout;
import java.beans.PropertyChangeEvent;
import java.beans.PropertyChangeListener;
import java.text.DecimalFormat;
import java.util.List;
import javax.swing.*;

/** @see http://stackoverflow.com/questions/4637215 */
public class TwoRoot extends JFrame {

    private static final String s = "0.000000000000000";
    private JProgressBar progressBar = new JProgressBar(0, 100);
    private JLabel label = new JLabel(s, JLabel.CENTER);

    public TwoRoot() {
        this.setLayout(new GridLayout(0, 1));
        this.setTitle("√2");
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.add(progressBar);
        this.add(label);
        this.setSize(161, 100);
        this.setLocationRelativeTo(null);
        this.setVisible(true);
    }

    public void runCalc() {
        progressBar.setIndeterminate(true);
        TwoWorker task = new TwoWorker();
        task.addPropertyChangeListener(new PropertyChangeListener() {

            @Override
            public void propertyChange(PropertyChangeEvent e) {
                if ("progress".equals(e.getPropertyName())) {
                    progressBar.setIndeterminate(false);
                    progressBar.setValue((Integer) e.getNewValue());
                }
            }
        });
        task.execute();
    }

    private class TwoWorker extends SwingWorker&lt;Double, Double&gt; {

        private static final int N = 5;
        private final DecimalFormat df = new DecimalFormat(s);
        double x = 1;

        @Override
        protected Double doInBackground() throws Exception {
            for (int i = 1; i &lt;= N; i++) {
                x = x - (((x * x - 2) / (2 * x)));
                setProgress(i * (100 / N));
                publish(Double.valueOf(x));
                Thread.sleep(1000); // simulate latency
            }
            return Double.valueOf(x);
        }

        @Override
        protected void process(List&lt;Double&gt; chunks) {
            for (double d : chunks) {
                label.setText(df.format(d));
            }
        }
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                TwoRoot t = new TwoRoot();
                t.runCalc();
            }
        });
    }
}
</code></pre></body></html>

===ID===
584e5a853e2ca51be94fede9
===QUESTION===
Converting JSON to Java
I want to be able to access properties from a JSON string within my Java action method. The string is available by simply saying  myJsonString = object.getJson() . Below is an example of what the string can look like: In this string every JSON object contains an array of other JSON objects. The intention is to extract a list of IDs where any given object possessing a group property that contains other JSON objects. I looked at Google's Gson as a potential JSON plugin. Can anyone offer some form of guidance as to how I can generate Java from this JSON string? 
===LINK===
http://stackoverflow.com/questions/1688099/converting-json-to-java
===KEYWORDS===
google 
===ANSWER===
279
<html><body><p><em>I looked at Google's Gson as a potential JSON plugin. Can anyone offer some form of guidance as to how I can generate Java from this JSON string?</em></p><p><a href="http://code.google.com/p/google-gson/" rel="nofollow noreferrer">Google Gson</a> supports generics and nested beans. The <code>[]</code> in JSON represents an array and should map to a Java collection such as <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html" rel="nofollow noreferrer"><code>List</code></a> or just a plain Java array. The <code>{}</code> in JSON represents an object and should map to a Java <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html" rel="nofollow noreferrer"><code>Map</code></a> or just some JavaBean class.</p><p>You have a JSON object with several properties of which the <code>groups</code> property represents an array of nested objects of the very same type. This can be parsed with Gson the following way:</p><pre><code>package com.stackoverflow.q1688099;

import java.util.List;
import com.google.gson.Gson;

public class Test {

    public static void main(String... args) throws Exception {
        String json = 
            "{"
                + "'title': 'Computing and Information systems',"
                + "'id' : 1,"
                + "'children' : 'true',"
                + "'groups' : [{"
                    + "'title' : 'Level one CIS',"
                    + "'id' : 2,"
                    + "'children' : 'true',"
                    + "'groups' : [{"
                        + "'title' : 'Intro To Computing and Internet',"
                        + "'id' : 3,"
                        + "'children': 'false',"
                        + "'groups':[]"
                    + "}]" 
                + "}]"
            + "}";

        // Now do the magic.
        Data data = new Gson().fromJson(json, Data.class);

        // Show it.
        System.out.println(data);
    }

}

class Data {
    private String title;
    private Long id;
    private Boolean children;
    private List&lt;Data&gt; groups;

    public String getTitle() { return title; }
    public Long getId() { return id; }
    public Boolean getChildren() { return children; }
    public List&lt;Data&gt; getGroups() { return groups; }

    public void setTitle(String title) { this.title = title; }
    public void setId(Long id) { this.id = id; }
    public void setChildren(Boolean children) { this.children = children; }
    public void setGroups(List&lt;Data&gt; groups) { this.groups = groups; }

    public String toString() {
        return String.format("title:%s,id:%d,children:%s,groups:%s", title, id, children, groups);
    }
}
</code></pre><p>Fairly simple, isn't it? Just have a suitable JavaBean and call <a href="http://google-gson.googlecode.com/svn/tags/1.3/docs/javadocs/com/google/gson/Gson.html#fromJson%28java.lang.String,%20java.lang.Class%29" rel="nofollow noreferrer"><code>Gson#fromJson()</code></a>.</p><li><a href="http://json.org/" rel="nofollow noreferrer">Json.org</a> - Introduction to JSON</li><li><a href="https://github.com/google/gson/blob/master/UserGuide.md" rel="nofollow noreferrer">Gson User Guide</a> - Introduction to Gson</li></body></html>

===ID===
584e5a853e2ca51be94fedea
===QUESTION===
Decode Base64 data in Java
I have an image that is Base64 encoded. What is the best way to decode that in Java? Hopefully using only the libraries included with Sun Java 6. 
===LINK===
http://stackoverflow.com/questions/469695/decode-base64-data-in-java
===KEYWORDS===
decode 
===ANSWER===
372
<html><body><p>As of v6, Java SE ships with JAXB. <a href="http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html" rel="nofollow noreferrer"><code>javax.xml.bind.DatatypeConverter</code></a> has static methods that make this easy. See <a href="http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#parseBase64Binary(java.lang.String)" rel="nofollow noreferrer"><code>parseBase64Binary()</code></a> and <a href="http://download.oracle.com/javase/6/docs/api/javax/xml/bind/DatatypeConverter.html#printBase64Binary%28byte[]%29" rel="nofollow noreferrer"><code>printBase64Binary()</code></a>.</p></body></html>

===ID===
584e5a863e2ca51be94fedeb
===QUESTION===
Java - No enclosing instance of type Foo is accessible
I have the following code: I know  Thing  does nothing, but my Hello, World program compiles just fine without it. It's only my defined classes that are failing on me. And it refuses to compile. I get  No enclosing instance of type Hello is accessible."  at the line that creates a new Thing. I'm guessing either: Any ideas? 
===LINK===
http://stackoverflow.com/questions/9560600/java-no-enclosing-instance-of-type-foo-is-accessible
===KEYWORDS===
accessible 
===ANSWER===
330
<html><body><p><code>static class Thing</code> will make your program work.</p><p>As it is, you've got <code>Thing</code> as an inner class, which (by definition) is associated with a particular instance of <code>Hello</code> (even if it never uses or refers to it), which means it's an error to say <code>new Thing();</code> without having a particular <code>Hello</code> instance in scope. </p><p>If you declare it as a static class instead, then it's a "nested" class, which doesn't need a particular <code>Hello</code> instance.</p></body></html>

===ID===
584e5a863e2ca51be94fedec
===QUESTION===
Loop doesn't see changed value without a print statement
In my code I have a loop that waits for some state to be changed from a different thread. The other thread works, but my loop never sees the changed value.  It waits forever.  However, when I put a  System.out.println  statement in the loop, it suddenly works! Why? The following is an example of my code: While the while loop is running, I call  deliverPizza()  from a different thread to set the  pizzaArrived  variable. But the loop only works when I uncomment the  System.out.println("waiting");  statement. What's going on? 
===LINK===
http://stackoverflow.com/questions/25425130/loop-doesnt-see-changed-value-without-a-print-statement
===KEYWORDS===
waiting 
===ANSWER===
64
<html><body><p>The JVM is allowed to assume that other threads do not change the <code>pizzaArrived</code> variable during the loop. In other words, it can hoist the <code>pizzaArrived == false</code> test outside the loop, optimizing this:</p><pre><code>while (pizzaArrived == false) {}
</code></pre><p>into this:</p><pre><code>if (pizzaArrived == false) while (true) {}
</code></pre><p>which is an infinite loop.</p><p>To ensure that changes made by one thread are visible to other threads you must always add some <strong>synchronization</strong> between the threads. The simplest way to do this is to make the shared variable <code>volatile</code>:</p><pre><code>volatile boolean pizzaArrived = false;
</code></pre><p>Making a variable <code>volatile</code> guarantees that different threads will see the effects of each other's changes to it. This prevents the JVM from caching the value of <code>pizzaArrived</code> or hoisting the test outside the loop. Instead, it must read the value of the real variable every time.</p><p>(More formally, <code>volatile</code> creates a <em>happens-before</em> relationship between accesses to the variable. This means that <a href="https://stackoverflow.com/questions/19738651/volatile-variable-explanation-in-java-docs">all other work a thread did</a> before delivering the pizza is also visible to the thread receiving the pizza, even if those other changes are not to <code>volatile</code> variables.)</p><p><a href="http://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html">Synchronized methods</a> are used principally to implement mutual exclusion (preventing two things happening at the same time), but they also have all the same side-effects that <code>volatile</code> has. Using them when reading and writing a variable is another way to make the changes visible to other threads:</p><pre><code>class MyHouse {
    boolean pizzaArrived = false;

    void eatPizza() {
        while (getPizzaArrived() == false) {}
        System.out.println("That was delicious!");
    }

    synchronized boolean getPizzaArrived() {
        return pizzaArrived;
    }

    synchronized void deliverPizza() {
        pizzaArrived = true;
    }
}
</code></pre><p><code>System.out</code> is a <code>PrintStream</code> object. The methods of <code>PrintStream</code> are synchronized like this:</p><pre><code>public void println(String x) {
    synchronized (this) {
        print(x);
        newLine();
    }
}
</code></pre><p>The synchronization prevents <code>pizzaArrived</code> being cached during the loop. <em>Strictly speaking, <strong>both</strong> threads must synchronize on the same object</em> to guarantee that changes to the variable are visible. (For example, calling <code>println</code> after setting <code>pizzaArrived</code> and calling it again before reading <code>pizzaArrived</code> would be correct.) If only one thread synchronizes on a particular object, the JVM is allowed to ignore it. In practice, the JVM is not smart enough to prove that other threads won't call <code>println</code> after setting <code>pizzaArrived</code>, so it assumes that they might. Therefore, it cannot cache the variable during the loop if you call <code>System.out.println</code>. That's why loops like this work when they have a print statement, although it is not a correct fix.</p><p>Using <code>System.out</code> is not the only way to cause this effect, but it is the one people discover most often, when they are trying to debug why their loop doesn't work!</p><p><code>while (pizzaArrived == false) {}</code> is a busy-wait loop. That's bad! While it waits, it hogs the CPU, which slows down other applications, and increases the power usage, temperature, and fan speed of the system. Ideally, we would like the loop thread to sleep while it waits, so it does not hog the CPU.</p><p>Here are some ways to do that:</p><p>A low-level solution is to <a href="https://stackoverflow.com/questions/2536692/a-simple-scenario-using-wait-and-notify-in-java">use the wait/notify methods of <code>Object</code></a>:</p><pre><code>class MyHouse {
    boolean pizzaArrived = false;

    void eatPizza() {
        synchronized (this) {
            while (!pizzaArrived) {
                try {
                    this.wait();
                } catch (InterruptedException e) {}
            }
        }

        System.out.println("That was delicious!");
    }

    void deliverPizza() {
        synchronized (this) {
            pizzaArrived = true;
            this.notifyAll();
        }
    }
}
</code></pre><p>In this version of the code, the loop thread calls <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait--"><code>wait()</code></a>, which puts the thread the sleep. It will not use any CPU cycles while sleeping. After the second thread sets the variable, it calls <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--"><code>notifyAll()</code></a> to wake up any/all threads which were waiting on that object. This is like having the pizza guy ring the doorbell, so you can sit down and rest while waiting, instead of standing awkwardly at the door.</p><p>When calling wait/notify on an object you must hold the synchronization lock of that object, which is what the above code does. You can use any object you like so long as both threads use the same object: here I used <code>this</code> (the instance of <code>MyHouse</code>). Usually, two threads would not be able to enter synchronized blocks of the same object simultaneously (which is part of the purpose of synchronization) but it works here because a thread temporarily releases the synchronization lock when it is inside the <code>wait()</code> method.</p><p>A <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html"><code>BlockingQueue</code></a> is used to implement producer-consumer queues. "Consumers" take items from the front of the queue, and "producers" push items on at the back. An example:</p><pre><code>class MyHouse {
    final BlockingQueue&lt;Object&gt; queue = new LinkedBlockingQueue&lt;&gt;();

    void eatFood() throws InterruptedException {
        // take next item from the queue (sleeps while waiting)
        Object food = queue.take();
        // and do something with it
        System.out.println("Eating: " + food);
    }

    void deliverPizza() throws InterruptedException {
        // in producer threads, we push items on to the queue.
        // if there is space in the queue we can return immediately;
        // the consumer thread(s) will get to it later
        queue.put("A delicious pizza");
    }
}
</code></pre><p>Note: The <code>put</code> and <code>take</code> methods of <code>BlockingQueue</code> can throw <code>InterruptedException</code>s, which are checked exceptions which must be handled. In the above code, for simplicity, the exceptions are rethrown. You might prefer to catch the exceptions in the methods and retry the put or take call to be sure it succeeds. Apart from that one point of ugliness, <code>BlockingQueue</code> is very easy to use.</p><p>No other synchronization is needed here because a <code>BlockingQueue</code> makes sure that everything threads did before putting items in the queue is visible to the threads taking those items out.</p><p><code>Executor</code>s are like ready-made <code>BlockingQueue</code>s which execute tasks. Example:</p><pre><code>// A "SingleThreadExecutor" has one work thread and an unlimited queue
ExecutorService executor = Executors.newSingleThreadExecutor();

Runnable eatPizza = () -&gt; { System.out.println("Eating a delicious pizza"); };
Runnable cleanUp = () -&gt; { System.out.println("Cleaning up the house"); };

// we submit tasks which will be executed on the work thread
executor.execute(eatPizza);
executor.execute(cleanUp);
// we continue immediately without needing to wait for the tasks to finish
</code></pre><p>For details see the doc for <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html"><code>Executor</code></a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html"><code>ExecutorService</code></a>, and <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html"><code>Executors</code></a>.</p><p>Looping while waiting for the user to click something in a UI is wrong. Instead, use the event handling features of the UI toolkit. <a href="http://docs.oracle.com/javase/tutorial/uiswing/events/index.html">In Swing</a>, for example:</p><pre><code>JLabel label = new JLabel();
JButton button = new JButton("Click me");
button.addActionListener((ActionEvent e) -&gt; {
    // This event listener is run when the button is clicked.
    // We don't need to loop while waiting.
    label.setText("Button was clicked");
});
</code></pre><p>Because the event handler runs on the event dispatch thread, doing long work in the event handler blocks other interaction with the UI until the work is finished. Slow operations can be started on a new thread, or dispatched to a waiting thread using one of the above techniques (wait/notify, a <code>BlockingQueue</code>, or <code>Executor</code>). You can also use a <a href="http://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html"><code>SwingWorker</code></a>, which is designed exactly for this, and automatically supplies a background worker thread:</p><pre><code>JLabel label = new JLabel();
JButton button = new JButton("Calculate answer");

// Add a click listener for the button
button.addActionListener((ActionEvent e) -&gt; {

    // Defines MyWorker as a SwingWorker whose result type is String:
    class MyWorker extends SwingWorker&lt;String,Void&gt; {
        @Override
        public String doInBackground() throws Exception {
            // This method is called on a background thread.
            // You can do long work here without blocking the UI.
            // This is just an example:
            Thread.sleep(5000);
            return "Answer is 42";
        }

        @Override
        protected void done() {
            // This method is called on the Swing thread once the work is done
            String result;
            try {
                result = get();
            } catch (Exception e) {
                throw new RuntimeException(e);
            }
            label.setText(result); // will display "Answer is 42"
        }
    }

    // Start the worker
    new MyWorker().execute();
});
</code></pre><p>To perform periodic actions, you can use a <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Timer.html"><code>java.util.Timer</code></a>. It is easier to use than writing your own timing loop, and easier to start and stop. This demo prints the current time once per second:</p><pre><code>Timer timer = new Timer();
TimerTask task = new TimerTask() {
    @Override
    public void run() {
        System.out.println(System.currentTimeMillis());
    }
};
timer.scheduleAtFixedRate(task, 0, 1000);
</code></pre><p>Each <code>java.util.Timer</code> has its own background thread which is used to execute its scheduled <code>TimerTask</code>s. Naturally, the thread sleeps between tasks, so it does not hog the CPU.</p><p>In Swing code, there is also a <a href="http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html"><code>javax.swing.Timer</code></a>, which is similar, but it executes the listener on the Swing thread, so you can safely interact with Swing components without needing to manually switch threads:</p><pre><code>JFrame frame = new JFrame();
frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
Timer timer = new Timer(1000, (ActionEvent e) -&gt; {
    frame.setTitle(String.valueOf(System.currentTimeMillis()));
});
timer.setRepeats(true);
timer.start();
frame.setVisible(true);
</code></pre><p>If you are writing multithreaded code, it is worth exploring the classes in these packages to see what is available:</p><li><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html">java.util.concurrent</a></li><li><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/package-summary.html">java.util.concurrent.atomic</a></li><li><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/package-summary.html">java.util.concurrent.locks</a></li><p>And also see the <a href="http://docs.oracle.com/javase/tutorial/essential/concurrency/index.html">Concurrency section</a> of the Java tutorials. Multithreading is complicated, but there is lots of help available!</p></body></html>

===ID===
584e5a873e2ca51be94feded
===QUESTION===
What's wrong with overridable method calls in constructors?
I have a Wicket page class that sets the page title depending on the result of an abstract method. NetBeans warns me with the message "Overridable method call in constructor", but what should be wrong with it? The only alternative I can imagine is to pass the results of otherwise abstract methods to the super constructor in subclasses. But that could be hard to read with many parameters. 
===LINK===
http://stackoverflow.com/questions/3404301/whats-wrong-with-overridable-method-calls-in-constructors
===KEYWORDS===
hard 
===ANSWER===
338
<html><body><p>Simply put, this is wrong because it unnecessarily opens up possibilities to <em>MANY</em> bugs. When the <code>@Override</code> is invoked, the state of the object may be inconsistent and/or incomplete.</p><p>A quote from <em>Effective Java 2nd Edition, Item 17: Design and document for inheritance, or else prohibit it</em>:</p><p>There are a few more restrictions that a class must obey to allow inheritance. <strong>Constructors must not invoke overridable methods</strong>, directly or indirectly. If you violate this rule, program failure will result. The superclass constructor runs before the subclass constructor, so the overriding method in the subclass will be invoked before the subclass constructor has run. If the overriding method depends on any initialization performed by the subclass constructor, the method will not behave as expected.</p><p>Here's an example to illustrate:</p><pre><code>public class ConstructorCallsOverride {
    public static void main(String[] args) {
        abstract class Base {
            Base() { overrideMe(); }
            abstract void overrideMe(); 
        }
        class Child extends Base {
            final int x;
            Child(int x) { this.x = x; }
            @Override void overrideMe() {
                System.out.println(x);
            }
        }
        new Child(42); // prints "0"
    }
}
</code></pre><p>Here, when <code>Base</code> constructor calls <code>overrideMe</code>, <code>Child</code> has not finished initializing the <code>final int x</code>, and the method gets the wrong value. This will almost certainly lead to bugs and errors.</p><li><a href="http://stackoverflow.com/questions/2898422/calling-an-overridden-method-from-a-parent-class-constructor">Calling an Overridden Method from a Parent-Class Constructor</a></li><li><a href="http://stackoverflow.com/questions/3330390/state-of-derived-class-object-when-base-class-constructor-calls-overridden-method">State of Derived class object when Base class constructor calls overridden method in Java</a></li><li><a href="http://stackoverflow.com/questions/3342784/using-abstract-init-function-in-abstract-classs-constructor">Using abstract init() function in abstract class’s constructor</a></li><li><a href="http://findbugs.sourceforge.net/bugDescriptions.html#UR_UNINIT_READ_CALLED_FROM_SUPER_CONSTRUCTOR" rel="nofollow noreferrer">FindBugs - Uninitialized read of field method called from constructor of superclass </a></li><p>Constructors with many parameters can lead to poor readability, and better alternatives exist.</p><p>Here's a quote from <em>Effective Java 2nd Edition, Item 2: Consider a builder pattern when faced with many constructor parameters</em>:</p><p>Traditionally, programmers have used the <em>telescoping constructor</em> pattern, in which you provide a constructor with only the required parameters, another with a single optional parameters, a third with two optional parameters, and so on...</p><p>The telescoping constructor pattern is essentially something like this:</p><pre><code>public class Telescope {
    final String name;
    final int levels;
    final boolean isAdjustable;

    public Telescope(String name) {
        this(name, 5);
    }
    public Telescope(String name, int levels) {
        this(name, levels, false);
    }
    public Telescope(String name, int levels, boolean isAdjustable) {       
        this.name = name;
        this.levels = levels;
        this.isAdjustable = isAdjustable;
    }
}
</code></pre><p>And now you can do any of the following:</p><pre><code>new Telescope("X/1999");
new Telescope("X/1999", 13);
new Telescope("X/1999", 13, true);
</code></pre><p>You can't, however, currently set only the <code>name</code> and <code>isAdjustable</code>, and leaving <code>levels</code> at default. You can provide more constructor overloads, but obviously the number would explode as the number of parameters grow, and you may even have multiple <code>boolean</code> and <code>int</code> arguments, which would really make a mess out of things.</p><p>As you can see, this isn't a pleasant pattern to write, and even less pleasant to use (What does "true" mean here? What's 13?).</p><p>Bloch recommends using a builder pattern, which would allow you to write something like this instead:</p><pre><code>Telescope telly = new Telescope.Builder("X/1999").setAdjustable(true).build();
</code></pre><p>Note that now the parameters are named, and you can set them in any order you want, and you can skip the ones that you want to keep at default values. This is certainly much better than telescoping constructors, especially when there's a huge number of parameters that belong to many of the same types.</p><li><a href="http://en.wikipedia.org/wiki/Builder_pattern" rel="nofollow noreferrer">Wikipedia/Builder pattern</a></li><li><em>Effective Java 2nd Edition, Item 2: Consider a builder pattern when faced with many constructor parameters</em> (<a href="http://www.codeproject.com/KB/books/EffectiveJava.aspx" rel="nofollow noreferrer">excerpt online</a>)</li><li><a href="http://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern">When would you use the Builder Pattern?</a></li><li><a href="http://stackoverflow.com/questions/2637268/is-this-a-well-known-design-pattern-what-is-its-name/">Is this a well known design pattern? What is its name?</a></li></body></html>

===ID===
584e5a873e2ca51be94fedee
===QUESTION===
Hibernate hbm2ddl.auto possible values and what they do?
I really want to know more about the update, export and the values that could be given to  hibernate.hbm2ddl.auto 
I need to know when to use the update and when not? And what is the alternative? These are changes that could happen over DB: In each case what is the best solution? 
===LINK===
http://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do
===KEYWORDS===
case 
===ANSWER===
702
<html><body><p>From the <a href="https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl" rel="nofollow noreferrer">community documentation</a>:</p><p>hibernate.hbm2ddl.auto    Automatically validates or exports schema DDL to the database when the SessionFactory is created. With create-drop, the database schema will be dropped when the SessionFactory is closed explicitly.</p><p>e.g. validate | update | create | create-drop </p><p>So the list of possible options are,</p><li><em>validate</em>: validate the schema, makes no changes to the database.</li><li><em>update</em>: update the schema.</li><li><em>create</em>: creates the schema, destroying previous data.</li><li><em>create-drop</em>: drop the schema when the SessionFactory is closed explicitly, typically when the application is stopped.</li><p>These options seem intended to be developers tools and not to facilitate any production level databases, you may want to have a look at the following question; <a href="http://stackoverflow.com/questions/221379/hibernate-hbm2ddl-autoupdate-in-production">Hibernate: hbm2ddl.auto=update in production?</a></p></body></html>

===ID===
584e5a893e2ca51be94fedef
===QUESTION===
How can I concatenate two arrays in Java?
I need to concatenate two String arrays in Java. What is the easiest way to do this? 
===LINK===
http://stackoverflow.com/questions/80476/how-can-i-concatenate-two-arrays-in-java
===KEYWORDS===
concatenate 
===ANSWER===
752
<html><body><p>I found a one-line solution from the good old Apache Commons Lang library.<br> <a href="http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#addAll%28T%5B%5D,%20T...%29" rel="nofollow noreferrer"><code>ArrayUtils.addAll(T[], T...)</code></a></br></p><p>Code:</p><pre><code>String[] both = (String[])ArrayUtils.addAll(first, second);
</code></pre></body></html>

===ID===
584e5a8a3e2ca51be94fedf0
===QUESTION===
Integer division: How do you produce a double?
For this code block: the value of  d  is  0.0 . It can be forced to work by casting: But is there another way to get the correct  double  result? I don't like casting primitives, who knows what may happen. 
===LINK===
http://stackoverflow.com/questions/3144610/integer-division-how-do-you-produce-a-double
===KEYWORDS===
forced 
===ANSWER===
95
<html><body><pre><code>double num = 5;
</code></pre><p>That avoids a cast.  But you'll find that the cast conversions are well-defined.  You don't have to guess, just check the <a href="http://docs.oracle.com/javase/specs/jls/se7/html/index.html" rel="nofollow noreferrer">JLS</a>.  int to double is a widening conversion.  From <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2" rel="nofollow noreferrer">§5.1.2</a>:</p><p>Widening primitive conversions do not
  lose information about the overall
  magnitude of a numeric value.</p><p>[...]</p><p>Conversion of an int or a long value
  to float, or of a long value to
  double, may result in loss of
  precision-that is, the result may lose
  some of the least significant bits of
  the value. In this case, the resulting
  floating-point value will be a
  correctly rounded version of the
  integer value, using IEEE 754
  round-to-nearest mode <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.4" rel="nofollow noreferrer">(§4.2.4)</a>.</p><p>5 can be expressed exactly as a double.</p></body></html>

===ID===
584e5a8b3e2ca51be94fedf1
===QUESTION===
Java Look and Feel (L&F)  [closed]
I am developing a desktop application with Java Swing for my personal use.I am in need of some beautiful Look and Feel for my application. How can I do it using Java or a 3rd party API? 
===LINK===
http://stackoverflow.com/questions/3954616/java-look-and-feel-lf
===KEYWORDS===
beautiful 
===ANSWER===
185
<html><body><p>There is a lot of possibilities for LaFs :</p><li>The <a href="http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html" rel="nofollow">native</a> for your system</li><li>The <a href="http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/nimbus.html" rel="nofollow">nimbus</a> LaF</li><li><a href="http://weblookandfeel.com/" rel="nofollow">Web LaF</a></li><li>The <a href="http://java.net/projects/substance/" rel="nofollow">substance</a> project (forked into the <a href="https://github.com/Insubstantial" rel="nofollow">Insubstantial</a> project)</li><li><a href="http://napkinlaf.sourceforge.net/" rel="nofollow">Napkin LaF</a></li><li><a href="http://www.javasoft.de/synthetica/" rel="nofollow">Synthetica</a></li><li><a href="http://www.randelshofer.ch/quaqua/index.html" rel="nofollow">Quaqua</a> (looks like aqua from MacOS X)</li><li><a href="https://github.com/khuxtable/seaglass/wiki" rel="nofollow">Seaglass</a></li><li><a href="http://www.jgoodies.com/products/swing-suite/" rel="nofollow">JGoodies</a></li><li><a href="http://java.net/projects/liquidlnf/" rel="nofollow">Liquidlnf</a></li><li><a href="http://lookandfeel.incors.com/" rel="nofollow">The Alloy Look and Feel</a></li><li><a href="http://www.pagosoft.com/projects/pgslookandfeel/" rel="nofollow">PgsLookAndFeel</a></li><li><a href="http://www.jtattoo.net/" rel="nofollow">JTatoo</a></li><li><a href="http://www.jidesoft.com/products/" rel="nofollow">Jide look and feel</a></li><li>etc.</li><li><a href="http://www.taranfx.com/best-java-swing-look-and-feel-themes-professional-casual-top-10" rel="nofollow">Best Java Swing Look and Feel Themes | Top 10</a> (A lot of the preview images on this page are now missing)</li><li><a href="http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html" rel="nofollow">oracle.com - Modifying the Look and Feel</a></li><li><a href="http://en.wikipedia.org/wiki/Pluggable_look_and_feel" rel="nofollow">wikipedia.org - Pluggable look and feel</a></li><li><a href="http://www.java2s.com/Product/Java/Swing/Look-And-Feel-LaF.htm" rel="nofollow">Java2s.com - Look and feel</a></li><li><a href="http://stackoverflow.com/questions/1165780/java-gui-look-and-feel-changes">Java gui look and feel changes</a></li><li><a href="http://stackoverflow.com/questions/2934337/open-source-laflook-n-feel-for-java-swing-application">Open source laf[look n feel] for java swing application</a></li></body></html>

===ID===
584e5a8b3e2ca51be94fedf2
===QUESTION===
Is there an eval() function in Java?
I have a string like the following: Now I have to get the result of  20  by using the string. I know in some other languages the  eval()  function will do this.
How can I do this in Java? 
===LINK===
http://stackoverflow.com/questions/2605032/is-there-an-eval-function-in-java
===KEYWORDS===
function 
===ANSWER===
88
<html><body><p>You can use the <a href="https://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngine.html" rel="nofollow noreferrer"><code>ScriptEngine</code></a> class and evaluate it as a Javascript string.</p><pre><code>ScriptEngineManager manager = new ScriptEngineManager();
ScriptEngine engine = manager.getEngineByName("js");
Object result = engine.eval("4*5");
</code></pre><p>There may be a better way, but this one works.</p></body></html>

===ID===
584e5a8c3e2ca51be94fedf3
===QUESTION===
Floating point arithmetic not producing exact results [duplicate]
This question already has an answer here: I need to do some floating point arithmetic in Java as shown in the code below: This is to simulate the range of values given as output by the  Betfair spinner widget . Floating point arithmetic in Java seems to introduce some unexpected errors. For example, I get 2.180000000000001 instead of 2.18. What use are floating point numbers is you can't trust the results of arithmetic performed on them? How can I get around this issue? 
===LINK===
http://stackoverflow.com/questions/1661273/floating-point-arithmetic-not-producing-exact-results
===KEYWORDS===
shown 
===ANSWER===
31
<html><body><p>If you need exact <em>decimal</em> values, you should use <code>java.math.BigDecimal</code>. Then read <a href="http://docs.sun.com/source/806-3568/ncg_goldberg.html" rel="nofollow noreferrer">"What Every Computer Scientist Should Know About Floating-Point Arithmetic"</a> for the background of why you're getting those results.</p><p>(I have a <a href="http://csharpindepth.com/Articles/General/FloatingPoint.aspx" rel="nofollow noreferrer">.NET-centric article</a> which you may find easier to read - and certainly shorter. The differences between Java and .NET are mostly irrelevant for the purposes of understanding this issue.)</p></body></html>

===ID===
584e5a8d3e2ca51be94fedf4
===QUESTION===
How to download and save a file from Internet using Java?
There is an online file (such as  http://www.example.com/information.asp ) I need to grab and save to a directory. I know there are several methods for grabbing and reading online files (URLs) line-by-line, but is there a way to just download and save the file using Java? 
===LINK===
http://stackoverflow.com/questions/921262/how-to-download-and-save-a-file-from-internet-using-java
===KEYWORDS===
file 
===ANSWER===
420
<html><body><p>Give a try to <a href="http://en.wikipedia.org/wiki/New_I/O" rel="nofollow noreferrer">Java NIO</a>:</p><pre><code>URL website = new URL("http://www.website.com/information.asp");
ReadableByteChannel rbc = Channels.newChannel(website.openStream());
FileOutputStream fos = new FileOutputStream("information.html");
fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);
</code></pre><p>Using <code>transferFrom()</code> is <strong>potentially</strong> much more efficient than a simple loop that reads from the source channel and writes to this channel. Many operating systems can transfer bytes directly from the source channel into the filesystem cache without actually copying them.</p><p>Check more about it <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html" rel="nofollow noreferrer">here</a>.</p><p><strong>Note</strong>: The third parameter in transferFrom is the maximum number of bytes to transfer.  <code>Integer.MAX_VALUE</code> will transfer at most 2^31 bytes, <code>Long.MAX_VALUE</code> will allow at most 2^63 bytes (larger than any file in existence). </p></body></html>

===ID===
584e5a8d3e2ca51be94fedf5
===QUESTION===
Setting the default Java character encoding?
How do I properly set the default character encoding used by the JVM (1.5.x) programmatically? I have read that  -Dfile.encoding=whatever  used to be the way to go for older JVMs... I don't have that luxury for reasons I wont get into. I have tried: And the property gets set, but it doesn't seem to cause the final getBytes call below to use UTF8: 
===LINK===
http://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding
===KEYWORDS===
wont 
===ANSWER===
204
<html><body><p>Unfortunately, the <code>file.encoding</code> property has to be specified as the JVM starts up; by the time your main method is entered, the character encoding used by <code>String.getBytes()</code> and the default constructors of <code>InputStreamReader</code> and <code>OutputStreamWriter</code> has been permanently cached.</p><p>As <a href="http://stackoverflow.com/a/623036/3474">Edward Grech points out,</a> in a special case like this, the environment variable <code>JAVA_TOOL_OPTIONS</code> <em>can</em> be used to specify this property, but it's normally done like this:</p><pre><code>java -Dfile.encoding=UTF-8 … com.x.Main
</code></pre><p><code>Charset.defaultCharset()</code> will reflect changes to the <code>file.encoding</code> property, but most of the code in the core Java libraries that need to determine the default character encoding do not use this mechanism.</p><p>When you are encoding or decoding, you can query the <code>file.encoding</code> property or <code>Charset.defaultCharset()</code> to find the current default encoding, and use the appropriate method or constructor overload to specify it.</p></body></html>

===ID===
584e5a8d3e2ca51be94fedf6
===QUESTION===
Creating a custom button in Java with JButton
I am trying to create a button that has a custom shape (hexagon), but otherwise acts like a normal JButton would (that is, works with an ActionListener). I have created a class that extends AbstractButton, but it doesn't seem to be sending events to the ActionListener when I click it. If I change the class to extend JButton it works perfectly, but it screws up the way the button is displayed. I'm assuming that there is a method that I need to override to get it to fire events, but I can't figure out what it is. 
===LINK===
http://stackoverflow.com/questions/5751311/creating-a-custom-button-in-java-with-jbutton
===KEYWORDS===
works 
===ANSWER===
14
<html><body><p>You will have to extend <code>JButton</code> class not <code>AbstractButton</code>. Try the following things and you will get idea.</p><p>The first move is to subclass <code>JButton</code>.</p><p>Then, in your subclass, start by redefining the <code>paintComponent(Graphics)</code> method. If you want any changes.</p><p>Then, override <code>paintBorder(Graphics)</code> to give it a shape of hexagon.</p></body></html>

===ID===
584e5a8e3e2ca51be94fedf7
===QUESTION===
How to generate a random alpha-numeric string?
I've been looking for a  simple  Java algorithm to generate a pseudo-random alpha-numeric string.  In my situation it would be used as a unique session/key identifier that would "likely" be unique over 500K+ generation (my needs don't really require anything much more sophisticated).  Ideally, I would be able to specify a length depending on my uniqueness needs. For example, a generated string of length 12 might look something like  "AEYGF7K0DM1X" .   
===LINK===
http://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string
===KEYWORDS===
don 
===ANSWER===
1042
<html><body><p>Here is code for secure, easy, but a little bit more expensive session identifiers.</p><pre><code>import java.security.SecureRandom;
import java.math.BigInteger;

public final class SessionIdentifierGenerator {
  private SecureRandom random = new SecureRandom();

  public String nextSessionId() {
    return new BigInteger(130, random).toString(32);
  }
}
</code></pre><p>This works by choosing 130 bits from a cryptographically secure random bit generator, and encoding them in base-32. 128 bits is considered to be cryptographically <em>strong,</em> but each digit in a base 32 number can encode 5 bits, so 128 is rounded up to the next multiple of 5. This encoding is compact and efficient, with 5 random bits per character. Compare this to a random UUID, which only has 3.4 bits per character in standard layout, and only 122 random bits in total.</p><p>If you allow session identifiers to be easily guessable (too short, flawed random number generator, etc.), attackers can hijack other's sessions. Note that <code>SecureRandom</code> objects are expensive to initialize, so you'll want to keep one around and reuse it.</p><p>Here is alternative code for cheap, insecure random alpha-numeric strings. You can tweak the "symbols" if you want to use more characters.</p><pre><code>public class RandomString {

  private static final char[] symbols;

  static {
    StringBuilder tmp = new StringBuilder();
    for (char ch = '0'; ch &lt;= '9'; ++ch)
      tmp.append(ch);
    for (char ch = 'a'; ch &lt;= 'z'; ++ch)
      tmp.append(ch);
    symbols = tmp.toString().toCharArray();
  }   

  private final Random random = new Random();

  private final char[] buf;

  public RandomString(int length) {
    if (length &lt; 1)
      throw new IllegalArgumentException("length &lt; 1: " + length);
    buf = new char[length];
  }

  public String nextString() {
    for (int idx = 0; idx &lt; buf.length; ++idx) 
      buf[idx] = symbols[random.nextInt(symbols.length)];
    return new String(buf);
  }
}
</code></pre></body></html>

===ID===
584e5a8f3e2ca51be94fedf8
===QUESTION===
PreparedStatement IN clause alternatives?
What are the best workarounds for using a SQL  IN  clause with instances of  java.sql.PreparedStatement , which is not supported for multiple values due to SQL injection attack security issues: One  ?  placeholder represents one value, rather than a list of values. Consider the following SQL statement: Using  preparedStatement.setString( 1, "'A', 'B', 'C'" );  is essentially a non-working attempt at a workaround of the reasons for using  ?  in the first place.   What workarounds are available? 
===LINK===
http://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives
===KEYWORDS===
essentially 
===ANSWER===
124
<html><body><p>An analysis of the various options available, and the pros and cons of each is available <a href="http://www.javaranch.com/journal/200510/Journal200510.jsp#a2" rel="nofollow noreferrer">here</a>.</p><p>The suggested options are:</p><li>Prepare <code>SELECT my_column FROM my_table WHERE search_column = ?</code>, execute it for each value and UNION the results client-side. Requires only one prepared statement. Slow and painful.</li><li>Prepare <code>SELECT my_column FROM my_table WHERE search_column IN (?,?,?)</code> and execute it. Requires one prepared statement per size-of-IN-list. Fast and obvious.</li><li>Prepare <code>SELECT my_column FROM my_table WHERE search_column = ? ; SELECT my_column FROM my_table WHERE search_column = ? ; ...</code> and execute it. [Or use <code>UNION ALL</code> in place of those semicolons. --ed] Requires one prepared statement per size-of-IN-list. Stupidly slow, strictly worse than <code>WHERE search_column IN (?,?,?)</code>, so I don't know why the blogger even suggested it.</li><li>Use a stored procedure to construct the result set.</li><li>Prepare N different size-of-IN-list queries; say, with 2, 10, and 50 values. To search for an IN-list with 6 different values, populate the size-10 query so that it looks like <code>SELECT my_column FROM my_table WHERE search_column IN (1,2,3,4,5,6,6,6,6,6)</code>. Any decent server will optimize out the duplicate values before running the query.</li><p>None of these options are super great, though.</p><p>Duplicate questions have been answered in these places with equally sane alternatives, still none of them super great:</p><li><a href="http://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause">PreparedStatement with list of parameters in a IN clause</a></li><li><a href="http://stackoverflow.com/questions/1305240/how-to-set-list-of-parameters-on-prepared-statement">How to set list of parameters on prepared statement?</a></li><p>The Right Answer, if you are using JDBC4 and a server that supports <code>x = ANY(y)</code>, is to use <code>PreparedStatement.setArray</code> as described here:</p><li><a href="http://stackoverflow.com/questions/178479/preparedstatement-in-clause-alternatives/10240302#10240302">PreparedStatement IN clause alternatives?</a></li><p>There doesn't seem to be any way to make <code>setArray</code> work with IN-lists, though.</p></body></html>

===ID===
584e5a8f3e2ca51be94fedf9
===QUESTION===
How to read XML using XPath in Java
I want to read XML data using XPath in Java, so for the information I have gathered I am not able to parse XML according to my requirement. here is what I want to do: Get XML file from online via its URL, then use XPath to parse it, I want to create two methods in it. One is in which I enter a specific node attribute id, and I get all the child nodes as result, and second is suppose I just want to get a specific child node value only In above example I want to read all the elements if I search via @name and also one function in which I just want the url from @name 'Javascript' only return one node element. I hope I cleared my question :) Thanks. Kai 
===LINK===
http://stackoverflow.com/questions/2811001/how-to-read-xml-using-xpath-in-java
===KEYWORDS===
function 
===ANSWER===
276
<html><body><p>You need something along the lines of this:</p><pre><code>DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
DocumentBuilder builder = factory.newDocumentBuilder();
Document doc = builder.parse(&lt;uri_as_string&gt;);
XPathFactory xPathfactory = XPathFactory.newInstance();
XPath xpath = xPathfactory.newXPath();
XPathExpression expr = xpath.compile(&lt;xpath_expression&gt;);
</code></pre><p>Then you call <code>expr.evaluate()</code> passing in the document defined in that code and the return type you are expecting, and cast the result to the object type of the result.</p><p>If you need help with a specific XPath expressions, you should probably ask it as separate questions (unless that was your question in the first place here - I understood your question to be how to use the API in Java).</p><p>Edit: (Response to comment): This XPath expression will get you the text of the first URL element under PowerBuilder:</p><pre><code>/howto/topic[@name='PowerBuilder']/url/text()
</code></pre><p>This will get you the second:</p><pre><code>/howto/topic[@name='PowerBuilder']/url[2]/text()
</code></pre><p>You get that with this code:</p><pre><code>expr.evaluate(doc, XPathConstants.STRING);
</code></pre><p>If you don't know how many URLs are in a given node, then you should rather do something like this:</p><pre><code>XPathExpression expr = xpath.compile("/howto/topic[@name='PowerBuilder']/url");
NodeList nl = (NodeList) expr.evaluate(doc, XPathConstants.NODESET);
</code></pre><p>And then loop over the NodeList.</p></body></html>

===ID===
584e5a903e2ca51be94fedfa
===QUESTION===
How to call a SOAP web service on Android
I am having a lot of trouble finding good information on how to call a standard SOAP/WSDL web service with Android. All I've been able to find are either very convoluted documents and references to "kSoap2" and then some bit about parsing it all manually with  SAX . OK, that's fine, but it's 2008, so I figured there should be some good library for calling standard web services. The web service is just basically one created in  NetBeans . I would like to have IDE support for generating the plumbing classes. I just need the easiest/most-elegant way to contact a  WSDL  based web service from an Android-based phone. 
===LINK===
http://stackoverflow.com/questions/297586/how-to-call-a-soap-web-service-on-android
===KEYWORDS===
generating 
===ANSWER===
205
<html><body><p>Android does not provide any sort of SOAP library. You can either write your own, or use something like <a href="http://ksoap2.sourceforge.net/" rel="nofollow noreferrer">kSOAP 2</a>. As you note, others have been able to compile and use kSOAP2 in their own projects, but I haven't had to.</p><p>Google has shown, to date, little interest in adding a SOAP library to Android. My suspicion for this is that they'd rather support the current trends in Web Services toward REST-based services, and using JSON as a data encapsulation format. Or, using XMPP for messaging. But that is just conjecture.</p><p>XML-based web services are a slightly non-trivial task on Android at this time. Not knowing NetBeans, I can't speak to the tools available there, but I agree that a better library should be available. It is possible that the XmlPullParser will save you from using SAX, but I don't know much about that.</p></body></html>

===ID===
584e5a933e2ca51be94fedfb
===QUESTION===
What is the Java string pool and how is “s” different from new String(“s”)?
What is meant by  String Pool ? And what is the difference between the following declarations: Is there any difference between the storing of these two strings by the JVM? 
===LINK===
http://stackoverflow.com/questions/2486191/what-is-the-java-string-pool-and-how-is-s-different-from-new-strings
===KEYWORDS===
meant 
===ANSWER===
111
<html><body><p>The string pool is the JVM's particular implementation of the concept of <a href="http://en.wikipedia.org/wiki/String_interning" rel="nofollow noreferrer">string interning</a>:</p><p>In computer science, string interning
  is a method of storing only one copy
  of each distinct string value, which
  must be immutable. Interning strings
  makes some string processing tasks
  more time- or space-efficient at the
  cost of requiring more time when the
  string is created or interned. The
  distinct values are stored in a string
  intern pool.</p><p>Basically, a string intern pool allows a runtime to save memory by preserving immutable strings in a pool so that areas of the application can reuse instances of common strings instead of creating multiple instances of it.</p><p>As an interesting side note, string interning is an example of the <a href="http://en.wikipedia.org/wiki/Flyweight_pattern" rel="nofollow noreferrer">flyweight design pattern</a>:</p><p>Flyweight is a software design
  pattern. A flyweight is an object that
  minimizes memory use by sharing as
  much data as possible with other
  similar objects; it is a way to use
  objects in large numbers when a simple
  repeated representation would use an
  unacceptable amount of memory.</p></body></html>

===ID===
584e5a943e2ca51be94fedfc
===QUESTION===
How are Anonymous (inner) classes used in Java?
What is the use of anonymous classes in Java? Can we say that usage of anonymous class is one of the advantages of Java? 
===LINK===
http://stackoverflow.com/questions/355167/how-are-anonymous-inner-classes-used-in-java
===KEYWORDS===
usage 
===ANSWER===
264
<html><body><p>By an "anonymous class", I take it you mean <a href="http://docs.oracle.com/javase/tutorial/java/javaOO/innerclasses.html" rel="nofollow noreferrer">anonymous inner class</a>.</p><p>An anonymous inner class can come useful when making an instance of an object with certain "extras" such as overloading methods, without having to actually subclass a class.</p><p>I tend to use it as a shortcut for attaching an event listener:</p><pre><code>button.addActionListener(new ActionListener() {
    @Override
    public void actionPerformed(ActionEvent e) {
        // do something
    }
});
</code></pre><p>Using this method makes coding a little bit quicker, as I don't need to make an extra class that implements <code>ActionListener</code> -- I can just instantiate an anonymous inner class without actually making a separate class.</p><p>I only use this technique for "quick and dirty" tasks where making an entire class feels unnecessary. Having multiple anonymous inner classes that do exactly the same thing should be refactored to an actual class, be it an inner class or a separate class.</p></body></html>

===ID===
584e5a953e2ca51be94fedfd
===QUESTION===
Can you find all classes in a package using reflection?
Is it possible to find all classes or interfaces in a given package? (Quickly looking at e.g.  Package , it would seem like no.) 
===LINK===
http://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection
===KEYWORDS===
reflection 
===ANSWER===
248
<html><body><p>Due to the dynamic nature of class loaders, this is not possible. Class loaders are not required to tell the VM which classes it can provide, instead they are just handed requests for classes, and have to return a class or throw an exception.</p><p>However, if you write your own class loaders, or examine the classpaths and it's jars, it's possible to find this information. This will be via filesystem operations though, and not reflection. There might even be libraries that can help you do this.</p><p>If there are classes that get generated, or delivered remotely, you will not be able to discover those classes.</p><p>The normal method is instead to somewhere register the classes you need access to in a file, or reference them in a different class. Or just use convention when it comes to naming.</p><p>Addendum: <a href="https://github.com/ronmamo/reflections" rel="nofollow noreferrer">The Reflections Library</a> will allow you to look up classes in the current classpath. It can be used to get all classes in a package:</p><pre><code> Reflections reflections = new Reflections("my.project.prefix");

 Set&lt;Class&lt;? extends Object&gt;&gt; allClasses = 
     reflections.getSubTypesOf(Object.class);
</code></pre></body></html>

===ID===
584e5a953e2ca51be94fedfe
===QUESTION===
Get generic type of class at runtime
How can I achieve this? Everything I have tried so far always returns type  Object  rather than the specific type used. 
===LINK===
http://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime
===KEYWORDS===
runtime 
===ANSWER===
170
<html><body><p>As others mentioned, it's only possible via reflection in certain circumstances.</p><p>If you really need the type, this is the usual (type-safe) workaround pattern:</p><pre><code>public class GenericClass&lt;T&gt; {

     private final Class&lt;T&gt; type;

     public GenericClass(Class&lt;T&gt; type) {
          this.type = type;
     }

     public Class&lt;T&gt; getMyType() {
         return this.type;
     }
}
</code></pre></body></html>

===ID===
584e5a953e2ca51be94fedff
===QUESTION===
Remove Top-Level Container on Runtime
Unfortunately, it looks like this recently closed  question  was not well understood. Here is the typical output: I'll try asking this question again: How can I k*i*l*l on Runtime the first-opened top-Level  Container , and help with closing for me one of Swing NightMares? 
===LINK===
http://stackoverflow.com/questions/6309407/remove-top-level-container-on-runtime
===KEYWORDS===
understood 
===ANSWER===
19
<html><body><p>Invoking <a href="http://download.oracle.com/javase/6/docs/api/java/awt/Window.html#dispose%28%29" rel="nofollow noreferrer"><code>dispose()</code></a> allows the host platform to reclaim memory consumed by the heavyweight peer, but it can't do so until <em>after</em> the <code>WINDOW_CLOSING</code> event is processed on the <code>EventQueue</code>. Even then, <code>gc()</code> is a suggestion.</p><p>Addendum: Another way to see the nightmare is via a profiler. Running the example below with <code>jvisualvm</code>, one can see that periodic collection never <em>quite</em> returns to baseline. I've exaggerated the vertical axis by starting with an artificially small heap. Additional examples are shown <a href="http://stackoverflow.com/questions/5916028/how-do-i-get-appcontext-to-release-awt-components-so-they-can-be-garbage-collecte/5918785#5918785">here</a>. When memory is very limited, I've used two approaches:</p><li><p>Emergent: Loop from the command line, starting a new VM each time.</p></li><p>Emergent: Loop from the command line, starting a new VM each time.</p><li><p>Urgent: Eliminate the heavyweight component entirely, running headless and composing in a <code>BufferedImage</code> using 2D graphics and lightweight components only.</p></li><p>Urgent: Eliminate the heavyweight component entirely, running headless and composing in a <code>BufferedImage</code> using 2D graphics and lightweight components only.</p><p><img alt="enter image description here" src="https://i.stack.imgur.com/KBGJq.png"/></p><pre><code>import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.event.WindowEvent;
import javax.swing.JDialog;

/** @see http://stackoverflow.com/questions/6309407 */
public class DialogClose extends JDialog {

    public DialogClose(int i) {
        this.setTitle("Dialog " + String.valueOf(i));
        this.setPreferredSize(new Dimension(320, 200));
    }

    private void display() {
        this.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
        this.pack();
        this.setLocationRelativeTo(null);
        this.setVisible(true);
        passSomeTime();
        this.setVisible(false);
        this.dispatchEvent(new WindowEvent(
            this, WindowEvent.WINDOW_CLOSING));
        this.dispose();
        passSomeTime();
    }

    private void passSomeTime() {
        try {
            Thread.sleep(100);
        } catch (InterruptedException ie) {
            ie.printStackTrace(System.err);
        }
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                int count = 0;
                while (true) {
                    new DialogClose(count++).display();
                }
            }
        });
    }
}
</code></pre></body></html>

===ID===
584e5a973e2ca51be94fee00
===QUESTION===
How to deal with “java.lang.OutOfMemoryError: Java heap space” error (64MB heap size)
I am writing a client-side  Swing  application (graphical font designer) on  Java 5 . Recently, I am running into  java.lang.OutOfMemoryError: Java heap space  error because I am not being conservative on memory usage. The user can open unlimited number of files, and the program keeps the opened objects in the memory. After a quick research I found  Ergonomics in the 5.0 Java Virtual Machine  and others saying on Windows machine the JVM defaults max heap size as  64MB . Given this situation, how should I deal with this constraint? I could increase the  max heap size  using  command line  option to java, but that would require figuring out available RAM and writing some launching program or script. Besides, increasing to some finite max does not ultimately get rid of the issue. I could rewrite some of my code to persist objects to file system frequently (using database is the same thing) to free up the memory. It could work, but it's probably a lot work too. If you could point me to details of above ideas or some alternatives like  automatic virtual memory, extending heap size dynamically , that will be great. 
===LINK===
http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap
===KEYWORDS===
point 
===ANSWER===
141
<html><body><p>Ultimately you always have a finite max of heap to use no matter what platform you are running on. In Windows 32 bit this is around 2gb (not specifically heap but total amount of memory per process). It just happens that Java happens to make the default smaller (presumably so that the programmer can't create programs that have runaway memory allocation without running into this problem and having to examine exactly what they are doing).</p><p>So this given there are several approaches you could take to either determine what amount of memory you need or to reduce the amount of memory you are using. One common mistake with garbage collected languages such as Java or C# is to keep around references to objects that you no longer are using, or allocating many objects when you could reuse them instead. As long as objects have a reference to them they will continue to use heap space as the garbage collector will not delete them.</p><p>In this case you can use a Java memory profiler to determine what methods in your program are allocating large number of objects and then determine if there is a way to make sure they are no longer referenced, or to not allocate them in the first place. One option which I have used in the past is "JMP" <a href="http://www.khelekore.org/jmp/" rel="nofollow noreferrer">http://www.khelekore.org/jmp/</a>.</p><p>If you determine that you are allocating these objects for a reason and you need to keep around references (depending on what you are doing this might be the case), you will just need to increase the max heap size when you start the program. However, once you do the memory profiling and understand how your objects are getting allocated you should have a better idea about how much memory you need. </p><p>In general if you can't guarantee that your program will run in some finite amount of memory (perhaps depending on input size) you will always run into this problem. Only after exhausting all of this will you need to look into caching objects out to disk etc. At this point you should have a very good reason to say "I need Xgb of memory" for something and you can't work around it by improving your algorithms or memory allocation patterns. Generally this will only usually be the case for algorithms operating on large datasets (like a database or some scientific analysis program) and then techniques like caching and memory mapped IO become useful.</p></body></html>

===ID===
584e5a973e2ca51be94fee01
===QUESTION===
Migrating from JSF 1.2 to JSF 2.0
I am working with a rather large app written in  JSF 1.2 .
JSF 1.2 is around 6 years old now. I need to upgrade to JSF 2.0. How painful will this be? I noticed that some attributes in custom tags have been changed etc.  
===LINK===
http://stackoverflow.com/questions/4441713/migrating-from-jsf-1-2-to-jsf-2-0
===KEYWORDS===
upgrade 
===ANSWER===
216
<html><body><p>Painfulness of upgrading JSF 1.2 to 2.0 depends on the view technology which you are currently using and which you want to use.</p><li>JSP 2.x to JSP 2.x = Almost no effort.</li><li>Facelets 1.x to Facelets 2.0 = Little effort.</li><li>JSP 2.x to Facelets 2.0 = Lot of effort. Double this if you also have custom components.</li><p>Regardless of the view technology switch, <em>at least</em> the following steps should be done:</p><li>Remove JSF 1.2 JAR's from <code>/WEB-INF/lib</code> (if any).</li><li>Drop JSF 2.0 JAR's in <code>/WEB-INF/lib</code> (if JSF 1.2 was servletcontainer-supplied, you might want to change the classloading policy to load webapp libraries first before servletcontainer libraries, see also <a href="http://stackoverflow.com/questions/5815623/jsf-2-issues-in-application-servers">JSF2 classloading issues in application servers</a>).</li><li><p>Update root declaration of <code>faces-config.xml</code> to comply JSF 2.0 spec.</p>
<pre class="lang-xml prettyprint-override"><code>&lt;faces-config
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
    version="2.0"&gt;
</code></pre></li><p>Update root declaration of <code>faces-config.xml</code> to comply JSF 2.0 spec.</p><pre class="lang-xml prettyprint-override"><code>&lt;faces-config
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
    version="2.0"&gt;
</code></pre><li><p>Ensure that root declaration of <code>web.xml</code> already complies <em>at least</em> Servlet 2.5. JSF 2.0 won't work on 2.4 or lower (<a href="http://stackoverflow.com/questions/5998447/running-jsf-2-0-on-servlet-2-4-container">although it's hackable</a>).</p>
<pre class="lang-xml prettyprint-override"><code>&lt;web-app 
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    id="YourWebappID"
    version="2.5"&gt;
</code></pre></li><p>Ensure that root declaration of <code>web.xml</code> already complies <em>at least</em> Servlet 2.5. JSF 2.0 won't work on 2.4 or lower (<a href="http://stackoverflow.com/questions/5998447/running-jsf-2-0-on-servlet-2-4-container">although it's hackable</a>).</p><pre class="lang-xml prettyprint-override"><code>&lt;web-app 
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    id="YourWebappID"
    version="2.5"&gt;
</code></pre><p>If you're using <strong>JSP 2.x</strong> and want to <strong>keep</strong> using it, then you basically don't need to change anything else. </p><p>If you're already using a suffix <code>url-pattern</code> for the <code>FacesServlet</code>, like <code>*.jsf</code>, then it's good to know that the <code>FacesServlet</code> will first scan for <code>*.xhtml</code> file and if it is not present, then scan for <code>*.jsp</code> file. This provides you room to gradually convert from JSP to Facelets behind the scenes without changing the URL's. </p><p>But if you're using a prefix <code>url-pattern</code>, like <code>/faces/*</code> and you want to gradually upgrade from JSP to Facelets, then you really have to change it to <code>*.jsf</code> and possibly also all links in the existing JSP pages.</p><p>You only need to keep in mind that the new JSF 2.0 provided implicit navigation doesn't scan for the presence of the file, it will go to <code>outcome.xhtml</code> anyway. So if you want to come from or go to <code>*.jsp</code>, then you still need to include it in the viewid the JSF 1.x way.</p><p>If you're using <strong>Facelets 1.x</strong> as view technology and want to use the JSF 2.0 supplied <strong>Facelets 2.0</strong>, then you need to do the following additional steps:</p><li>Remove Facelets 1.x JAR from <code>/WEB-INF/lib</code>.</li><li>Remove Facelets 1.x <code>FaceletViewHandler</code> from <code>faces-config.xml</code>.</li><li>Any custom <code>FaceletViewHandler</code> implementation needs to be updated to extend <a href="http://download.oracle.com/javaee/6/api/javax/faces/application/ViewHandlerWrapper.html"><code>ViewHandlerWrapper</code></a> instead.</li><li>Not necessary, but just for cleanup, remove any Facelets 1.x related <code>&lt;context-param&gt;</code> values from <code>web.xml</code> which are already default in Facelets 2.0, like the <code>javax.faces.DEFAULT_SUFFIX</code> with value of <code>*.xhtml</code>.</li><li><p>Update root declaration of existing Facelet taglib XML's to comply Facelets 2.0.</p>
<pre class="lang-xml prettyprint-override"><code>&lt;facelet-taglib 
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facelettaglibrary_2_0.xsd"
    version="2.0"&gt;
</code></pre></li><p>Update root declaration of existing Facelet taglib XML's to comply Facelets 2.0.</p><pre class="lang-xml prettyprint-override"><code>&lt;facelet-taglib 
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facelettaglibrary_2_0.xsd"
    version="2.0"&gt;
</code></pre><p>That should basically be it.</p><p>If you're using <strong>JSP 2.x</strong> as view technology and you want to upgrade to <strong>Facelets 2.0</strong> immediately, then you need to do a lot of changes before the site can go live. You're basically changing the view technology here. </p><p>On every master page, you need to change the following basic JSP template..</p><pre class="lang-xml prettyprint-override"><code>&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;%@taglib prefix="f" uri="http://java.sun.com/jsf/core"%&gt;
&lt;%@taglib prefix="h" uri="http://java.sun.com/jsf/html"%&gt;
&lt;!DOCTYPE html&gt;
&lt;f:view&gt;
    &lt;html lang="en"&gt;
        &lt;head&gt;
            &lt;title&gt;JSP page&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;h:outputText value="JSF components here." /&gt;
        &lt;/body&gt;
    &lt;/html&gt;
&lt;/f:view&gt;
</code></pre><p>..to the following basic Facelets template:</p><pre class="lang-xml prettyprint-override"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"&gt;
    &lt;h:head&gt;
        &lt;title&gt;XHTML page&lt;/title&gt;
    &lt;/h:head&gt;
    &lt;h:body&gt;
        &lt;h:outputText value="JSF components here." /&gt;
    &lt;/h:body&gt;  
&lt;/html&gt;
</code></pre><p>If your existing JSP pages are well designed, you should not have any line of <em>scriptlet</em> code and you should also have only the <code>&lt;jsp:include&gt;</code> as the sole JSP-specific tag. Any of those needs to be changed from:</p><pre class="lang-xml prettyprint-override"><code>&lt;jsp:include page="include.jsp" /&gt;
</code></pre><p>to</p><pre class="lang-xml prettyprint-override"><code>&lt;ui:include src="include.xhtml" /&gt;
</code></pre><p>The basic JSP include page template of..</p><pre class="lang-xml prettyprint-override"><code>&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;%@taglib prefix="f" uri="http://java.sun.com/jsf/core"%&gt;
&lt;%@taglib prefix="h" uri="http://java.sun.com/jsf/html"%&gt;
&lt;f:subview id="include"&gt;
    &lt;h:outputText value="JSF components here." /&gt;
&lt;/f:subview&gt;
</code></pre><p>..should be changed to the following basic Facelets include page template:</p><pre class="lang-xml prettyprint-override"><code>&lt;ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"&gt;
    &lt;h:outputText value="JSF components here." /&gt;
&lt;/ui:composition&gt;
</code></pre><p>You need to change the JSP TLD files to Facelets TLD files as described in this <a href="http://javaserverfaces.java.net/nonav/rlnotes/2.0.0/migration.html">Mojarra Migration Guide</a>.</p><p>Regardless of the migration approach, you can gradually <a href="http://blogs.oracle.com/rlubke/entry/faces_config_xml_we_don">eliminate</a> the <code>faces-config.xml</code> by the new JSF 2.0 annotations. Any <code>&lt;managed-bean&gt;</code> can be annotated by <a href="http://download.oracle.com/javaee/6/api/javax/faces/bean/ManagedBean.html"><code>@ManagedBean</code></a>:</p><pre><code>@ManagedBean(name="managedBeanName")
@RequestScoped
public class SomeBean {}
</code></pre><p>Next to <a href="http://download.oracle.com/javaee/6/api/javax/faces/bean/RequestScoped.html"><code>@RequestScoped</code></a>, there are also <a href="http://download.oracle.com/javaee/6/api/javax/faces/bean/ViewScoped.html"><code>@ViewScoped</code></a>, <a href="http://download.oracle.com/javaee/6/api/javax/faces/bean/SessionScoped.html"><code>@SessionScoped</code></a> and <a href="http://download.oracle.com/javaee/6/api/javax/faces/bean/ApplicationScoped.html"><code>@ApplicationScoped</code></a> available. If you omit the <code>name</code> attribute of the <code>@ManagedBean</code>, then it will default to classname with the 1st char lowercased. </p><pre><code>@ManagedBean
@RequestScoped
public class SomeBean {}
</code></pre><p>In this particular example, it will be <code>#{someBean}</code>.</p><p>Any <code>&lt;managed-property&gt;</code> can be annotated using <a href="http://download.oracle.com/javaee/6/api/javax/faces/bean/ManagedProperty.html"><code>@ManagedProperty</code></a>:</p><pre><code>@ManagedProperty("#{otherBean}")
private OtherBean otherBean;
</code></pre><p>Any <code>&lt;validator&gt;</code> can be annotated using <a href="http://download.oracle.com/javaee/6/api/javax/faces/validator/FacesValidator.html"><code>@FacesValidator</code></a>:</p><pre><code>@FacesValidator("someValidator")
public class SomeValidator implements Validator {}
</code></pre><p>Any <code>&lt;converter&gt;</code> can be annotated using <a href="http://download.oracle.com/javaee/6/api/javax/faces/convert/FacesConverter.html"><code>@FacesConverter</code></a></p><pre><code>@FacesConverter("someConverter")
public class SomeConverter implements Converter {}
</code></pre><p>Any <code>&lt;renderer&gt;</code> can be annotated using <a href="http://download.oracle.com/javaee/6/api/javax/faces/render/FacesRenderer.html"><code>@FacesRenderer</code></a></p><pre><code>@FacesRenderer(componentFamily="someComponentFamily", rendererType="someRendererType")
public class SomeRenderer extends Renderer {}
</code></pre><p>Any <code>&lt;navigation-case&gt;</code> which uses the filename of the XHTML page as both <code>&lt;from-outcome&gt;</code> and <code>&lt;to-view-id&gt;</code> can be removed since this will be <a href="http://andyschwartz.wordpress.com/2009/07/31/whats-new-in-jsf-2/#navigation-implicit">implicitly</a> done. This can be gradually done by changing all outcome values to match the filename of the target view.</p><p>Finally, any session scoped bean which was been put in the session with the sole reason to retain the bean data in subsequent requests in the same tab/window can better be marked <code>@ViewScoped</code>, because this way the bean won't be affected when the enduser opens the same page in different tabs/windows.</p><p>Note that I don't take any 3rd party componant libraries like PrimeFaces/RichFaces/IceFaces into account in this answer, it would then be impossible to write a reliable answer since it basically boils down to "it depends". In general it's sufficient to just upgrade the component library to a -by themselves verified- JSF 2.0 compatible version as per their instructions. Best is to just write unit tests, run them before and after the upgrade and fix any issues individually. </p><p>Here are at least some useful links with regard to migration of the specific component library:</p><li><a href="http://community.jboss.org/wiki/RichFacesMigrationGuide33x-4xMigration">RichFaces Migration Guide - 3.3.x to 4.x migration</a></li><li><a href="http://wiki.icefaces.org/display/ICE/ICEfaces+1.x+Compatibility">IceFaces 2 Wiki - IceFaces 1.x Compatibility Guide</a></li><p>PrimeFaces has no migration guide for PrimeFaces 1.x to 2.x as PrimeFaces 1.x requires Facelets 1.x already, so you just have to follow Facelets 1.x to 2.x migration steps. However, there's a PrimeFaces <a href="http://code.google.com/p/primefaces/wiki/MigrationGuideFrom22to30">2.x to 3.x migration guide</a> which might apply as well on migrating from PrimeFaces 1.x to 3.x. Tomahawk has also no migration guide. Basically the only which you need to change are the JARs and if necessary get rid of all <code>&lt;t:saveState&gt;</code> references on a request scoped bean by making the bean view scoped.</p></body></html>

===ID===
584e5a983e2ca51be94fee02
===QUESTION===
Using JFreeChart to display recent changes in a time series
How can I use  JFreeChart  to display just the most recent data in a continually updated time series? Addenda: A complete, working example that incorporates the accepted answer is shown  here . See also this  variation  having two series. See also this  Q&A  regarding  setTimeBase() . 
===LINK===
http://stackoverflow.com/questions/5048852/using-jfreechart-to-display-recent-changes-in-a-time-series
===KEYWORDS===
incorporates 
===ANSWER===
15
<html><body><p>You can also eliminate the zero by first advanceTime(), then appendData.  (swap the way they are doing it in the example).   </p></body></html>

===ID===
584e5a993e2ca51be94fee03
===QUESTION===
Best XML parser for Java [closed]
I need to read smallish (few MB at the most, UTF-8 encoded) XML files, rummage around looking at various elements and attributes, perhaps modify a few and write the XML back out again to disk (preferably with nice, indented formatting). What would be the best XML parser for my needs?  There are lots to choose from.  Some I'm aware of are: And of course the one in the JDK (I'm using Java 6).  I'm familiar with Xerces but find it clunky. Recommendations? 
===LINK===
http://stackoverflow.com/questions/373833/best-xml-parser-for-java
===KEYWORDS===
preferably 
===ANSWER===
66
<html><body><p>If speed and memory is no problem, <em>dom4j</em> is a really good option. If you need speed, using a StAX parser like <em>Woodstox</em> is the right way, but you have to write more code to get things done and you have to get used to process XML in streams.</p></body></html>

===ID===
584e5a9b3e2ca51be94fee04
===QUESTION===
Round a double to 2 decimal places [duplicate]
This question already has an answer here: If the value is  200.3456 , it should be formatted to  200.34 .
If it is  200 , then it should be  200.00 . 
===LINK===
http://stackoverflow.com/questions/2808535/round-a-double-to-2-decimal-places
===KEYWORDS===
double 
===ANSWER===
445
<html><body><p>Here's an utility that <strong>rounds</strong> (instead of <em>truncating</em>) a double to specified number of decimal places.</p><p>For example:</p><pre><code>round(200.3456, 2); // returns 200.35
</code></pre><pre><code>public static double round(double value, int places) {
    if (places &lt; 0) throw new IllegalArgumentException();

    long factor = (long) Math.pow(10, places);
    value = value * factor;
    long tmp = Math.round(value);
    return (double) tmp / factor;
}
</code></pre><p>This <strong>breaks down badly</strong> in corner cases with either a very high number of decimal places (e.g. <code>round(1000.0d, 17)</code>) or large integer part (e.g. <code>round(90080070060.1d, 9)</code>). Thanks to <a href="http://stackoverflow.com/users/306488/sloin">Sloin</a> for pointing this out.</p><p>I've been using the above to round "not-too-big" doubles to 2 or 3 decimal places happily for years (for example to clean up time in seconds for logging purposes: 27.987654321987 -&gt; 27.99). But I guess it's best to avoid it, since more reliable ways are readily available, with cleaner code too. </p><p>(Adapted from <a href="http://stackoverflow.com/a/15643364/56285">this answer by Louis Wasserman</a> and <a href="http://stackoverflow.com/a/7548871/56285">this one by Sean Owen</a>.)</p><pre><code>public static double round(double value, int places) {
    if (places &lt; 0) throw new IllegalArgumentException();

    BigDecimal bd = new BigDecimal(value);
    bd = bd.setScale(places, RoundingMode.HALF_UP);
    return bd.doubleValue();
}
</code></pre><p>Note that <code>HALF_UP</code> is the rounding mode "commonly taught at school". Peruse the <a href="http://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html" rel="nofollow noreferrer">RoundingMode documentation</a>, if you suspect you need something else such as <a href="http://en.wikipedia.org/wiki/Rounding#Round_half_to_even" rel="nofollow noreferrer">Bankers’ Rounding</a>.</p><p>Of course, if you prefer, you can inline the above into a one-liner:<br>
<code>new BigDecimal(value).setScale(places, RoundingMode.HALF_UP).doubleValue()</code></br></p><p>Always remember that floating point representations using <code>float</code> and <code>double</code> are <em>inexact</em>. 
For example, consider these expressions: </p><pre><code>999199.1231231235 == 999199.1231231236 // true
1.03 - 0.41 // 0.6200000000000001
</code></pre><p><strong><a href="http://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency">For exactness, you want to use BigDecimal</a></strong>. And while at it, use the constructor that takes a String, never the one taking double. For instance, try executing this:</p><pre><code>System.out.println(new BigDecimal(1.03).subtract(new BigDecimal(0.41)));
System.out.println(new BigDecimal("1.03").subtract(new BigDecimal("0.41")));
</code></pre><p>Some excellent further reading on the topic:</p><li>Item 48: "Avoid <code>float</code> and <code>double</code> if exact answers are required" in <em>Effective Java</em> (2nd ed) by Joshua Bloch</li><li><a href="http://floating-point-gui.de/" rel="nofollow noreferrer">What Every Programmer Should Know About Floating-Point Arithmetic</a></li><p>If you wanted String <em>formatting</em> instead of (or in addition to) strictly rounding numbers, see the other answers.  </p><p>Specifically, note that <code>round(200, 0)</code> returns <code>200.0</code>. If you want to output "<strong>200.00</strong>", you should first round and then format the result for output (which is perfectly explained in <a href="http://stackoverflow.com/questions/2808535/round-a-double-to-2-significant-figures-after-decimal-point/2808587#2808587">Jesper's answer</a>).</p></body></html>

===ID===
584e5a9d3e2ca51be94fee05
===QUESTION===
Collision detection with complex shapes
I am wanting to make a game that has each level loaded from an image.
I want to draw up the whole level in Photoshop, and then set it as the background and allow the player to walk over it.
I want another invisible image to go over top which will be black in all places that I want to collide with. The reason I don't want to use tiles, which are much easier with rectangle collision and such, is because there will be complex corners and not everything will be rectangle. Is this a good idea, and is it possible to do easily?
Would this be a big CPU hog or is there a better way to do this? 
===LINK===
http://stackoverflow.com/questions/14574045/collision-detection-with-complex-shapes
===KEYWORDS===
photoshop 
===ANSWER===
23
<html><body><p>..there will be complex corners and not everything will be rectangle. </p><p>This could be achieved by drawing and dealing with <code>Shape</code> and <code>Area</code> instances. E.G.</p><li>Yellow is a little animated 'player'.  </li><li>The bounds of the image represent walls that contain the path of the player (it bounces off them).</li><li>Obstacles are painted green when not in collision, red otherwise.</li><p><img alt="ShapeCollision" src="https://i.stack.imgur.com/U2KHk.png"/></p><pre><code>import java.awt.*;
import java.awt.event.*;
import java.awt.geom.*;
import java.awt.image.BufferedImage;
import javax.swing.*;

class ShapeCollision {

    private BufferedImage img;
    private Area[] obstacles = new Area[4];
    private Area walls;

    int x; 
    int y;
    int xDelta = 3;
    int yDelta = 2;

    /** A method to determine if two instances of Area intersect */
    public boolean doAreasCollide(Area area1, Area area2) {
        boolean collide = false;

        Area collide1 = new Area(area1);
        collide1.subtract(area2);
        if (!collide1.equals(area1)) {
            collide = true;
        }

        Area collide2 = new Area(area2);
        collide2.subtract(area1);
        if (!collide2.equals(area2)) {
            collide = true;
        }

        return collide;
    }

    ShapeCollision() {
        int w = 400;
        int h = 200;
        img = new BufferedImage(w, h, BufferedImage.TYPE_INT_RGB);
        final JLabel imageLabel = new JLabel(new ImageIcon(img));
        x = w/2;
        y = h/2;

        //circle 
        obstacles[0] = new Area(new Ellipse2D.Double(40, 40, 30, 30));

        int[] xTriangle = {330,360,345};
        int[] yTriangle = {60,60,40};
        //triangle 
        obstacles[1] = new Area(new Polygon(xTriangle, yTriangle, 3));

        int[] xDiamond = {60,80,60,40};
        int[] yDiamond = {120,140,160,140};
        //diamond 
        obstacles[2] = new Area(new Polygon(xDiamond, yDiamond, 4));

        int[] xOther = {360,340,360,340};
        int[] yOther = {130,110,170,150};
        // other 
        obstacles[3] = new Area(new Polygon(xOther, yOther, 4));

        walls = new Area(new Rectangle(0,0,w,h));

        ActionListener animate = new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                animate();
                imageLabel.repaint();
            }
        };
        Timer timer = new Timer(50, animate);

        timer.start();
        JOptionPane.showMessageDialog(null, imageLabel);
        timer.stop();
    }

    public void animate() {
        Graphics2D g = img.createGraphics();
        g.setRenderingHint(
                RenderingHints.KEY_ANTIALIASING, 
                RenderingHints.VALUE_ANTIALIAS_ON);

        g.setColor(Color.BLUE);
        g.fillRect(0, 0, img.getWidth(), img.getHeight());
        x+=xDelta;
        y+=yDelta;
        int s = 15;
        Area player = new Area(new Ellipse2D.Double(x, y, s, s));

        // Acid test of edge collision;
        if (doAreasCollide(player,walls)) {
            if ( x+s&gt;img.getWidth() || x&lt;0 ) {
                xDelta *= -1;
            } 
            if(y+s&gt;img.getHeight() || y&lt;0 ) {
                yDelta *= -1;
            }
        }
        g.setColor(Color.ORANGE);
        for (Area obstacle : obstacles) {
            if (doAreasCollide(obstacle, player)) {
                g.setColor(Color.RED);
            } else {
                g.setColor(Color.GREEN);
            }
            g.fill(obstacle);
        }

        g.setColor(Color.YELLOW);
        g.fill(player);


        g.dispose();
    }

    public static void main(String[] args) {
        Runnable r = new Runnable() {

            @Override
            public void run() {
                new ShapeCollision();
            }
        };
        // Swing GUIs should be created and updated on the EDT
        // http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html
        SwingUtilities.invokeLater(r);
    }
}
</code></pre><p>make it detect all the red color and set that as the collision bounds</p><p>At start-up, use the source seen in the <a href="http://stackoverflow.com/q/7218309/418556">Smoothing a jagged path</a> question to get an outline of the red pixels (see the <code>getOutline(Color target, BufferedImage bi)</code> method). Store that <code>Area</code> as the single obstacle on start-up.</p></body></html>

===ID===
584e5a9e3e2ca51be94fee06
===QUESTION===
Why doesn't Java allow overriding of static methods?
Why is it not possible to override static methods? If possible, please use an example. 
===LINK===
http://stackoverflow.com/questions/2223386/why-doesnt-java-allow-overriding-of-static-methods
===KEYWORDS===
overriding 
===ANSWER===
335
<html><body><p>Overriding depends on having an instance of a class. The point of polymorphism is that you can subclass a class and the objects implementing those subclasses will have different behaviors for the same methods defined in the superclass (and overridden in the subclasses). A static method is not associated with any instance of a class so the concept is not applicable.</p><p>There were two considerations driving Java's design that impacted this. One was a concern with performance: there had been a lot of criticism of Smalltalk about it being too slow (garbage collection and polymorphic calls being part of that) and Java's creators were determined to avoid that. Another was the decision that the target audience for Java was C++ developers. Making static methods work the way they do had the benefit of familiarity for C++ programmers and was also very fast, because there's no need to wait until runtime to figure out which method to call.</p></body></html>

===ID===
584e5a9e3e2ca51be94fee07
===QUESTION===
What is the difference between “text” and new String(“text”)?
What is the difference between these two following statements? 
===LINK===
http://stackoverflow.com/questions/3052442/what-is-the-difference-between-text-and-new-stringtext
===KEYWORDS===
“text” 
===ANSWER===
98
<html><body><p><code>new String("text");</code>
explicitly creates a new and referentially distinct instance of a <code>String</code> object; <code>String s = "text";</code> may reuse an instance from the <strong>string constant pool</strong> if one is available.</p><p>You <em>very rarely</em> would ever want to use the <code>new String(anotherString)</code> constructor. From the API:</p><p><a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html#String%28java.lang.String%29" rel="nofollow noreferrer"><code>String(String original)</code></a> : Initializes a <em>newly created</em> <code>String</code> object so that it represents the same sequence of characters as the argument; in other words, the newly created string is a copy of the argument string. Unless an explicit copy of original is needed, use of this constructor is unnecessary since strings are immutable. </p><li><a href="http://stackoverflow.com/questions/334518/java-strings-string-s-new-stringsilly"> Java Strings: “String s = new String(”silly“);” </a></li><li><a href="http://stackoverflow.com/questions/2009228/strings-are-objects-in-java-so-why-dont-we-use-new-to-create-them"> Strings are objects in Java, so why don’t we use ‘new’ to create them? </a></li><p>Examine the following snippet:</p><pre><code>    String s1 = "foobar";
    String s2 = "foobar";

    System.out.println(s1 == s2);      // true

    s2 = new String("foobar");
    System.out.println(s1 == s2);      // false
    System.out.println(s1.equals(s2)); // true
</code></pre><p><code>==</code> on two reference types is a reference identity comparison. Two objects that are <code>equals</code> are not necessarily <code>==</code>. It is usually wrong to use <code>==</code> on reference types; most of the time <code>equals</code> need to be used instead.</p><p>Nonetheless, if for whatever reason you need to create two <code>equals</code> but not <code>==</code> string, you <em>can</em> use the <code>new String(anotherString)</code> constructor. It needs to be said again, however, that this is <em>very</em> peculiar, and is rarely the intention.</p><li><a href="http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.21.3" rel="nofollow noreferrer">JLS 15.21.3 Reference Equality Operators == and !=</a></li><li><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html#equals%28java.lang.Object%29" rel="nofollow noreferrer"><code>class Object</code> - <code>boolean Object(equals)</code></a></li><li><a href="http://stackoverflow.com/questions/767372/java-string-equals-versus"> Java String.equals versus == </a></li><li><a href="http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java">How do I compare strings in Java?</a></li></body></html>

===ID===
584e5a9f3e2ca51be94fee08
===QUESTION===
Create instance of generic type in Java?
Is it possible to create an instance of a generic type in Java? I'm thinking based on what I've seen that the answer is  no  ( due to type erasure ), but I'd be interested if anyone can see something I'm missing: EDIT: It turns out that  Super Type Tokens  could be used to resolve my issue, but it requires a lot of reflection-based code, as some of the answers below have indicated. I'll leave this open for a little while to see if anyone comes up with anything dramatically different than Ian Robertson's  Artima Article . 
===LINK===
http://stackoverflow.com/questions/75175/create-instance-of-generic-type-in-java
===KEYWORDS===
resolve 
===ANSWER===
210
<html><body><p>You are correct.  You can't do "new E".  But you can change it to</p><pre><code>private static class SomeContainer&lt;E&gt;
{
    E createContents(Class&lt;E&gt; clazz)
    {
        return clazz.newInstance();
    }
}
</code></pre><p>It's a pain.  But it works.  Wrapping it in the factory pattern makes it a little more tolerable.</p></body></html>

===ID===
584e5aa03e2ca51be94fee09
===QUESTION===
Does finally always execute in Java?
I have a try/catch block with returns inside it. Will the finally block be called? For example: I know I can just type this in an see what happens (which is what I'm about to do, actually) but when I googled for answers nothing came up, so I figured I'd throw this up as a question. 
===LINK===
http://stackoverflow.com/questions/65035/does-finally-always-execute-in-java
===KEYWORDS===
execute 
===ANSWER===
1324
<html><body><p><code>finally</code> will be called.</p><p>The only times <code>finally</code> won't be called are:</p><li>if you call <code>System.exit()</code> <em>or</em></li><li>if the JVM crashes first</li><li>if there is an infinite loop in the try block</li><li>if the power turns off</li></body></html>

===ID===
584e5aa13e2ca51be94fee0a
===QUESTION===
What is the best way to filter a Java Collection?
I want to filter a  java.util.Collection  based on a predicate. 
===LINK===
http://stackoverflow.com/questions/122105/what-is-the-best-way-to-filter-a-java-collection
===KEYWORDS===
filter 
===ANSWER===
344
<html><body><p>Java 8 (<a href="https://blogs.oracle.com/thejavatutorials/entry/jdk_8_is_released" rel="nofollow noreferrer" title="Java 8 released">2014</a>) solves this problem using streams and lambdas in one line of code:</p><pre><code>List&lt;Person&gt; beerDrinkers = persons.stream()
    .filter(p -&gt; p.getAge() &gt; 16).collect(Collectors.toList());
</code></pre><p>Here's a <a href="http://zeroturnaround.com/rebellabs/java-8-explained-applying-lambdas-to-java-collections/" rel="nofollow noreferrer" title="Java 8 collections and lambdas">tutorial</a>.</p><p>Use <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-" rel="nofollow noreferrer"><code>Collection#removeIf</code></a> to modify the collection in place (provided it supports element removal):</p><pre><code>persons.removeIf(p -&gt; p.getAge() &gt; 16);
</code></pre><p><a href="https://code.google.com/archive/p/lambdaj/" rel="nofollow noreferrer">lambdaj</a> allows filtering collections without writing loops or inner classes:</p><pre><code>List&lt;Person&gt; beerDrinkers = select(persons, having(on(Person.class).getAge(),
    greaterThan(16)));
</code></pre><p>Can you imagine something more readable?</p><p><strong>Disclaimer:</strong> I am a contributor on lambdaj</p></body></html>

===ID===
584e5aa23e2ca51be94fee0b
===QUESTION===
Add a complex image in the panel, with buttons around it in one customized user interface
How can i have this image like below into the  slavePanel  and on top of that JPanel adjust the  JButtons  which looks like the image but having buttons correctly wrapped around? (Right now they are shaped in 1 row, 4 column) Follow up:  Excellent one from  Andrew Thompson   + at-least my broken method 
===LINK===
http://stackoverflow.com/questions/10861852/add-a-complex-image-in-the-panel-with-buttons-around-it-in-one-customized-user
===KEYWORDS===
slavepanel 
===ANSWER===
14
<html><body><li>Use a 3x3 <code>GridLayout</code></li><li>For each of the 9 cells get a subimage:

<ul>
<li>For every second component, add a label with the subimage.</li>
<li>For every other component, add a <code>JButton</code> from which the space is removed.  Use the subimage as icon, but you'll need alternate icons to indicate focus, activation etc.  This example puts a red border around the 'pressed' icon.</li>
</ul></li><li>For every second component, add a label with the subimage.</li><li>For every other component, add a <code>JButton</code> from which the space is removed.  Use the subimage as icon, but you'll need alternate icons to indicate focus, activation etc.  This example puts a red border around the 'pressed' icon.</li><p><img alt="Compass Buttons" src="https://i.stack.imgur.com/9Sdk6.png"/></p><pre><code>import java.awt.*;
import java.awt.event.*;
import java.awt.image.BufferedImage;
import javax.swing.*;
import java.io.IOException;
import java.net.URL;
import javax.imageio.ImageIO;

public class CompassButtons {

    public CompassButtons(BufferedImage bi) {
        int w = bi.getWidth();
        int h = bi.getHeight();
        int step = w/3;
        JPanel p = new JPanel(new GridLayout(3,3));
        p.setOpaque(false);
        int count = 0;
        for (int ii=0; ii&lt;w; ii+=step) {
            for (int jj=0; jj&lt;h; jj+=step) {
                // This is it - GET THE SUB IMAGE
                Image icon = bi.getSubimage(jj, ii, step, step);
                if (count%2==1) {
                    JButton button = new JButton(new ImageIcon(icon));

                    // remove the border - indicate action using a different icon
                    button.setBorder(null);

                    // make a 'pressed' icon..
                    BufferedImage iconPressed = new BufferedImage(step,step,BufferedImage.TYPE_INT_ARGB);
                    Graphics g = iconPressed.getGraphics();
                    g.drawImage(icon, 0, 0, p);
                    g.setColor(Color.RED);
                    g.drawRoundRect(
                            0, 0, 
                            iconPressed.getWidth(p)-1, iconPressed.getHeight(p)-1, 
                            12, 12);
                    g.dispose();
                    button.setPressedIcon(new ImageIcon(iconPressed));

                    // make it transparent
                    button.setContentAreaFilled(false);

                    button.setActionCommand(""+count);
                    button.addActionListener(new ActionListener(){
                        @Override
                        public void actionPerformed(ActionEvent ae) {
                            System.out.println(ae.getActionCommand());
                        }
                    });

                    p.add(button);
                } else {
                    JLabel label = new JLabel(new ImageIcon(icon));
                    p.add(label);
                }
                count++;
            }
        }
        JPanel center = new JPanel(new GridBagLayout());
        center.setBackground(Color.BLACK);
        center.add(p);
        JOptionPane.showMessageDialog(null, center);
    }

    public static void main(String[] args) throws IOException {
        URL url = new URL("http://i.stack.imgur.com/SNN04.png");
        final BufferedImage bi = ImageIO.read(url);
        SwingUtilities.invokeLater(new Runnable(){
            @Override
            public void run() {
                new CompassButtons(bi);
            }
        });
    }
}
</code></pre></body></html>

===ID===
584e5aa33e2ca51be94fee0c
===QUESTION===
How can I generate an MD5 hash?
Is there any method to generate MD5 hash of a string in Java? 
===LINK===
http://stackoverflow.com/questions/415953/how-can-i-generate-an-md5-hash
===KEYWORDS===
generate 
===ANSWER===
432
<html><body><p><a href="http://docs.oracle.com/javase/8/docs/api/java/security/MessageDigest.html" rel="nofollow noreferrer"><code>java.security.MessageDigest</code></a> is your friend. Call <a href="http://download.oracle.com/javase/8/docs/api/java/security/MessageDigest.html#getInstance(java.lang.String)" rel="nofollow noreferrer"><code>getInstance("MD5")</code></a> to get an MD5 message digest you can use.</p></body></html>

===ID===
584e5aa43e2ca51be94fee0d
===QUESTION===
Increase heap size in Java
I am working on a Windows 2003 server (64-bit) with 8 GB RAM. How can I increase the heap memory maximum? I am using the  -Xmx1500m  flag to increase the heap size to 1500 Mb. Can I increase the heap memory to 75% of physical memory (6 GB Heap)? 
===LINK===
http://stackoverflow.com/questions/1565388/increase-heap-size-in-java
===KEYWORDS===
increase 
===ANSWER===
223
<html><body><p>You can increase to 4GB on a 32 bit system. If you're on a 64 bit system you can go higher. No need to worry if you've chosen incorrectly, if you ask for 5g on a 32 bit system java will complain about an invalid value and quit.</p><p>As others have posted, use the cmd-line flags - e.g. </p><pre><code>java -Xmx6g myprogram
</code></pre><p>You can get a full list (or a nearly full list, anyway) by typing java -X.</p></body></html>

===ID===
584e5aa53e2ca51be94fee0e
===QUESTION===
Retain precision with double in Java
The above code prints: How would I get this to just print (or be able to use it as) 11.4? 
===LINK===
http://stackoverflow.com/questions/322749/retain-precision-with-double-in-java
===KEYWORDS===
print 
===ANSWER===
83
<html><body><p>As others have mentioned, you'll probably want to use the <a href="https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html" rel="nofollow noreferrer"><code>BigDecimal</code></a> class, if you want to have an exact representation of 11.4.</p><p>Now, a little explanation into why this is happening:</p><p>The <code>float</code> and <code>double</code> primitive types in Java are <a href="http://en.wikipedia.org/wiki/Floating_point" rel="nofollow noreferrer">floating point</a> numbers, where the number is stored as a binary representation of a fraction and a exponent.</p><p>More specifically, a double-precision floating point value such as the <code>double</code> type is a 64-bit value, where:</p><li>1 bit denotes the sign (positive or negative).</li><li>11 bits for the exponent.</li><li>52 bits for the significant digits (the fractional part as a binary).</li><p>These parts are combined to produce a <code>double</code> representation of a value.</p><p>(Source: <a href="http://en.wikipedia.org/wiki/Double_precision" rel="nofollow noreferrer">Wikipedia: Double precision</a>)</p><p>For a detailed description of how floating point values are handled in Java, see the <a href="http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.3" rel="nofollow noreferrer">Section 4.2.3: Floating-Point Types, Formats, and Values</a> of the Java Language Specification.</p><p>The <code>byte</code>, <code>char</code>, <code>int</code>, <code>long</code> types are <a href="http://en.wikipedia.org/wiki/Fixed-point_arithmetic" rel="nofollow noreferrer">fixed-point</a> numbers, which are exact representions of numbers. Unlike fixed point numbers, floating point numbers will some times (safe to assume "most of the time") not be able to return an exact representation of a number. This is the reason why you end up with <code>11.399999999999</code> as the result of <code>5.6 + 5.8</code>.</p><p>When requiring a value that is exact, such as 1.5 or 150.1005, you'll want to use one of the fixed-point types, which will be able to represent the number exactly.</p><p>As has been mentioned several times already, Java has a <a href="https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html" rel="nofollow noreferrer"><code>BigDecimal</code></a> class which will handle very large numbers and very small numbers. </p><p>From the Java API Reference for the <code>BigDecimal</code> class:</p><p>Immutable,
  arbitrary-precision signed decimal
  numbers. A BigDecimal consists of an
  arbitrary precision integer unscaled
  value and a 32-bit integer scale. If
  zero or positive, the scale is the
  number of digits to the right of the
  decimal point. If negative, the
  unscaled value of the number is
  multiplied by ten to the power of the
  negation of the scale. The value of
  the number represented by the
  BigDecimal is therefore (unscaledValue
  × 10^-scale).</p><p>There has been many questions on Stack Overflow relating to the matter of floating point numbers and its precision. Here is a list of related questions that may be of interest:</p><li><a href="http://stackoverflow.com/questions/177506/why-do-i-see-a-double-variable-initialized-to-some-value-like-214-as-2139999961">Why do I see a double variable initialized to some value like 21.4 as 21.399999618530273?</a></li><li><a href="http://stackoverflow.com/questions/240876/print-really-big-numbers">How to print really big numbers in C++</a></li><li><a href="http://stackoverflow.com/questions/56947/how-is-floating-point-stored-when-does-it-matter">How is floating point stored? When does it matter?</a></li><li><a href="http://stackoverflow.com/questions/61872/use-float-or-decimal-for-accounting-application-dollar-amount">Use Float or Decimal for Accounting Application Dollar Amount?</a></li><p>If you really want to get down to the nitty gritty details of floating point numbers, take a look at <a href="http://docs.sun.com/source/806-3568/ncg_goldberg.html" rel="nofollow noreferrer">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>.</p></body></html>

===ID===
584e5aa53e2ca51be94fee0f
===QUESTION===
What is the Java ?: operator called and what does it do?
I have been working with Java a couple of years, but up until recently I haven't run across this construct: This is probably a very simple question, but can someone explain it?  How do I read it?  I am pretty sure I know how it works. Correct?  What is this construct called? 
===LINK===
http://stackoverflow.com/questions/798545/what-is-the-java-operator-called-and-what-does-it-do
===KEYWORDS===
correct 
===ANSWER===
117
<html><body><p>Yes, it is a shorthand form of</p><pre><code>int count;
if (isHere)
    count = getHereCount(index);
else
    count = getAwayCount(index);
</code></pre><p>It's called the <strong>conditional operator</strong>. Many people (erroneously) call it <em>the ternary operator</em>, because it's the only ternary (three-argument) operator in Java, C, C++, and probably many other languages. But theoretically there <em>could</em> be another ternary operator, whereas there can only be one <em>conditional operator</em>.</p><p>The official name is given in the <a href="http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.25" rel="nofollow noreferrer">Java Language Specification</a>:</p><p>The conditional operator <code>? :</code> uses the boolean value of one expression to decide which of two other expressions should be evaluated.</p><p>Note that both branches must lead to methods with return values:</p><p><strong>It is a compile-time error for either the second or the third operand expression to be an invocation of a void method.</strong></p><p><sup><em>In fact, by the grammar of expression statements (<a href="http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.8" rel="nofollow noreferrer">§14.8</a>), it is not permitted for a conditional expression to appear in any context where an invocation of a void method could appear.</em></sup></p><p>So, if <code>doSomething()</code> and <code>doSomethingElse()</code> are void methods, you cannot compress this:</p><pre><code>if (someBool)
    doSomething();
else
    doSomethingElse();
</code></pre><p>into this:</p><pre><code>someBool ? doSomething() : doSomethingElse();
</code></pre><p>Simple words:</p><pre><code>booleanCondition ? executeThisPartIfBooleanConditionIsTrue : executeThisPartIfBooleanConditionIsFalse 
</code></pre></body></html>

===ID===
584e5aa63e2ca51be94fee10
===QUESTION===
JTextFields on top of active drawing on JPanel, threading problems
Has anyone ever tried to use Swing to construct a proper multi-buffered rendering environment  on top of which Swing user interface elements can be added ?  In this case I have an animating red rectangle drawn onto a background. The background does not need to be updated every frame so I render it onto a BufferedImage and redraw only the portion necessary to clear the previous location of the rectangle. See the complete code below, this extends the example given by @trashgod in a previous thread,  here .  So far so good; smooth animation, low cpu usage, no flickering. Then I add a JTextField to the Jpanel (by clicking on any position on the screen), and focus on it by clicking inside the text box. Clearing the previous location of the rectangle now fails on every cursor blink, see the image below. I am curious if anyone has an idea of why this might happen (Swing not being thread-safe? The image being painted asynchronously?) and in what direction to look for possible solutions. This is on Mac OS 10.5, Java 1.6 
===LINK===
http://stackoverflow.com/questions/3256269/jtextfields-on-top-of-active-drawing-on-jpanel-threading-problems
===KEYWORDS===
@trashgod 
===ANSWER===
18
<html><body><p><code>NewTest</code> extends <code>JPanel</code>; but because you're not painting every pixel on each call to <code>paintComponent()</code>, you need to invoke the super-class's method and erase the old drawing:</p><pre><code>@Override
protected void paintComponent(Graphics g) {
    super.paintComponent(g);
    int width = this.getWidth();
    int height = this.getHeight();
    g.setColor(Color.black);
    g.fillRect(0, 0, width, height);
    ...
}
</code></pre><p>Addendum: As you note, setting the background color in the constructor precludes the need to fill the panel in <code>paintComponent()</code>, while <code>super.paintComponent()</code> allows the text field(s) to function correctly. As you observe, the proposed workaround is fragile. Instead, simplify the code and optimize as warranted. For example, you may not need the complication of insets, extra buffers and a component listener.</p><p>Addendum 2: Note that <code>super.paintComponent()</code> calls the UI delegate's <a href="http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/javax/swing/plaf/ComponentUI.html#update%28java.awt.Graphics,%20javax.swing.JComponent%29" rel="nofollow noreferrer"><code>update()</code></a> method, "which fills the specified component with its background color (if its opaque property is true)." You can use <code>setOpaque(false)</code> to preclude this.</p><p><img alt="Animation Test" src="https://i.stack.imgur.com/GOswq.png"/></p><pre><code>import java.awt.Color;
import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.GraphicsConfiguration;
import java.awt.GraphicsEnvironment;
import java.awt.Rectangle;
import java.awt.Transparency;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.ComponentAdapter;
import java.awt.event.ComponentEvent;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.image.BufferedImage;
import java.util.Random;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.Timer;

/** @see http://stackoverflow.com/questions/3256941 */
public class AnimationTest extends JPanel implements ActionListener {

    private static final int WIDE = 640;
    private static final int HIGH = 480;
    private static final int RADIUS = 25;
    private static final int FRAMES = 24;
    private final Timer timer = new Timer(20, this);
    private final Rectangle rect = new Rectangle();
    private BufferedImage background;
    private int index;
    private long totalTime;
    private long averageTime;
    private int frameCount;

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                new AnimationTest().create();
            }
        });
    }

    private void create() {
        JFrame f = new JFrame("AnimationTest");
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.add(this);
        f.pack();
        f.setLocationRelativeTo(null);
        f.setVisible(true);
        timer.start();
    }

    public AnimationTest() {
        super(true);
        this.setOpaque(false);
        this.setPreferredSize(new Dimension(WIDE, HIGH));
        this.addMouseListener(new MouseHandler());
        this.addComponentListener(new ComponentHandler());
    }

    @Override
    protected void paintComponent(Graphics g) {
        long start = System.nanoTime();
        super.paintComponent(g);
        int w = this.getWidth();
        int h = this.getHeight();
        g.drawImage(background, 0, 0, this);
        double theta = 2 * Math.PI * index++ / 64;
        g.setColor(Color.blue);
        rect.setRect(
            (int) (Math.sin(theta) * w / 3 + w / 2 - RADIUS),
            (int) (Math.cos(theta) * h / 3 + h / 2 - RADIUS),
            2 * RADIUS, 2 * RADIUS);
        g.fillOval(rect.x, rect.y, rect.width, rect.height);
        g.setColor(Color.white);
        if (frameCount == FRAMES) {
            averageTime = totalTime / FRAMES;
            totalTime = 0; frameCount = 0;
        } else {
            totalTime += System.nanoTime() - start;
            frameCount++;
        }
        String s = String.format("%1$5.3f", averageTime / 1000000d);
        g.drawString(s, 5, 16);
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        this.repaint();
    }

    private class MouseHandler extends MouseAdapter {

        @Override
        public void mousePressed(MouseEvent e) {
            super.mousePressed(e);
            JTextField field = new JTextField("test");
            Dimension d = field.getPreferredSize();
            field.setBounds(e.getX(), e.getY(), d.width, d.height);
            add(field);
        }
    }

    private class ComponentHandler extends ComponentAdapter {

        private final GraphicsEnvironment ge =
            GraphicsEnvironment.getLocalGraphicsEnvironment();
        private final GraphicsConfiguration gc =
            ge.getDefaultScreenDevice().getDefaultConfiguration();
        private final Random r = new Random();

        @Override
        public void componentResized(ComponentEvent e) {
            super.componentResized(e);
            int w = getWidth();
            int h = getHeight();
            background = gc.createCompatibleImage(w, h, Transparency.OPAQUE);
            Graphics2D g = background.createGraphics();
            g.clearRect(0, 0, w, h);
            g.setColor(Color.green.darker());
            for (int i = 0; i &lt; 128; i++) {
                g.drawLine(w / 2, h / 2, r.nextInt(w), r.nextInt(h));
            }
            g.dispose();
            System.out.println("Resized to " + w + " x " + h);
        }
    }
}
</code></pre></body></html>

===ID===
584e5aa73e2ca51be94fee11
===QUESTION===
What is x after “x = x++”?
What happens (behind the curtains) when this is executed? That is, when a variable is post incremented and assigned to itself in one statement? I compiled and executed this.  x  is still 7  even after the entire statement . In my book, it says that  x  is incremented! 
===LINK===
http://stackoverflow.com/questions/7911776/what-is-x-after-x-x
===KEYWORDS===
curtains 
===ANSWER===
232
<html><body><p><code>x</code> does get incremented. But you are assigning the old value of <code>x</code> back into itself.</p><pre><code>x = x++;
</code></pre><p><code>x++</code> increments <code>x</code> and returns its old value. <code>x =</code> assigns the old value back to itself.</p><p>So in the end, <code>x</code> gets assigned back to its initial value.</p></body></html>

===ID===
584e5aa73e2ca51be94fee12
===QUESTION===
How to compare dates in Java?
How do I compare dates in between in Java?  Example: date1 is  22-02-2010 
 date2 is  07-04-2010  today  
 date3 is  25-12-2010 date3  is always greater than  date1  and  date2  is always today. How do I verify if today's date is in between date1 and date 3? 
===LINK===
http://stackoverflow.com/questions/2592501/how-to-compare-dates-in-java
===KEYWORDS===
date1 
===ANSWER===
334
<html><body><p><a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html" rel="nofollow noreferrer">Date</a> has <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html#before(java.util.Date)" rel="nofollow noreferrer">before</a> and <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html#after(java.util.Date)" rel="nofollow noreferrer">after</a> methods and can be <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html#compareTo(java.util.Date)" rel="nofollow noreferrer">compared to each other</a> as follows:</p><pre><code>if(todayDate.after(historyDate) &amp;&amp; todayDate.before(futureDate)) {
    // In between
}
</code></pre><p>For an inclusive comparison:</p><pre><code>if(!historyDate.after(todayDate) &amp;&amp; !futureDate.before(todayDate)) {
    /* historyDate &lt;= todayDate &lt;= futureDate */ 
}
</code></pre><p>You could also give <a href="http://www.joda.org/joda-time/" rel="nofollow noreferrer">Joda-Time</a> a go, but note that:</p><p>Joda-Time is the <em>de facto</em> standard date and time library for Java prior to Java SE 8. Users are now asked to migrate to <a href="https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html" rel="nofollow noreferrer">java.time</a> (<a href="https://jcp.org/en/jsr/detail?id=310" rel="nofollow noreferrer">JSR-310</a>).</p><p>Back-ports are available for Java 6 and 7 as well as Android.</p></body></html>

===ID===
584e5aa83e2ca51be94fee13
===QUESTION===
How can I put a control in the JTableHeader of a JTable?
Given a  JTable  with a column of type  Boolean.class , the  default renderer  is a  JCheckBox . It's easy enough to select individual cells based on a  user selection , but it may be convenient to select all or none of the check boxes, too. These  recent   examples  mentioned using  JCheckBox  in the table header, but the implementation was awkward and unappealing. If I don't need to sort the column, how can I put a well-behaved control in the  JTableHeader ? Addendum: For convenience, I've added my  sscce  as an  answer , but I'd be pleased to accept an answer that addresses the  well-behaved  aspect of the problem. 
===LINK===
http://stackoverflow.com/questions/7137786/how-can-i-put-a-control-in-the-jtableheader-of-a-jtable
===KEYWORDS===
jcheckbox 
===ANSWER===
13
<html><body><p>There are two parts of the problem (as I see it :-)</p><p>Usability: inventing UI-interaction/elements is prone to confusing users. In no particular order:</p><li>the column header title is meant to describe the content of the column, that content description is lost when in replacing it with an action description</li><li>it's not immediately (for me, the dumbest <em>user</em> on earth :-) clear that the header cell has the function of a toggle button. Accidentally clicking it will loose all earlier content state in that column</li><p>So even if interaction analysis comes out with a clear we-do-need/want-it, </p><li>action only in-addition to the content</li><li>use a widget that's clearer (e.g. a tri-state checkbox all-de-/selected, mixed content). Also, de-/selecting must both be possible from mixed content. On second thought, a checkbox probably isn't the best choice either, didn't dig further</li><li>minimize the possibility to accidentally (just for me :-) change bulk state, (e.g. by a clear visual separation of an active area - the checkbox icon) from the "normal header" region.</li><p>Technical aspects</p><li>TableHeader is not designed for "live" components.  Whatever is wanted has to be controlled by ourselves</li><li>examples are around (e.g. JIDE grid supports adding components)</li><li>fiddling with header tends to look unattractive because it's not trivial to change the renderer and at the same time keep the LAF provided appearance</li></body></html>

===ID===
584e5aa83e2ca51be94fee14
===QUESTION===
Why is it frowned upon to use a null layout in Swing?
Recently, I started creating a program for the company I work for. Just as background info, I'm still a student and a beginner programmer, so my solution is probably not recommended and I didn't know how to do it otherwise, but it works and I'm not going to be judged for it because it's a student job totally unrelated to programming. The thing about the program is, it's going to be run on multiple different computer with different screen sizes and resolutions (800x600 and up). To make sure it takes as much of the screen as possible without losing any part of the program, I set the layout to null and hard-coded everything using relative values. The program is kiosk-style and I first get the screen size values and go from there (for example, off the top of my head, the left-side menu takes an eighth of the screen, the top bar 2%, etc.). I also use font metrics to make sure the components are sized correctly and that everything gets displayed nicely. My question is: why is it so frowned upon to make the layout null instead of using the layout managers? (I was told on some forums that this is a horrible way of doing things) I know how the layout manager works and know how to use the different layouts, but for the requirements of this program (multiple different resolutions, custom button shapes and placements, text changing on the components when you change language, etc.), I couldn't see myself using the layout managers to do it all. How do you more experienced programmers use the layout managers in a situation like this? And what do you do when you want a button to be somewhere specific and other components somewhere else specific that don't really match any of the predefined layouts? 
===LINK===
http://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing
===KEYWORDS===
work 
===ANSWER===
10
<html><body><p>If you layer the layout managers correctly the screen will re-flow to different sizes for you, the idea is to use a single set of layout managers on ALL screen sizes.</p><p>If you use null you will have to do each screen size yourself.  Not only that but if the app can be windowed you have to support every possible size they might scroll to.</p><p>That's kind of difficult to do, but the layout mangers are designed to do just that.</p><p>There are some common tricks.  BorderLayout is a great layout to start with.  Sometimes you might use it at multiple levels--often with just 2 or 3 components in it.  That's because it's really good at giving all but one area the minimum required area and giving everything else to the CENTER.</p><p>FlowLayout can be useful but it's tricky if your components are different sizes.</p><p>I wouldn't try GridBagLayout unless you are planning to write code to feed your layout manager (an excellent solution at that!).  </p><p>I also wouldn't use GUI builders, they don't know the overall way you want to reflow your layout.</p></body></html>

===ID===
584e5aa93e2ca51be94fee15
===QUESTION===
How to really read text file from classpath in Java
I am trying to read a text file which is set in CLASSPATH system variable. Not a user variable. I am trying to get input stream to the file as below: Place the directory of file ( D:\myDir )in CLASSPATH and try below: Place full path of file ( D:\myDir\SomeTextFile.txt )in CLASSPATH and try the same above 3 lines of code. But unfortunately NONE of them are working and I am always getting  null  into my InputStream  in . 
===LINK===
http://stackoverflow.com/questions/1464291/how-to-really-read-text-file-from-classpath-in-java
===KEYWORDS===
\mydir\sometextfile 
===ANSWER===
403
<html><body><p>With the directory on the classpath, from a class loaded by the same classloader, you should be able to use either of:</p><pre><code>// From ClassLoader, all paths are "absolute" already - there's no context
// from which they could be relative. Therefore you don't need a leading slash.
InputStream in = this.getClass().getClassLoader()
                                .getResourceAsStream("SomeTextFile.txt");
// From Class, the path is relative to the package of the class unless
// you include a leading slash, so if you don't want to use the current
// package, include a slash like this:
InputStream in = this.getClass().getResourceAsStream("/SomeTextFile.txt");
</code></pre><p>If those aren't working, that suggests something else is wrong.</p><p>So for example, take this code:</p><pre><code>package dummy;

import java.io.*;

public class Test
{
    public static void main(String[] args)
    {
        InputStream stream = Test.class.getResourceAsStream("/SomeTextFile.txt");
        System.out.println(stream != null);
        stream = Test.class.getClassLoader().getResourceAsStream("SomeTextFile.txt");
        System.out.println(stream != null);
    }
}
</code></pre><p>And this directory structure:</p><pre><code>code
    dummy
          Test.class
txt
    SomeTextFile.txt
</code></pre><p>And then (using the Unix path separator as I'm on a Linux box):</p><pre><code>java -classpath code:txt dummy.Test
</code></pre><p>Results:</p><pre><code>true
true
</code></pre></body></html>

===ID===
584e5aa93e2ca51be94fee16
===QUESTION===
Java URL encoding of query string parameters
Say I have a URL  and I have a query entered by the user such as: random word £500 bank $ I want the result to be a properly encoded URL: What's the best way to achieve this? I tried  URLEncoder  and creating URI/URL objects but none of them come out quite right. 
===LINK===
http://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters
===KEYWORDS===
url 
===ANSWER===
661
<html><body><p><a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html"><code>URLEncoder</code></a> should be the way to go. You only need to keep in mind to encode <em>only</em> the individual query string parameter name and/or value, not the entire URL, for sure not the query string parameter separator character <code>&amp;</code> nor the parameter name-value separator character <code>=</code>.</p><pre><code>String q = "random word £500 bank $";
String url = "http://example.com/query?q=" + URLEncoder.encode(q, "UTF-8");
</code></pre><p>Note that spaces in query parameters are represented by <code>+</code>, not <code>%20</code>, which is legitimately valid. The <code>%20</code> is usually to be used to represent spaces in URI itself (the part before the URI-query string separator character <code>?</code>), not in query string (the part after <code>?</code>).</p><p>Also note that there are two <code>encode()</code> methods. One without charset argument and another with. The one without charset argument is deprecated. Never use it and always specify the charset argument. The <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html">javadoc</a> even explicitly recommends to use the UTF-8 encoding, as mandated by <a href="http://tools.ietf.org/html/rfc3986">RFC3986</a> and <a href="http://www.w3.org/TR/html40/appendix/notes.html#non-ascii-chars">W3C</a>.</p><p>All other characters are unsafe and are first converted into one or more bytes using some encoding scheme. Then each byte is represented by the 3-character string "%xy", where xy is the two-digit hexadecimal representation of the byte. <strong>The recommended encoding scheme to use is UTF-8</strong>. However, for compatibility reasons, if an encoding is not specified, then the default encoding of the platform is used.</p><li><a href="https://www.talisman.org/~erlkonig/misc/lunatech%5Ewhat-every-webdev-must-know-about-url-encoding/">What every web developer must know about URL encoding</a></li></body></html>

===ID===
584e5aaa3e2ca51be94fee17
===QUESTION===
Capturing stdout when calling Runtime.exec
When experiencing networking problems on client machines, I'd like to be able to run a few command lines and email the results of them to myself. I've found Runtime.exec will allow me to execute arbitrary commands, but Collecting the results in a String is more interesting. I realize I could redirect output to a file, and then read from the file, but my spidey sense is telling me there's a more elegant way of doing it. Suggestions? 
===LINK===
http://stackoverflow.com/questions/882772/capturing-stdout-when-calling-runtime-exec
===KEYWORDS===
collecting 
===ANSWER===
38
<html><body><p>You need to capture both the std out and std err in the process. You can then write std out to a file/mail or similar.</p><p>See <a href="http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html?page=4" rel="nofollow noreferrer">this article</a> for more info, and in particular note the <code>StreamGobbler</code> mechanism that captures stdout/err in separate threads. This is essential to prevent blocking and is the source of numerous errors if you don't do it properly!</p></body></html>

===ID===
584e5aaa3e2ca51be94fee18
===QUESTION===
How to read a large text file line by line using Java?
I need to read a large text file of around 5-6 GB line by line using Java. How can I do this quickly?  
===LINK===
http://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-using-java
===KEYWORDS===
read 
===ANSWER===
611
<html><body><p>A common pattern is to use</p><pre><code>try (BufferedReader br = new BufferedReader(new FileReader(file))) {
    String line;
    while ((line = br.readLine()) != null) {
       // process the line.
    }
}
</code></pre><p>You can read the data faster if you assume there is no character encoding. e.g. ASCII-7 but it won't make much difference.  It is highly likely that what you do with the data will take much longer.</p><p>EDIT: A less common pattern to use which avoids the scope of <code>line</code> leaking.</p><pre><code>try(BufferedReader br = new BufferedReader(new FileReader(file))) {
    for(String line; (line = br.readLine()) != null; ) {
        // process the line.
    }
    // line is not visible here.
}
</code></pre><p>UPDATE: In Java 8 you can do</p><pre><code>try (Stream&lt;String&gt; stream = Files.lines(Paths.get(fileName))) {
        stream.forEach(System.out::println);
}
</code></pre><p>NOTE: You have to place the Stream in a try-with-resource block to ensure the file is closed. If you don't do this, the GC might clean up/close the file before you run out of file handles (or it might not)</p></body></html>

===ID===
584e5aab3e2ca51be94fee19
===QUESTION===
What are the pros and cons of the leading Java HTML parsers? [closed]
Searching SO and Google, I've found that there are a few Java HTML parsers which are consistently recommended by various parties. Unfortunately it's hard to find any information on the strengths and weaknesses of the various libraries. I'm hoping that some people have spent some comparing these libraries, and can share what they've learned. Here's what I've seen: And if there's a major parser that I've missed, I'd love to hear about its pros and cons as well. Thanks! 
===LINK===
http://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers
===KEYWORDS===
information 
===ANSWER===
197
<html><body><p>Almost all known HTML parsers implements the <a href="http://docs.oracle.com/javase/6/docs/api/org/w3c/dom/package-summary.html" rel="nofollow noreferrer">W3C DOM API</a> (part of the JAXP API, Java API for XML processing) and gives you a <a href="http://docs.oracle.com/javase/6/docs/api/org/w3c/dom/Document.html" rel="nofollow noreferrer"><code>org.w3c.dom.Document</code></a> back which is ready for direct use by JAXP API. The major differences are usually to be found in the features of the parser in question. Most parsers are to a certain degree forgiving and lenient with non-wellformed HTML ("tagsoup"), like <a href="http://jtidy.sourceforge.net/" rel="nofollow noreferrer">JTidy</a>, <a href="http://nekohtml.sourceforge.net" rel="nofollow noreferrer">NekoHTML</a>, <a href="http://home.ccil.org/~cowan/XML/tagsoup/" rel="nofollow noreferrer">TagSoup</a> and <a href="http://htmlcleaner.sourceforge.net/" rel="nofollow noreferrer">HtmlCleaner</a>. You usually use this kind of HTML parsers to "tidy" the HTML source (e.g. replacing the HTML-valid <code>&lt;br&gt;</code> by a XML-valid <code>&lt;br /&gt;</code>), so that you can traverse it "the usual way" using the W3C DOM and JAXP API.</p><p>The only ones which jumps out are <a href="http://htmlunit.sourceforge.net/" rel="nofollow noreferrer">HtmlUnit</a> and <a href="http://jsoup.org/" rel="nofollow noreferrer">Jsoup</a>. </p><p><a href="http://htmlunit.sourceforge.net/" rel="nofollow noreferrer">HtmlUnit</a> provides a completely own API which gives you the possibility to act like a webbrowser programmatically. I.e. enter form values, click elements, invoke JavaScript, etcetera. It's much more than alone a HTML parser. It's a real "GUI-less webbrowser" and HTML unit testing tool.</p><p><a href="http://jsoup.org/" rel="nofollow noreferrer">Jsoup</a> also provides a completely own API. It gives you the possibility to select elements using <a href="http://jquery.com" rel="nofollow noreferrer">jQuery</a>-like <a href="http://www.w3.org/TR/css3-selectors/" rel="nofollow noreferrer">CSS selectors</a> and provides a slick API to traverse the HTML DOM tree to get the elements of interest. </p><p>Particularly the traversing of the HTML DOM tree is the major strength of Jsoup. Ones who have worked with <code>org.w3c.dom.Document</code> know what a hell of pain it is to traverse the DOM using the verbose <a href="http://docs.oracle.com/javase/6/docs/api/org/w3c/dom/NodeList.html" rel="nofollow noreferrer"><code>NodeList</code></a> and <a href="http://docs.oracle.com/javase/6/docs/api/org/w3c/dom/Node.html" rel="nofollow noreferrer"><code>Node</code></a> APIs. True, <a href="http://docs.oracle.com/javase/6/docs/api/javax/xml/xpath/XPath.html" rel="nofollow noreferrer"><code>XPath</code></a> makes the life easier, but still, it's another learning curve and it can end up to be still verbose. </p><p>Here's an example which uses a "plain" W3C DOM parser like JTidy in combination with XPath to extract the first paragraph of your question and the names of all answerers (I am using XPath since without it, the code needed to gather the information of interest would otherwise grow up 10 times as big, without writing utility/helper methods).</p><pre><code>String url = "http://stackoverflow.com/questions/3152138";
Document document = new Tidy().parseDOM(new URL(url).openStream(), null);
XPath xpath = XPathFactory.newInstance().newXPath();

Node question = (Node) xpath.compile("//*[@id='question']//*[contains(@class,'post-text')]//p[1]").evaluate(document, XPathConstants.NODE);
System.out.println("Question: " + question.getFirstChild().getNodeValue());

NodeList answerers = (NodeList) xpath.compile("//*[@id='answers']//*[contains(@class,'user-details')]//a[1]").evaluate(document, XPathConstants.NODESET);
for (int i = 0; i &lt; answerers.getLength(); i++) {
    System.out.println("Answerer: " + answerers.item(i).getFirstChild().getNodeValue());
}
</code></pre><p>And here's an example how to do exactly the same with Jsoup:</p><pre><code>String url = "http://stackoverflow.com/questions/3152138";
Document document = Jsoup.connect(url).get();

Element question = document.select("#question .post-text p").first();
System.out.println("Question: " + question.text());

Elements answerers = document.select("#answers .user-details a");
for (Element answerer : answerers) {
    System.out.println("Answerer: " + answerer.text());
}
</code></pre><p>Do you see the difference? It's not only less code, but Jsoup is also relatively easy to grasp if you already have moderate experience with CSS selectors (by e.g. developing websites and/or using jQuery).</p><p>The pros and cons of each should be clear enough now. If you just want to use the standard JAXP API to traverse it, then go for the first mentioned group of parsers. There are pretty <a href="http://java-source.net/open-source/html-parsers" rel="nofollow noreferrer">a lot</a> of them. Which one to choose depends on the features it provides (how is HTML cleaning made easy for you? are there some listeners/interceptors and tag-specific cleaners?) and the robustness of the library (how often is it updated/maintained/fixed?). If you like to unit test the HTML, then HtmlUnit is the way to go. If you like to extract specific data from the HTML (which is more than often the real world requirement), then Jsoup is the way to go.</p></body></html>

===ID===
584e5aab3e2ca51be94fee1a
===QUESTION===
Is it possible to use Java 8 for Android development?
Searching the web, it is not clear if Java 8 is supported for Android development or not. Before I download/setup Java 8, can some one point me at any "official" documentation that say Java 8 is or is not supported for Android development. 
===LINK===
http://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development
===KEYWORDS===
web 
===ANSWER===
114
<html><body><p>I think it is too early to say if Java 8 is suitable for Android development, officially Android needs the Java 6 JDK as mentioned at the bottom of this page: <a href="https://developer.android.com/sdk/installing/installing-adt.html" rel="nofollow noreferrer">https://developer.android.com/sdk/installing/installing-adt.html</a></p><p>If you installed the Java 8 JDK, then give it a try, if any problems appears try to set the compiler as 1.6 in Eclipse from window menu → <strong>Preferences</strong> → <strong>Java</strong> → <strong>Compiler</strong>.
By the way, this is works for me with Java 7:</p><p><img alt="Eclipse Preferences -&gt; Java -&gt; Compiler" src="https://i.stack.imgur.com/SCTyV.png"/></p><p>According to the <a href="http://developer.android.com/sdk/installing/index.html?pkg=studio" rel="nofollow noreferrer">Installing Android Studio</a> web page, to build apps for Android 5.0 and higher, JDK 7 is required:</p><p>Before you set up Android Studio, be sure you have installed JDK 6 or higher (the JRE alone is not sufficient)—JDK 7 is required when developing for Android 5.0 and higher. To check if you have JDK installed (and which version), open a terminal and type <code>javac -version</code>. If the JDK is not available or the version is lower than 6, <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" rel="nofollow noreferrer">go download JDK</a>.</p><p>Officially:</p><p>Java 7 or higher is required if you are targeting Android 5.0 and
  higher.</p><p>this is implicit announce that Java 8 will work too, this is mentioned in eclipse plugin ADT page, but not mentioned in Android studio page or not updated yet. </p><p>Unofficially: install multiple JDK and try.</p><p><a href="http://developer.android.com/tools/sdk/eclipse-adt.html" rel="nofollow noreferrer">eclipse plugin ADT page:</a> </p><p><a href="http://developer.android.com/sdk/index.html#Requirements" rel="nofollow noreferrer">Android studio page:</a></p><p>Now it is possible to use some features of java 8 using the new toolchain called <a href="http://tools.android.com/tech-docs/jackandjill" rel="nofollow noreferrer">Jack &amp; Jill</a>, as mentioned in <a href="https://youtu.be/B08iLAtS3AQ?t=28m14s" rel="nofollow noreferrer">GOOGLE I/O 2016</a> , but still does not support all java 8 features.
For a how-to see <a href="https://developer.android.com/preview/j8-jack.html" rel="nofollow noreferrer">Java 8 Language Features | Android Developers</a>.</p></body></html>

===ID===
584e5aad3e2ca51be94fee1b
===QUESTION===
Immutability of Strings in Java
Consider the following example. Now, in Java, String objects are immutable. Then how come the object  str  can be assigned value "Help!". Isn't this contradicting the immutability of strings in Java? Can anybody please explain me the exact concept of immutability? Edit: Ok. I am now getting it, but just one follow-up question. What about the following code:  Does this mean that two objects are created again ("Mississippi" and "M!ss!ss!pp!") and the reference  str  points to a different object after  replace()  method?  
===LINK===
http://stackoverflow.com/questions/1552301/immutability-of-strings-in-java
===KEYWORDS===
contradicting 
===ANSWER===
185
<html><body><p><code>str</code> is not an object, it's a reference to an object. <code>"Hello"</code> and <code>"Help!"</code> are two distinct <code>String</code> objects. Thus, <code>str</code> <em>points to</em> a string. You can change what it <em>points to</em>, but not that which it <em>points at</em>.</p><p>Take this code, for example:</p><pre><code>String s1 = "Hello";
String s2 = s1;
// s1 and s2 now point at the same string - "Hello"
</code></pre><p>Now, there is nothing<sup>1</sup> we could do to <code>s1</code> that would affect the value of <code>s2</code>. They refer to the same object - the string <code>"Hello"</code> - but that object is immutable and thus cannot be altered. </p><p>If we do something like this:</p><pre><code>s1 = "Help!";
System.out.println(s2); // still prints "Hello"
</code></pre><p>Here we see the difference between mutating an object, and changing a reference. <code>s2</code> still points to the same object as we initially set <code>s1</code> to point to. Setting <code>s1</code> to <code>"Help!"</code> only changes the <em>reference</em>, while the <code>String</code> object it originally referred to remains unchanged. </p><p>If strings <em>were</em> mutable, we could do something like this: </p><pre><code>String s1 = "Hello";
String s2 = s1;
s1.setCharAt(1, 'a'); // Fictional method that sets character at a given pos in string
System.out.println(s2); // Prints "Hallo"
</code></pre><p><strong>Edit to respond to OP's edit:</strong></p><p>If you look at the <a href="http://www.docjar.com/html/api/java/lang/String.java.html#2041" rel="nofollow noreferrer">source code for String.replace(char,char)</a> (also available in src.zip in your JDK installation directory -- a pro tip is to look there whenever you wonder how something really works) you can see that what it does is the following:</p><li>If there is one or more occurrences of <code>oldChar</code> in the current string, make a copy of the current string where all occurrences of <code>oldChar</code> are replaced with <code>newChar</code>. </li><li>If the <code>oldChar</code> is not present in the current string, return the current string.</li><p>So yes, <code>"Mississippi".replace('i', '!')</code> creates a new <code>String</code> object. Again, the following holds:</p><pre><code>String s1 = "Mississippi";
String s2 = s1;
s1 = s1.replace('i', '!');
System.out.println(s1); // Prints "M!ss!ss!pp!"
System.out.println(s2); // Prints "Mississippi"
System.out.println(s1 == s2); // Prints "false" as s1 and s2 are two different objects
</code></pre><p>Your homework for now is to see what the above code does if you change <code>s1 = s1.replace('i', '!');</code> to <code>s1 = s1.replace('Q', '!');</code> :)</p><p><sup>1</sup> Actually, it <em>is</em> possible to mutate strings (and other immutable objects). It requires reflection and is very, very dangerous and should never ever be used unless you're actually interested in destroying the program.</p></body></html>

===ID===
584e5aad3e2ca51be94fee1c
===QUESTION===
Why is using a wild card with a Java import statement bad?
It is much more convenient and cleaner to use a single statement like than to import a bunch of individual classes What is wrong with using a wildcard in the  import  statement? 
===LINK===
http://stackoverflow.com/questions/147454/why-is-using-a-wild-card-with-a-java-import-statement-bad
===KEYWORDS===
cleaner 
===ANSWER===
252
<html><body><p>The only problem with it is that it clutters your local namespace.  For example, let's say that you're writing a Swing app, and so need <code>java.awt.Event</code>, and are also interfacing with the company's calendaring system, which has <code>com.mycompany.calendar.Event</code>.  If you import both using the wildcard method, one of these three things happens:</p><li>You have an outright naming conflict between <code>java.awt.Event</code> and <code>com.mycompany.calendar.Event</code>, and so you can't even compile.</li><li>You actually manage only to import one (only one of your two imports does <code>.*</code>), but it's the wrong one, and you struggle to figure out why your code is claiming the type is wrong.</li><li>When you compile your code there is no <code>com.mycompany.calendar.Event</code>, but when they later add one your previously valid code suddenly stops compiling.</li><p>The advantage of explicitly listing all imports is that I can tell at a glance which class you meant to use, which simply makes reading the code that much easier. If you're just doing a quick one-off thing, there's nothing explicitly <em>wrong</em>, but future maintainers will thank you for your clarity otherwise.</p></body></html>

===ID===
584e5aad3e2ca51be94fee1d
===QUESTION===
Method Overloading for null argument
I have added three methods with parameters: When I am calling  doSomething(null)  , then compiler throws error as  ambiguous methods . So is the issue because  Integer  and  char[]  methods or  Integer  and  Object  methods? 
===LINK===
http://stackoverflow.com/questions/5229809/method-overloading-for-null-argument
===KEYWORDS===
added 
===ANSWER===
131
<html><body><p>Java will always try to use the most specific applicable version of a method that's available (see <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.2.5">JLS §15.12.2</a>).</p><p><code>null</code> is a valid value for the types <code>Object</code>, <code>char[]</code> and <code>Integer</code>. Therefore all 3 version are applicable, so Java will have to find the most specific one.</p><p>Since <code>Object</code> is the super-type of <code>char[]</code>, the array version is more specific than the <code>Object</code>-version. So if only those two methods exist, the <code>char[]</code> version will be chosen.</p><p>When both the <code>char[]</code> and <code>Integer</code> versions are available, then <strong>both</strong> of them are more specific than <code>Object</code> but none is more specific than the other, so Java can't decide which one to call. In this case you'll have to explicitly mention which one you want to call by casting the argument to the appropriate type.</p><p>Note that in practice this problem occurs far more seldom than one might think. The reason for this is that it only happens when you're explicitly calling a method with <code>null</code> or with a variable of a rather un-specific type (such as <code>Object</code>).</p><p>On the contrary, the following invocation would be perfectly unambiguous:</p><pre><code>char[] x = null;
doSomething(x);
</code></pre><p>Although you're still passing the value <code>null</code>, Java knows exactly which method to call, since it will take the type of the variable into account.</p></body></html>

===ID===
584e5aae3e2ca51be94fee1e
===QUESTION===
Why is subtracting these two times (in 1927) giving a strange result?
If I run the following program, which parses two date strings referencing times one second apart and compares them: The output is: Why is  ld4-ld3  not  1  (as I would expect from the one-second difference in the times), but  353 ? If I change the dates to times one second later: Then  ld4-ld3  will be  1 . Java version: 
===LINK===
http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result
===KEYWORDS===
dates 
===ANSWER===
7946
<html><body><p>It's a time zone change on December 31st in Shanghai.</p><p>See <a href="http://www.timeanddate.com/worldclock/clockchange.html?n=237&amp;year=1927">this page</a> for details of 1927 in Shanghai. Basically at midnight at the end of 1927, the clocks went back 5 minutes and 52 seconds. So "1927-12-31 23:54:08" actually happened twice, and it looks like Java is parsing it as the <em>later</em> possible instant for that local date/time - hence the difference.</p><p>Just another episode in the often weird and wonderful world of time zones.</p><p><strong>EDIT:</strong> Stop the press! History changes...</p><p>The original question would no longer demonstrate quite the same behaviour, if rebuilt with  version 2013a of <a href="https://code.google.com/p/noda-time/source/browse/src/NodaTime.Demo/StackOverflowExamples.cs">TZDB</a>. In 2013a, the result would be 358 seconds, with a transition time of 23:54:03 instead of 23:54:08.</p><p>I only noticed this because I'm collecting questions like this in Noda Time, in the form of <a href="https://code.google.com/p/noda-time/source/browse/src/NodaTime.Demo/StackOverflowExamples.cs">unit tests</a>... The test has now been changed, but it just goes to show - not even historical data is safe.</p><p><strong>EDIT:</strong> History has changed again...</p><p>In TZDB 2014f, the time of the change has moved to 1900-12-31, and it's now a mere 343 second change (so the time between <code>t</code> and <code>t+1</code> is 344 seconds, if you see what I mean).</p><p><strong>EDIT:</strong> To answer <a href="http://stackoverflow.com/questions/6841333/why-is-subtracting-these-two-times-in-1927-giving-a-strange-result/6841479#comment22684267_6841479">Ken Kin's question</a> around a transition at 1900... it looks like the Java timezone implementation treats <em>all</em> time zones as simply being in their standard time for any instant before the start of 1900 UTC:</p><pre><code>import java.util.TimeZone;

public class Test {
    public static void main(String[] args) throws Exception {
        long startOf1900Utc = -2208988800000L;
        for (String id : TimeZone.getAvailableIDs()) {
            TimeZone zone = TimeZone.getTimeZone(id);
            if (zone.getRawOffset() != zone.getOffset(startOf1900Utc - 1)) {
                System.out.println(id);
            }
        }
    }
}
</code></pre><p>The code above produces no output on my Windows machine. So any time zone which has any offset other than its standard one at the start of 1900 will count that as a transition. TZDB itself has some data going back earlier than that, and doesn't rely on any idea of a "fixed" standard time (which is what <code>getRawOffset</code> assumes to be a valid concept) so other libraries needn't introduce this artificial transition.</p></body></html>

===ID===
584e5aaf3e2ca51be94fee1f
===QUESTION===
How to get UTF-8 working in Java webapps?
I need to get UTF-8 working in my Java webapp (servlets + JSP, no framework used) to support  äöå  etc. for regular Finnish text and Cyrillic alphabets like  ЦжФ  for special cases. My setup is the following: Database used: MySQL 5.x Users mainly use Firefox2 but also Opera 9.x, FF3, IE7 and Google Chrome are used to access the site. How to achieve this? 
===LINK===
http://stackoverflow.com/questions/138948/how-to-get-utf-8-working-in-java-webapps
===KEYWORDS===
utf 
===ANSWER===
490
<html><body><p><em>Answering myself as the FAQ of this site encourages it. This works for me: </em></p><p>Mostly characters äåö are not a problematic as the default character set used by browsers and tomcat/java for webapps is latin1 ie. ISO-8859-1 which "understands" those characters.</p><p>To get UTF-8 working under Java+Tomcat+Linux/Windows+Mysql requires the following:</p><p>It's necessary to configure that the connector uses UTF-8 to encode url (GET request) parameters:</p><pre><code>&lt;Connector port="8080" maxHttpHeaderSize="8192"
 maxThreads="150" minSpareThreads="25" maxSpareThreads="75"
 enableLookups="false" redirectPort="8443" acceptCount="100"
 connectionTimeout="20000" disableUploadTimeout="true" 
 compression="on" 
 compressionMinSize="128" 
 noCompressionUserAgents="gozilla, traviata" 
 compressableMimeType="text/html,text/xml,text/plain,text/css,text/ javascript,application/x-javascript,application/javascript"
 URIEncoding="UTF-8"
/&gt;
</code></pre><p>The key part being <b>URIEncoding="UTF-8"</b> in the above example. This quarantees that Tomcat handles all incoming GET parameters as UTF-8 encoded.
As a result, when the user writes the following to the address bar of the browser:</p><pre><code> https://localhost:8443/ID/Users?action=search&amp;name=*ж*
</code></pre><p>the character ж is handled as UTF-8 and is encoded to (usually by the browser before even getting to the server) as <b>%D0%B6</b>.</p><p><i>POST request are not affected by this.</i></p><p>Then it's time to force the java webapp to handle all requests and responses as UTF-8 encoded. This requires that we define a character set filter like the following:</p><pre><code>package fi.foo.filters;

import javax.servlet.*;
import java.io.IOException;

public class CharsetFilter implements Filter {

    private String encoding;

    public void init(FilterConfig config) throws ServletException {
        encoding = config.getInitParameter("requestEncoding");
        if (encoding == null) encoding = "UTF-8";
    }

    public void doFilter(ServletRequest request, ServletResponse response, FilterChain next)
            throws IOException, ServletException {
        // Respect the client-specified character encoding
        // (see HTTP specification section 3.4.1)
        if (null == request.getCharacterEncoding()) {
            request.setCharacterEncoding(encoding);
        }

        // Set the default response content type and encoding
        response.setContentType("text/html; charset=UTF-8");
        response.setCharacterEncoding("UTF-8");

        next.doFilter(request, response);
    }

    public void destroy() {
    }
}
</code></pre><p>This filter makes sure that if the browser hasn't set the encoding used in the request, that it's set to UTF-8. </p><p>The other thing done by this filter is to set the default response encoding ie. the encoding in which the returned html/whatever is. The alternative is to set the response encoding etc. in each controller of the application. </p><p>This filter has to be added to the <b>web.xml</b> or the deployment descriptor of the webapp:</p><pre><code> &lt;!--CharsetFilter start--&gt; 

  &lt;filter&gt;
    &lt;filter-name&gt;CharsetFilter&lt;/filter-name&gt;
    &lt;filter-class&gt;fi.foo.filters.CharsetFilter&lt;/filter-class&gt;
      &lt;init-param&gt;
        &lt;param-name&gt;requestEncoding&lt;/param-name&gt;
        &lt;param-value&gt;UTF-8&lt;/param-value&gt;
      &lt;/init-param&gt;
  &lt;/filter&gt;

  &lt;filter-mapping&gt;
    &lt;filter-name&gt;CharsetFilter&lt;/filter-name&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
  &lt;/filter-mapping&gt;
</code></pre><p>The instructions for making this filter are found at the <a href="http://wiki.apache.org/tomcat/Tomcat/UTF-8" rel="nofollow noreferrer">tomcat wiki (<a href="http://wiki.apache.org/tomcat/Tomcat/UTF-8" rel="nofollow noreferrer">http://wiki.apache.org/tomcat/Tomcat/UTF-8</a>)</a> </p><p>In your <strong>web.xml</strong>, add the following:</p><pre><code>&lt;jsp-config&gt;
    &lt;jsp-property-group&gt;
        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;
        &lt;page-encoding&gt;UTF-8&lt;/page-encoding&gt;
    &lt;/jsp-property-group&gt;
&lt;/jsp-config&gt;
</code></pre><p>Alternatively, all JSP-pages of the webapp would need to have the following at the top of them:</p><pre><code> &lt;%@page pageEncoding="UTF-8" contentType="text/html; charset=UTF-8"%&gt;
</code></pre><p>If some kind of a layout with different JSP-fragments is used, then this is needed in <b>all</b> of them.</p><p>JSP page encoding tells the JVM to handle the characters in the JSP page in the correct encoding.
Then it's time to tell the vrowser in which encoding the html page is:</p><p>This is done with the following at the top of each xhtml page produced by the webapp:</p><pre><code>   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"&gt;
   &lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fi"&gt;
   &lt;head&gt;
   &lt;meta http-equiv='Content-Type' content='text/html; charset=UTF-8' /&gt;
   ...
</code></pre><p>When using a db, it has to be defined that the connection uses UTF-8 encoding. This is done in <b>context.xml</b> or wherever the JDBC connection is defiend as follows: </p><pre><code>      &lt;Resource name="jdbc/AppDB" 
        auth="Container"
        type="javax.sql.DataSource"
        maxActive="20" maxIdle="10" maxWait="10000"
        username="foo"
        password="bar"
        driverClassName="com.mysql.jdbc.Driver" url="jdbc:mysql://localhost:3306/      ID_development?useEncoding=true&amp;amp;characterEncoding=UTF-8"
    /&gt;
</code></pre><p>The used database must use UTF-8 encoding. This is achieved by creating the database with the following:</p><pre><code>   CREATE DATABASE `ID_development` 
   /*!40100 DEFAULT CHARACTER SET utf8 COLLATE utf8_swedish_ci */;
</code></pre><p>Then, all of the tables need to be in UTF-8 also:</p><pre><code>   CREATE TABLE  `Users` (
    `id` int(10) unsigned NOT NULL auto_increment,
    `name` varchar(30) collate utf8_swedish_ci default NULL
    PRIMARY KEY  (`id`)
   ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_swedish_ci ROW_FORMAT=DYNAMIC;
</code></pre><p>The key part being <b>CHARSET=utf8</b>.</p><p>MySQL serveri has to be configured also. Typically this is done in Windows by modifying <b>my.ini</b> -file and in Linux by configuring <b>my.cnf</b> -file.
In those files it should be defined that all clients connected to the server use utf8 as the default character set and that the default charset used by the server is also utf8.</p><pre><code>   [client]
   port=3306
   default-character-set=utf8

   [mysql]
   default-character-set=utf8
</code></pre><p>These also need to have the character set defined. For example:</p><pre><code>   DELIMITER $$

   DROP FUNCTION IF EXISTS `pathToNode` $$
   CREATE FUNCTION `pathToNode` (ryhma_id INT) RETURNS TEXT CHARACTER SET utf8
   READS SQL DATA
   BEGIN

    DECLARE path VARCHAR(255) CHARACTER SET utf8;

   SET path = NULL;

   ...

   RETURN path;

   END $$

   DELIMITER ;
</code></pre><p>If and when it's defined in tomcat's server.xml that GET request parameters are encoded in UTF-8, the following GET requests are handled properly:</p><pre><code>   https://localhost:8443/ID/Users?action=search&amp;name=Petteri
   https://localhost:8443/ID/Users?action=search&amp;name=ж
</code></pre><p>Because ASCII-characters are encoded in the same way both with latin1 and UTF-8, the string "Petteri" is handled correctly.</p><p>The Cyrillic character ж is not understood at all in latin1. Because Tomcat is instructed to handle request parameters as UTF-8 it encodes that character correctly as <b>%D0%B6</b>. </p><p>If and when browsers are instructed to read the pages in UTF-8 encoding (with request headers and html meta-tag), at least Firefox 2/3 and other browsers from this period all encode the character themselves as <b>%D0%B6</b>. </p><p>The end result is that all users with name "Petteri" are found and also all users with the name "ж" are found.</p><p>HTTP-specification defines that by default URLs are encoded as latin1. This results in firefox2, firefox3 etc. encoding the following</p><pre><code>    https://localhost:8443/ID/Users?action=search&amp;name=*Päivi*
</code></pre><p>in to the encoded version</p><pre><code>    https://localhost:8443/ID/Users?action=search&amp;name=*P%E4ivi*
</code></pre><p>In latin1 the character <b>ä</b> is encoded as <b>%E4</b>. <em>Even though the page/request/everything is defined to use UTF-8</em>. The UTF-8 encoded version of ä is <b>%C3%A4</b></p><p>The result of this is that it's quite impossible for the webapp to correly handle the request parameters from GET requests as some characters are encoded in latin1 and others in UTF-8.
<b>Notice: POST requests do work as browsers encode all request parameters from forms completely in UTF-8 if the page is defined as being UTF-8</b></p><p>A very big thank you for the writers of the following for giving the answers for my problem:</p><li> http://tagunov.tripod.com/i18n/i18n.html </li><li> http://wiki.apache.org/tomcat/Tomcat/UTF-8 </li><li> http://java.sun.com/developer/technicalArticles/Intl/HTTPCharset/ </li><li> http://dev.mysql.com/doc/refman/5.0/en/charset-syntax.html </li><li> http://cagan327.blogspot.com/2006/05/utf-8-encoding-fix-tomcat-jsp-etc.html </li><li> http://cagan327.blogspot.com/2006/05/utf-8-encoding-fix-for-mysql-tomcat.html </li><li> http://jeppesn.dk/utf-8.html </li><li> http://www.nabble.com/request-parameters-mishandle-utf-8-encoding-td18720039.html </li><li> http://www.utoronto.ca/webdocs/HTMLdocs/NewHTML/iso_table.html </li><li> http://www.utf8-chartable.de/ </li><p><a class="post-tag" href="/questions/tagged/mysql" rel="tag" title="show questions tagged 'mysql'">mysql</a> supports the <a href="http://en.wikipedia.org/wiki/Plane_%28Unicode%29#Basic_Multilingual_Plane" rel="nofollow noreferrer">Basic Multilingual Plane</a> using 3-byte UTF-8 characters. If you need to go outside of that (certain alphabets require more than 3-bytes of UTF-8), then you either need to use a flavor of <code>VARBINARY</code> column type or use the <a href="http://dev.mysql.com/doc/refman/5.5/en/charset-unicode-utf8mb4.html" rel="nofollow noreferrer"><code>utf8mb4</code> character set</a> (which requires MySQL 5.5.3 or later). Just be aware that using the <code>utf8</code> character set in MySQL won't work 100% of the time.</p><p>One more thing If you are using Apache + Tomcat + mod_JK connector then you also need to do following changes:</p><li>Add URIEncoding="UTF-8" into tomcat server.xml file for 8009 connector, it is used by mod_JK connector. <code>&lt;Connector port="8009" protocol="AJP/1.3" redirectPort="8443" URIEncoding="UTF-8"/&gt;</code></li><li>Goto your apache folder i.e. <code>/etc/httpd/conf</code> and add <code>AddDefaultCharset utf-8</code> in <code>httpd.conf file</code>. <strong>Note:</strong> First check that it is exist or not. If exist you may update it with this line. You can add this line at bottom also.</li></body></html>

===ID===
584e5ab03e2ca51be94fee20
===QUESTION===
Error java.lang.OutOfMemoryError: GC overhead limit exceeded
I get this error message as I execute my JUnit tests: I know what an  OutOfMemoryError  is, but what does GC overhead limit mean? How can I solve this? 
===LINK===
http://stackoverflow.com/questions/1393486/error-java-lang-outofmemoryerror-gc-overhead-limit-exceeded
===KEYWORDS===
outofmemoryerror 
===ANSWER===
420
<html><body><p>This message means that for some reason the garbage collector is taking an excessive amount of time (by default 98% of all CPU time of the process) and recovers very little memory in each run (by default 2% of the heap).</p><p>This effectively means that your program stops doing any progress and is busy running only the garbage collection at all time.</p><p>To prevent your application from soaking up CPU time without getting anything done, the JVM throws this <code>Error</code> so that you have a chance of diagnosing the problem.</p><p>The rare cases where I've seen this happen is where some code was creating tons of temporary objects and tons of weakly-referenced objects in an already very memory-constrained environment.</p><p>Check out <a href="http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html" rel="nofollow noreferrer">this article</a> for details (specifically <a href="http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html#par_gc.oom" rel="nofollow noreferrer">this part</a>).</p></body></html>

===ID===
584e5ab03e2ca51be94fee21
===QUESTION===
Why is super.super.method(); not allowed in Java?
I read  this question  and thought that would easily be solved (not that it isn't solvable without) if one could write:  I'm not sure if it is useful in many cases, but I wonder  why  it isn't and if something like this exists in other languages. What do you guys think? EDIT: 
To clarify: yes I know, that's impossible in Java and I don't really miss it. This is nothing I expected to work and was surprised getting a compiler error. I just had the idea and like to discuss it. 
===LINK===
http://stackoverflow.com/questions/586363/why-is-super-super-method-not-allowed-in-java
===KEYWORDS===
exists 
===ANSWER===
370
<html><body><p>It violates encapsulation. You shouldn't be able to bypass the parent class's behaviour. It makes sense to sometimes be able to bypass your <em>own</em> class's behaviour (particularly from within the same method) but not your parent's. For example, suppose we have a base "collection of items", a subclass representing "a collection of red items" and a subclass of that representing "a collection of big red items". It makes sense to have:</p><pre><code>public class Items
{
    public void add(Item item) { ... }
}

public class RedItems extends Items
{
    @Override
    public void add(Item item)
    {
        if (!item.isRed())
        {
            throw new NotRedItemException();
        }
        super.add(item);
    }
}

public class BigRedItems extends RedItems
{
    @Override
    public void add(Item item)
    {
        if (!item.isBig())
        {
            throw new NotBigItemException();
        }
        super.add(item);
    }
}
</code></pre><p>That's fine - RedItems can always be confident that the items it contains are all red. Now suppose we <em>were</em> able to call super.super.add():</p><pre><code>public class NaughtyItems extends RedItems
{
    @Override
    public void add(Item item)
    {
        // I don't care if it's red or not. Take that, RedItems!
        super.super.add(item);
    }
}
</code></pre><p>Now we could add whatever we like, and the invariant in <code>RedItems</code> is broken.</p><p>Does that make sense?</p></body></html>

===ID===
584e5ab23e2ca51be94fee22
===QUESTION===
What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?
I want to know the difference between the specified error and the exception. What is the reason for getting each of them and any thought process on how to deal with such errors? While working on a project. If we are modifying the existing code to include the new jar file I get to face these exceptions.
Sometimes they will come in client side or server side for a java app distributed through webstart. Possible reasons I have come across: But as of now I am dealing with hit and trial method to get things working. Need more clarity and understanding regarding this. 
===LINK===
http://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn
===KEYWORDS===
exception 
===ANSWER===
325
<html><body><p>The difference from the Java API Specifications is as follows.</p><p>For <a href="http://java.sun.com/javase/6/docs/api/java/lang/ClassNotFoundException.html" rel="nofollow noreferrer"><code>ClassNotFoundException</code></a>:</p><p>Thrown when an application tries to
  load in a class through its string
  name using:</p><li>The <code>forName</code> method in class <code>Class</code>.</li><li>The <code>findSystemClass</code> method in class <code>ClassLoader</code>.</li><li>The <code>loadClass</code> method in class <code>ClassLoader</code>. </li><p>but no definition for the class with
  the specified name could be found.</p><p>For <a href="http://java.sun.com/javase/6/docs/api/java/lang/NoClassDefFoundError.html" rel="nofollow noreferrer"><code>NoClassDefFoundError</code></a>:</p><p>Thrown if the Java Virtual Machine or
  a <code>ClassLoader</code> instance tries to load
  in the definition of a class (as part
  of a normal method call or as part of
  creating a new instance using the new
  expression) and no definition of the
  class could be found.</p><p>The searched-for class definition
  existed when the currently executing
  class was compiled, but the definition
  can no longer be found.</p><p>So, it appears that the <code>NoClassDefFoundError</code> occurs when the source was successfully compiled, but at runtime, the required <code>class</code> files were not found. This may be something that can happen in the distribution or production of JAR files, where not all the required <code>class</code> files were included.</p><p>As for <code>ClassNotFoundException</code>, it appears that it may stem from trying to make reflective calls to classes at runtime, but the classes the program is trying to call is does not exist.</p><p>The difference between the two is that one is an <code>Error</code> and the other is an <code>Exception</code>. With <code>NoClassDefFoundError</code> is an <code>Error</code> and it arises from the Java Virtual Machine having problems finding a class it expected to find. A program that was expected to work at compile-time can't run because of <code>class</code> files not being found, or is not the same as was produced or encountered at compile-time. This is a pretty critical error, as the program cannot be initiated by the JVM.</p><p>On the other hand, the <code>ClassNotFoundException</code> is an <code>Exception</code>, so it is somewhat expected, and is something that is recoverable. Using reflection is can be error-prone (as there is some expectations that things may not go as expected. There is no compile-time check to see that all the required classes exist, so any problems with finding the desired classes will appear at runtime.</p></body></html>

===ID===
584e5ab23e2ca51be94fee23
===QUESTION===
Update Eclipse with Android development tools v. 23
I updated Eclipse with the new SDK tools (rev 23) but now when Eclipse starts I receive the error: This Android SDK requires Android Developer Toolkit version 23.0.0 or above. Current version is 22.6.3.v201404151837-1123206. Please update ADT to the latest version. No updates were found with  "Check for updates" . If I try  "Install new software" , I can see the version 23, but I can't upgrade due to the following error: After download of the last ADT from the web site, it seems there's another problem.
With SDK Tools rev. 23 proguard is not installed, the folder SDK  dir/tools/proguard  is missing and other tools are missing. This version contains several bugs. 
===LINK===
http://stackoverflow.com/questions/24437564/update-eclipse-with-android-development-tools-v-23
===KEYWORDS===
adt 
===ANSWER===
183
<html><body><p><strong>UPDATE</strong>: Google has released ADT v23.0.2. This solved many problems of previous ADT version 23.</p><p>Step-by-step:</p><li>Help -&gt; Install New Software...</li><li>For "Work with", select the Android source <code>https://dl-ssl.google.com/android/eclipse</code>
<img alt="Work with Android source" src="https://i.stack.imgur.com/gkxdA.png"/></li><li>Tick ADT v23.0 for installation, then click "Next"</li><li>Eclipse will show "Install Remediation Page" since there is conflict with previous version. (If it does not, see below.) Select "Update my installation to be compatible with items being installed" to uninstall the old version and install the new one. After that, proceed with the usual steps
<img alt="Install remediation page" src="https://i.stack.imgur.com/CYZHN.png"/></li><p>Note: When I installed the new version of ADT, I didn't include the new version of "Android Native Development Tools" package. Instead, I installed the rest of packages first, and then installed "Android Native Development Tools". For a reason, if I try to install all the new packages including "Android Native Development Tools", the installation fails.</p><p>UPDATE: If there is no "Remediation page", <a href="http://stackoverflow.com/a/9097282/755804">the only way to remove the ADT plugin from Eclipse is to go to <code>Help &gt; About Eclipse &gt; Installation Details</code> and uninstall from there</a> But there is a risk of uninstalling eclipse itself.</p></body></html>

===ID===
584e5ab33e2ca51be94fee24
===QUESTION===
How to send HTTP request in java? [duplicate]
This question already has an answer here: In Java, How to compose a HTTP request message and send it to a HTTP WebServer? 
===LINK===
http://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java
===KEYWORDS===
compose 
===ANSWER===
204
<html><body><p>You can use <a href="http://download.oracle.com/javase/7/docs/api/java/net/HttpURLConnection.html" rel="nofollow noreferrer">java.net.HttpUrlConnection</a>.</p><p>Example (<a href="http://www.xyzws.com/Javafaq/how-to-use-httpurlconnection-post-data-to-web-server/139" rel="nofollow noreferrer">from here</a>), with improvements. Included in case of link rot:</p><pre><code>public static String executePost(String targetURL, String urlParameters) {
  HttpURLConnection connection = null;

  try {
    //Create connection
    URL url = new URL(targetURL);
    connection = (HttpURLConnection) url.openConnection();
    connection.setRequestMethod("POST");
    connection.setRequestProperty("Content-Type", 
        "application/x-www-form-urlencoded");

    connection.setRequestProperty("Content-Length", 
        Integer.toString(urlParameters.getBytes().length));
    connection.setRequestProperty("Content-Language", "en-US");  

    connection.setUseCaches(false);
    connection.setDoOutput(true);

    //Send request
    DataOutputStream wr = new DataOutputStream (
        connection.getOutputStream());
    wr.writeBytes(urlParameters);
    wr.close();

    //Get Response  
    InputStream is = connection.getInputStream();
    BufferedReader rd = new BufferedReader(new InputStreamReader(is));
    StringBuilder response = new StringBuilder(); // or StringBuffer if Java version 5+
    String line;
    while ((line = rd.readLine()) != null) {
      response.append(line);
      response.append('\r');
    }
    rd.close();
    return response.toString();
  } catch (Exception e) {
    e.printStackTrace();
    return null;
  } finally {
    if (connection != null) {
      connection.disconnect();
    }
  }
}
</code></pre></body></html>

===ID===
584e5ab33e2ca51be94fee25
===QUESTION===
Standard concise way to copy a file in Java?
It has always bothered me that the only way to copy a file in Java involves opening streams, declaring a buffer, reading in one file, looping through it, and writing it out to the other steam.  The web is littered with similar, yet still slightly different implementations of this type of solution. Is there a better way that stays within the bounds of the Java language (meaning does not involve exec-ing OS specific commands)?  Perhaps in some reliable open source utility package, that would at least obscure this underlying implementation and provide a one line solution? 
===LINK===
http://stackoverflow.com/questions/106770/standard-concise-way-to-copy-a-file-in-java
===KEYWORDS===
implementations 
===ANSWER===
254
<html><body><p>As toolkit mentions above, Apache Commons IO is the way to go, specifically <a href="https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html" rel="nofollow noreferrer">FileUtils</a>.<a href="https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#copyFile(java.io.File,%20java.io.File)" rel="nofollow noreferrer">copyFile()</a>; it handles all the heavy lifting for you.</p><p>And as a postscript, note that recent versions of FileUtils (such as the 2.0.1 release) have added the use of NIO for copying files; <a href="http://www.javalobby.org/java/forums/t17036.html" rel="nofollow noreferrer">NIO can significantly increase file-copying performance</a>, in a large part because the NIO routines defer copying directly to the OS/filesystem rather than handle it by reading and writing bytes through the Java layer.  So if you're looking for performance, it might be worth checking that you are using a recent version of FileUtils.</p></body></html>

===ID===
584e5ab43e2ca51be94fee26
===QUESTION===
Why does 128==128 return false but 127==127 return true when converting to Integer wrappers?
Output: Output: Note: Numbers between -128 and 127 are true. 
===LINK===
http://stackoverflow.com/questions/1700081/why-does-128-128-return-false-but-127-127-return-true-when-converting-to-integ
===KEYWORDS===
note 
===ANSWER===
142
<html><body><p>When you compile a number literal in Java and assign it to a Integer (capital <code>I</code>) the compiler emits:</p><pre><code>Integer b2 =Integer.valueOf(127)
</code></pre><p>This line of code is also generated when you use autoboxing.</p><p><code>valueOf</code> is implemented such that certain numbers are "pooled", and it returns the same instance for values smaller than 128.</p><p>From the java 1.6 source code, line 621:</p><pre><code>public static Integer valueOf(int i) {
    if(i &gt;= -128 &amp;&amp; i &lt;= IntegerCache.high)
        return IntegerCache.cache[i + 128];
    else
        return new Integer(i);
}
</code></pre><p>The value of <code>high</code> can be configured to another value, with the system property.</p><p>-Djava.lang.Integer.IntegerCache.high=999</p><p>If you run your program with that system property, it will output true!</p><p>The obvious conclusion: never rely on two references being identical, always compare them with <code>.equals()</code> method.</p><p>So <code>b2.equals(b3)</code> will print true for all logically equal values of b2,b3.</p><p>Note that Integer cache is not there for performance reasons, but rather to comform to the <a href="http://java.sun.com/docs/books/jls/third%5Fedition/html/conversions.html#5.1.7" rel="nofollow noreferrer">JLS, section 5.1.7</a>; object identity must be given for values -128 to 127 inclusive.</p><p><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#valueOf%28int%29" rel="nofollow noreferrer">Integer#valueOf(int)</a> also documents this behavior:</p><p>this method is likely to yield significantly better space and time performance by caching frequently requested values. This method will always cache values in the range -128 to 127, inclusive, and may cache other values outside of this range.</p></body></html>

===ID===
584e5ab43e2ca51be94fee27
===QUESTION===
Iterate through a HashMap [duplicate]
Possible Duplicate: 
 How do I iterate over each Entry in a Collection Map?   What's the best way to iterate over the items in a  HashMap ? 
===LINK===
http://stackoverflow.com/questions/1066589/iterate-through-a-hashmap
===KEYWORDS===
iterate 
===ANSWER===
2197
<html><body><p>Iterate through the <a href="http://www.java2s.com/Code/JavaAPI/java.util/HashtableentrySet.htm" rel="nofollow noreferrer"><code>entrySet</code></a> like so:</p><pre><code>public static void printMap(Map mp) {
    Iterator it = mp.entrySet().iterator();
    while (it.hasNext()) {
        Map.Entry pair = (Map.Entry)it.next();
        System.out.println(pair.getKey() + " = " + pair.getValue());
        it.remove(); // avoids a ConcurrentModificationException
    }
}
</code></pre><p>Read more on <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html" rel="nofollow noreferrer"><code>Map</code></a></p></body></html>

===ID===
584e5ab53e2ca51be94fee28
===QUESTION===
Access restriction on class due to restriction on required library rt.jar?
I'm attempting to compile Java 1.4 code that was created by IBM's WSDL2Java on Java5 without recreating the stubs and saw this error in Eclipse. I'm under the assumption that the stubs created should just compile as long as the runtime jars are available (they are). Access restriction: The type QName is not accessible due to restriction on required library C:\Program Files\Java\jdk1.5.0_16\jre\lib\rt.jar The full classname is  javax.xml.namespace.QName What exactly is going on here?  Is this a case where I am trying to refactor a pig from sausage? Am I better off recreating the stubs? 
===LINK===
http://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar
===KEYWORDS===
0_16\jre\lib\rt 
===ANSWER===
1595
<html><body><p>There's another solution that also works. I found it on <a href="http://forums.dzone.com/eclipse/384-access-restriction-problems.html" rel="nofollow noreferrer">this forum</a>: </p><li>Go to the <em>Build Path</em> settings in the project properties.</li><li>Remove the <em>JRE System Library</em></li><li>Add it back; Select <em>"Add Library"</em> and select the <em>JRE System Library</em>. The default worked for me.</li><p>This works because you have multiple classes in different jar files. Removing and re-adding the JRE lib will make the right classes be first.
If you want a fundamental solution make sure you exclude the jar files with the same classes.</p><p>For me I have: <code>javax.xml.soap.SOAPPart</code> in three different jars: <code>axis-saaj-1.4.jar</code>, <code>saaj-api-1.3.jar</code> and the <code>rt.jar</code></p></body></html>

===ID===
584e5ab63e2ca51be94fee29
===QUESTION===
Why don't Java Generics support primitive types?
Why do Generics in Java work with objects but not with primitive types? For example   
===LINK===
http://stackoverflow.com/questions/2721546/why-dont-java-generics-support-primitive-types
===KEYWORDS===
objects 
===ANSWER===
157
<html><body><p>Generics in Java are an entirely compile-time construct - the compiler turns all generic uses into casts to the right type. This is to maintain backwards compatibility with previous JVM runtimes.</p><p>This:</p><pre><code>List&lt;ClassA&gt; list = new ArrayList&lt;ClassA&gt;();
list.add(new ClassA());
ClassA a = list.get(0);
</code></pre><p>gets turned into (roughly):</p><pre><code>List list = new ArrayList();
list.add(new ClassA());
ClassA a = (ClassA)list.get(0);
</code></pre><p>So, anything that is used as generics has to be convertable to Object (in this example <code>get(0)</code> returns an <code>Object</code>), and the primitive types aren't. So they can't be used in generics.</p><p>C# is a separate matter - generics are implemented directly as part of the runtime, so primitive types <em>can</em> be used - the CLR generates new versions of generic classes for primitives and structs as they are used. The only disadvantage is (until .NET 4) no generic covariance or contravariance was allowed, unlike Java (see the <code>super</code> and <code>extends</code> keywords in generic definitions)</p></body></html>

===ID===
584e5ab63e2ca51be94fee2a
===QUESTION===
Difference between StringBuilder and StringBuffer
What is the main difference between  StringBuffer  and  StringBuilder ?
Is there any performance issues when deciding on any one of these? 
===LINK===
http://stackoverflow.com/questions/355089/difference-between-stringbuilder-and-stringbuffer
===KEYWORDS===
deciding 
===ANSWER===
1057
<html><body><p><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuffer.html" rel="nofollow noreferrer"><code>StringBuffer</code></a> is synchronized, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html" rel="nofollow noreferrer"><code>StringBuilder</code></a> is not. </p></body></html>

===ID===
584e5ab73e2ca51be94fee2b
===QUESTION===
How do I time a method's execution in Java?
How do I get a method's execution time?  Is there a Timer utility class for things like timing how long a task takes, etc?   Most of the searches on Google return results for timers that schedule threads and tasks, which is not what I want. 
===LINK===
http://stackoverflow.com/questions/180158/how-do-i-time-a-methods-execution-in-java
===KEYWORDS===
searches 
===ANSWER===
693
<html><body><p>There is always the old-fashioned way:</p><pre><code>long startTime = System.nanoTime();
methodToTime();
long endTime = System.nanoTime();

long duration = (endTime - startTime);  //divide by 1000000 to get milliseconds.
</code></pre></body></html>

===ID===
584e5ab83e2ca51be94fee2c
===QUESTION===
How do I set environment variables from Java?
How do I set environment variables from Java?  I see that I can do this for subprocesses using  ProcessBuilder .  I have several subprocesses to start, though, so I'd rather modify the current process's environment and let the subprocesses inherit it. There's a System.getenv(String) for getting a single environment variable.  I can also get a Map of the complete set of environment variables with System.getenv().  But calling put() on that Map throws an UnsupportedOperationException -- apparently they mean for the environment to be read only.  And there's no System.setenv(). So, is there any way to set environment variables in the currently running process?  If so, how?  If not, what's the rationale?  (Is it because this is Java and therefore I shouldn't be doing evil nonportable obsolete things like touching my environment?)  And if not, any good suggestions for managing the environment variable changes that I'm going to need to be feeding to several subprocesses? 
===LINK===
http://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java
===KEYWORDS===
subprocesses 
===ANSWER===
53
<html><body><p>(Is it because this is Java and therefore I shouldn't be doing evil nonportable obsolete things like touching my environment?)</p><p>I think you've hit the nail on the head.</p><p>A possible way to ease the burden would be to factor out a method</p><pre><code>void setUpEnvironment(ProcessBuilder builder) {
    Map&lt;String, String&gt; env = builder.environment();
    // blah blah
}
</code></pre><p>and pass any <code>ProcessBuilder</code>s through it before starting them.</p><p>Also, you probably already know this, but you can start more than one process with the same <code>ProcessBuilder</code>. So if your subprocesses are the same, you don't need to do this setup over and over.</p></body></html>

===ID===
584e5ab93e2ca51be94fee2d
===QUESTION===
How to use the toString method in Java?
Can anybody explain to me the concept of the  toString()  method, defined in the  Object  class? How is it used, and what is its purpose? 
===LINK===
http://stackoverflow.com/questions/3615721/how-to-use-the-tostring-method-in-java
===KEYWORDS===
concept 
===ANSWER===
58
<html><body><p>From the <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#toString%28%29" rel="nofollow noreferrer">Object.toString()</a> docs:</p><p>Returns a string representation of the
  object. In general, the toString
  method returns a string that
  "textually represents" this object.
  The result should be a concise but
  informative representation that is
  easy for a person to read. It is
  recommended that all subclasses
  override this method. </p><p>The toString method for class Object
  returns a string consisting of the
  name of the class of which the object
  is an instance, the at-sign character
  `@', and the unsigned hexadecimal
  representation of the hash code of the
  object. In other words, this method
  returns a string equal to the value
  of:</p><pre><code>getClass().getName() + '@' + Integer.toHexString(hashCode())
</code></pre><p>Example:</p><pre><code>String[] mystr ={"a","b","c"};
System.out.println("mystr.toString: " + mystr.toString());

output:- mystr.toString: [Ljava.lang.String;@13aaa14a
</code></pre></body></html>

===ID===
584e5ab93e2ca51be94fee2e
===QUESTION===
How do getters and setters work?
I'm from the php world. Could you explain what getters and setters are and could give you some examples? 
===LINK===
http://stackoverflow.com/questions/2036970/how-do-getters-and-setters-work
===KEYWORDS===
explain 
===ANSWER===
79
<html><body><p>Tutorial is not really required for this. Read up on <a href="http://en.wikipedia.org/wiki/Encapsulation_(object-oriented_programming)" rel="nofollow noreferrer">encapsulation</a></p><pre><code>private String myField; //"private" means access to this is restricted

public String getMyField()
{
     //include validation, logic, logging or whatever you like here
    return this.myField;
}
public void setMyField(String value)
{
     //include more logic
     this.myField = value;
}
</code></pre></body></html>

===ID===
584e5abb3e2ca51be94fee2f
===QUESTION===
When would you use the Builder Pattern? [closed]
What are some  common ,  real world examples  of using the Builder Pattern?  What does it buy you?  Why not just use a Factory Pattern? 
===LINK===
http://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern
===KEYWORDS===
buy 
===ANSWER===
186
<html><body><p>The key difference between a builder and factory IMHO, is that a builder is useful when you need to do lots of things to build an object. For example imagine a DOM. You have to create plenty of nodes and attributes to get your final object. A factory is used when the factory can easily create the entire object within one method call.</p><p>One example of using a builder is a building an XML document, I've used this model when building HTML fragments for example I might have a Builder for building a specific type of table and it might have the following methods <strong>(parameters are not shown)</strong>:</p><pre><code>BuildOrderHeaderRow()
BuildLineItemSubHeaderRow()
BuildOrderRow()
BuildLineItemSubRow()
</code></pre><p>This builder would then spit out the HTML for me. This is much easier to read then walking through a large procedural method.</p><p>Check out <a href="http://en.wikipedia.org/wiki/Builder_pattern" rel="nofollow noreferrer">Builder Pattern on Wikipedia</a>.</p></body></html>

===ID===
584e5abb3e2ca51be94fee30
===QUESTION===
What's the difference between “.equals” and “==”? [duplicate]
This question already has an answer here: I switched lecturers today and he stated using a weird code to me. (He said it's better to use  .equals  and when I asked why, he answered "because it is!") So here's an example: Instead of what I'm used to: What's the difference between the two. And why is his way (using  .equals ) better? Found this  on a quick search but I can't really make sense of that answer: 
===LINK===
http://stackoverflow.com/questions/1643067/whats-the-difference-between-equals-and
===KEYWORDS===
equals” 
===ANSWER===
103
<html><body><p>In Java, <code>==</code> always just compares two references (for non-primitives, that is) - i.e. it tests whether the two operands refer to the same object.</p><p>However, the <code>equals</code> method can be overridden - so two distinct objects can still be equal.</p><p>For example:</p><pre><code>String x = "hello";
String y = new String(new char[] { 'h', 'e', 'l', 'l', 'o' });

System.out.println(x == y); // false
System.out.println(x.equals(y)); // true
</code></pre><p>Additionally, it's worth being aware that any two equal <em>string constants</em> (primarily string literals, but also combinations of string constants via concatenation) will end up referring to the same string. For example:</p><pre><code>String x = "hello";
String y = "he" + "llo";
System.out.println(x == y); // true!
</code></pre><p>Here <code>x</code> and <code>y</code> are references to the same string, because <code>y</code> is a compile-time constant equal to <code>"hello"</code>.</p></body></html>

===ID===
584e5abc3e2ca51be94fee31
===QUESTION===
calling non-static method in static method in Java
I'm getting an error when I try to call a non-static method in a static class. Cannot make a static reference to the non-static method methodName() from the type playback I can't make the method static as this gives me an error too. This static method cannot hide the instance method from xInterface Is there any way to get round calling an non-static method in another static method? (The two methods are in seperate packages and seperate classes). 
===LINK===
http://stackoverflow.com/questions/2042813/calling-non-static-method-in-static-method-in-java
===KEYWORDS===
hide 
===ANSWER===
84
<html><body><p>The only way to call a non-static method from a static method is to have an instance of the class containing the non-static method.  By definition, a non-static method is one that is called ON an instance of some class, whereas a static method belongs to the class itself.</p></body></html>

===ID===
584e5abc3e2ca51be94fee32
===QUESTION===
How can I update a JFreeChart's appearance after it's been made visible?
How can I use  JFreeChart  to dynamically update a chart's appearance  after  it's been made visible? 
===LINK===
http://stackoverflow.com/questions/5522575/how-can-i-update-a-jfreecharts-appearance-after-its-been-made-visible
===KEYWORDS===
appearance 
===ANSWER===
24
<html><body><p>The class <a href="http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html" rel="nofollow noreferrer"><code>ChartPanel</code></a> is convenient for this, as it has methods to control the chart's overall appearance, including properties and zoom state. In addition it's also possible to access the chart's components, as shown below.</p><p><img alt="ChartPanelDemo" src="https://i.stack.imgur.com/Q4B6C.png"/></p><pre><code>import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.text.NumberFormat;
import javax.swing.AbstractAction;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JPanel;
import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartPanel;
import org.jfree.chart.JFreeChart;
import org.jfree.chart.axis.DateAxis;
import org.jfree.chart.axis.NumberAxis;
import org.jfree.chart.plot.XYPlot;
import org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;
import org.jfree.data.time.TimeSeries;
import org.jfree.data.time.TimeSeriesCollection;
import org.jfree.data.time.Year;
import org.jfree.data.xy.XYDataset;

/** @see http://stackoverflow.com/questions/5522575 */
public class ChartPanelDemo {

    private static final String title = "Return On Investment";
    private ChartPanel chartPanel = createChart();

    public ChartPanelDemo() {
        JFrame f = new JFrame(title);
        f.setTitle(title);
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.setLayout(new BorderLayout(0, 5));
        f.add(chartPanel, BorderLayout.CENTER);
        chartPanel.setMouseWheelEnabled(true);
        chartPanel.setHorizontalAxisTrace(true);
        chartPanel.setVerticalAxisTrace(true);

        JPanel panel = new JPanel(new FlowLayout(FlowLayout.RIGHT));
        panel.add(createTrace());
        panel.add(createDate());
        panel.add(createZoom());
        f.add(panel, BorderLayout.SOUTH);
        f.pack();
        f.setLocationRelativeTo(null);
        f.setVisible(true);
    }

    private JComboBox createTrace() {
        final JComboBox trace = new JComboBox();
        final String[] traceCmds = {"Enable Trace", "Disable Trace"};
        trace.setModel(new DefaultComboBoxModel(traceCmds));
        trace.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                if (traceCmds[0].equals(trace.getSelectedItem())) {
                    chartPanel.setHorizontalAxisTrace(true);
                    chartPanel.setVerticalAxisTrace(true);
                    chartPanel.repaint();
                } else {
                    chartPanel.setHorizontalAxisTrace(false);
                    chartPanel.setVerticalAxisTrace(false);
                    chartPanel.repaint();
                }
            }
        });
        return trace;
    }

    private JComboBox createDate() {
        final JComboBox date = new JComboBox();
        final String[] dateCmds = {"Horizontal Dates", "Vertical Dates"};
        date.setModel(new DefaultComboBoxModel(dateCmds));
        date.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                JFreeChart chart = chartPanel.getChart();
                XYPlot plot = (XYPlot) chart.getPlot();
                DateAxis domain = (DateAxis) plot.getDomainAxis();
                if (dateCmds[0].equals(date.getSelectedItem())) {
                    domain.setVerticalTickLabels(false);
                } else {
                    domain.setVerticalTickLabels(true);
                }
            }
        });
        return date;
    }

    private JButton createZoom() {
        final JButton auto = new JButton(new AbstractAction("Auto Zoom") {

            @Override
            public void actionPerformed(ActionEvent e) {
                chartPanel.restoreAutoBounds();
            }
        });
        return auto;
    }

    private ChartPanel createChart() {
        XYDataset roiData = createDataset();
        JFreeChart chart = ChartFactory.createTimeSeriesChart(
            title, "Date", "Value", roiData, true, true, false);
        XYPlot plot = chart.getXYPlot();
        XYLineAndShapeRenderer renderer =
            (XYLineAndShapeRenderer) plot.getRenderer();
        renderer.setBaseShapesVisible(true);
        NumberFormat currency = NumberFormat.getCurrencyInstance();
        currency.setMaximumFractionDigits(0);
        NumberAxis rangeAxis = (NumberAxis) plot.getRangeAxis();
        rangeAxis.setNumberFormatOverride(currency);
        return new ChartPanel(chart);
    }

    private XYDataset createDataset() {
        TimeSeriesCollection tsc = new TimeSeriesCollection();
        tsc.addSeries(createSeries("Projected", 200));
        tsc.addSeries(createSeries("Actual", 100));
        return tsc;
    }

    private TimeSeries createSeries(String name, double scale) {
        TimeSeries series = new TimeSeries(name);
        for (int i = 0; i &lt; 6; i++) {
            series.add(new Year(2005 + i), Math.pow(2, i) * scale);
        }
        return series;
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                ChartPanelDemo cpd = new ChartPanelDemo();
            }
        });
    }
}
</code></pre></body></html>

===ID===
584e5abd3e2ca51be94fee33
===QUESTION===
Efficiency of Java “Double Brace Initialization”?
In  Hidden Features of Java  the top answer mentions  Double Brace Initialization , with a  very  enticing syntax: This idiom creates an anonymous inner class with just an instance initializer in it, which "can use any [...] methods in the containing scope".   Main question: Is this as  inefficient  as it sounds?  Should its use be limited to one-off initializations?  (And of course showing off!) Second question: The new HashSet must be the "this" used in the instance initializer ... can anyone shed light on the mechanism?   Third question: Is this idiom too  obscure  to use in production code? Summary:  Very, very nice answers, thanks everyone. On question (3), people felt the syntax should be clear (though I'd recommend an occasional comment, especially if your code will pass on to developers who may not be familiar with it).   On question (1), the generated code should run quickly. The extra .class files do cause jar file clutter, and slow program startup slightly (thanks to @coobird for measuring that). @Thilo pointed out that garbage collection can be affected, and the memory cost for the extra loaded classes may be a factor in some cases.   Question (2) turned out to be most interesting to me. If I understand the answers, what's happening in DBI is that the anonymous inner class extends the class of the object being constructed by the new operator, and hence has a "this" value referencing the instance being constructed. Very neat. Overall, DBI strikes me as something of an intellectual curiousity.  Coobird and others point out you can achieve the same effect with Arrays.asList, varargs methods, Google Collections, and the proposed Java 7 Collection literals.  Newer JVM languages like Scala, JRuby, and Groovy also offer concise notations for list construction, and interoperate well with Java.  Given that DBI clutters up the classpath, slows down class loading a bit, and makes the code a tad more obscure, I'd probably shy away from it. However, I plan to spring this on a friend who's just gotten his SCJP and loves good natured jousts about Java semantics!  ;-)  Thanks everyone! 
===LINK===
http://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization
===KEYWORDS===
dbi 
===ANSWER===
435
<html><body><p>Here's the problem when I get too carried away with anonymous inner classes:</p><pre><code>2009/05/27  16:35             1,602 DemoApp2$1.class
2009/05/27  16:35             1,976 DemoApp2$10.class
2009/05/27  16:35             1,919 DemoApp2$11.class
2009/05/27  16:35             2,404 DemoApp2$12.class
2009/05/27  16:35             1,197 DemoApp2$13.class

/* snip */

2009/05/27  16:35             1,953 DemoApp2$30.class
2009/05/27  16:35             1,910 DemoApp2$31.class
2009/05/27  16:35             2,007 DemoApp2$32.class
2009/05/27  16:35               926 DemoApp2$33$1$1.class
2009/05/27  16:35             4,104 DemoApp2$33$1.class
2009/05/27  16:35             2,849 DemoApp2$33.class
2009/05/27  16:35               926 DemoApp2$34$1$1.class
2009/05/27  16:35             4,234 DemoApp2$34$1.class
2009/05/27  16:35             2,849 DemoApp2$34.class

/* snip */

2009/05/27  16:35               614 DemoApp2$40.class
2009/05/27  16:35             2,344 DemoApp2$5.class
2009/05/27  16:35             1,551 DemoApp2$6.class
2009/05/27  16:35             1,604 DemoApp2$7.class
2009/05/27  16:35             1,809 DemoApp2$8.class
2009/05/27  16:35             2,022 DemoApp2$9.class
</code></pre><p>These are all classes which were generated when I was making a simple application, and used copious amounts of anonymous inner classes -- each class will be compiled into a separate <code>class</code> file.</p><p>The "double brace initialization", as already mentioned, is an anonymous inner class with a instance initialization block, which means that a new class is created for each "initialization", all for the purpose of usually making a single object.</p><p>Considering that the Java Virtual Machine will need to read all those classes when using them, that can lead to some time in the <a href="http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#88597" rel="nofollow noreferrer">bytecode verfication</a> process and such. Not to mention the increase in the needed disk space in order to store all those <code>class</code> files.</p><p>It seems as if there is a bit of overhead when utilizing double-brace initialization, so it's probably not such a good idea to go too overboard with it. But as Eddie has noted in the comments, it's not possible to be absolutely sure of the impact.</p><p>Just for reference, double brace initialization is the following:</p><pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;() {{
    add("Hello");
    add("World!");
}};
</code></pre><p>It looks like a "hidden" feature of Java, but it is just a rewrite of:</p><pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;() {

    // Instance initialization block
    {
        add("Hello");
        add("World!");
    }
};
</code></pre><p>So it's basically a <a href="http://java.sun.com/docs/books/tutorial/java/javaOO/initial.html" rel="nofollow noreferrer">instance initialization block</a> that is part of an <a href="http://java.sun.com/docs/books/tutorial/java/javaOO/innerclasses.html" rel="nofollow noreferrer">anonymous inner class</a>.</p><p>Joshua Bloch's <a href="http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/001193.html" rel="nofollow noreferrer">Collection Literals proposal</a> for <a href="http://openjdk.java.net/projects/coin/" rel="nofollow noreferrer">Project Coin</a> was along the lines of:</p><pre><code>List&lt;Integer&gt; intList = [1, 2, 3, 4];

Set&lt;String&gt; strSet = {"Apple", "Banana", "Cactus"};

Map&lt;String, Integer&gt; truthMap = { "answer" : 42 };
</code></pre><p>Sadly, it <a href="http://mail.openjdk.java.net/pipermail/lambda-dev/2014-March/011938.html" rel="nofollow noreferrer">didn't make its way</a> into neither Java 7 nor 8 and was shelved indefinitely.</p><p><strong>Experiment</strong></p><p>Here's the simple experiment I've tested -- make 1000 <code>ArrayList</code>s with the elements <code>"Hello"</code> and <code>"World!"</code> added to them via the <code>add</code> method, using the two methods:</p><p><em>Method 1: Double Brace Initialization</em></p><pre><code>List&lt;String&gt; l = new ArrayList&lt;String&gt;() {{
  add("Hello");
  add("World!");
}};
</code></pre><p><em>Method 2: Instantiate an <code>ArrayList</code> and <code>add</code></em></p><pre><code>List&lt;String&gt; l = new ArrayList&lt;String&gt;();
l.add("Hello");
l.add("World!");
</code></pre><p>I created a simple program to write out a Java source file to perform 1000 initializations using the two methods:</p><p><em>Test 1:</em></p><pre><code>class Test1 {
  public static void main(String[] s) {
    long st = System.currentTimeMillis();

    List&lt;String&gt; l0 = new ArrayList&lt;String&gt;() {{
      add("Hello");
      add("World!");
    }};

    List&lt;String&gt; l1 = new ArrayList&lt;String&gt;() {{
      add("Hello");
      add("World!");
    }};

    /* snip */

    List&lt;String&gt; l999 = new ArrayList&lt;String&gt;() {{
      add("Hello");
      add("World!");
    }};

    System.out.println(System.currentTimeMillis() - st);
  }
}
</code></pre><p><em>Test 2:</em></p><pre><code>class Test2 {
  public static void main(String[] s) {
    long st = System.currentTimeMillis();

    List&lt;String&gt; l0 = new ArrayList&lt;String&gt;();
    l0.add("Hello");
    l0.add("World!");

    List&lt;String&gt; l1 = new ArrayList&lt;String&gt;();
    l1.add("Hello");
    l1.add("World!");

    /* snip */

    List&lt;String&gt; l999 = new ArrayList&lt;String&gt;();
    l999.add("Hello");
    l999.add("World!");

    System.out.println(System.currentTimeMillis() - st);
  }
}
</code></pre><p>Please note, that the elapsed time to initialize the 1000 <code>ArrayList</code>s and the 1000 anonymous inner classes extending <code>ArrayList</code> is checked using the <code>System.currentTimeMillis</code>, so the timer does not have a very high resolution. On my Windows system, the resolution is around 15-16 milliseconds.</p><p>The results for 10 runs of the two tests were the following:</p><pre><code>Test1 Times (ms)           Test2 Times (ms)
----------------           ----------------
           187                          0
           203                          0
           203                          0
           188                          0
           188                          0
           187                          0
           203                          0
           188                          0
           188                          0
           203                          0
</code></pre><p>As can be seen, the double brace initialization has a noticeable execution time of around 190 ms.</p><p>Meanwhile, the <code>ArrayList</code> initialization execution time came out to be 0 ms. Of course, the timer resolution should be taken into account, but it is likely to be under 15 ms.</p><p>So, there seems to be a noticeable difference in the execution time of the two methods. It does appear that there is indeed some overhead in the two initialization methods.</p><p>And yes, there were 1000 <code>.class</code> files generated by compiling the <code>Test1</code> double brace initialization test program.</p></body></html>

===ID===
584e5abe3e2ca51be94fee34
===QUESTION===
Official reasons for “Software caused connection abort: socket write error”
Given this stack trace snippet Caused by: java.net.SocketException:
  Software caused connection abort:
  socket write error   at
  java.net.SocketOutputStream.socketWrite0(Native
  Method) I tried to answer the following questions: Regarding #1:   Sun's JVM source doesn't contain this exact message, but I think the text  Software caused connection abort: socket write error  is from the native implementation of  SocketOutputStream : Regarding #2 My guess is that it is caused when the client has terminated the connection, before getting the full response (e.g. sent a request, but before getting the full response, it got closed / terminated / offline) Questions: I need to have a proof that this stack trace is the socket client's "fault", and there is nothing that the server could have done to avoid it. (except catching the exception, or using a non Sun JVM SocketOutputStream, though both don't really avoid the fact the client has terminated) 
===LINK===
http://stackoverflow.com/questions/2126607/official-reasons-for-software-caused-connection-abort-socket-write-error
===KEYWORDS===
socketoutputstream 
===ANSWER===
42
<html><body><p>"This error can occur when the local network system aborts a connection, such as when WinSock closes an established connection after data retransmission fails (receiver never acknowledges data sent on a datastream socket).". See <a href="http://msdn.microsoft.com/en-us/library/ms832256.aspx">this MSDN article</a>. See also <a href="http://forums.oracle.com/forums/thread.jspa?threadID=1689330">Some information about 'Software caused connection abort'</a>.</p></body></html>

===ID===
584e5abf3e2ca51be94fee35
===QUESTION===
How do I “decompile” Java class files? [closed]
What program can I use to decompile a class file? Will I actually get Java code, or is it just JVM assembly code? On Java performance questions on this site I often see responses from people who have "decompiled" the Java class file to see how the compiler optimizes certain things. 
===LINK===
http://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files
===KEYWORDS===
decompile 
===ANSWER===
526
<html><body><p>Update February 2016:</p><p><a href="http://www.javadecompilers.com/" rel="nofollow noreferrer">www.javadecompilers.com</a> lists JAD as being:</p><p>the most popular Java decompiler, but primarily of this age only. Written in C++, so very fast.<br>
  Outdated, unsupported and does not decompile correctly Java 5 and later</br></p><p>So your mileage may vary with recent jdk (7, 8).</p><p>The same site list other tools.</p><p>Original answer: Oct. 2008</p><li>The final release of JSR 176, defining the major features of J2SE 5.0 (Java SE 5), has been published on September 30, 2004.</li><li>The lastest Java version supported by JAD, the famous Java decompiler written by Mr. Pavel Kouznetsov, is <strong><a href="http://varaneckas.com/jad/" rel="nofollow noreferrer">JDK 1.3</a></strong>.</li><li>Most of the Java decompilers downloadable today from the Internet, such as “DJ Java Decompiler” or “Cavaj Java Decompiler”, are powered by JAD: they can not display Java 5 sources.</li><p><a href="http://jd.benow.ca/" rel="nofollow noreferrer">Java Decompiler</a> (Yet another Fast Java decompiler) has:</p><li>Explicit support for decompiling and analyzing <strong>Java 5+</strong> “.class” files.</li><li>A nice GUI:</li><p><img alt="screenshot" src="https://i.stack.imgur.com/jH9Pd.png"/></p><p>It works with compilers from JDK 1.1.8 up to JDK 1.7.0, and others (<a href="https://en.wikipedia.org/wiki/Jikes" rel="nofollow noreferrer">Jikes</a>, <a href="https://en.wikipedia.org/wiki/JRockit" rel="nofollow noreferrer">JRockit</a>, etc.). </p><p>It features an online <a href="http://jd.benow.ca/#jd-online" rel="nofollow noreferrer">live demo version</a> that is actually fully functional! You can just drop a jar file on the page and see the decompiled source code without installing anything.</p></body></html>

===ID===
584e5ac03e2ca51be94fee36
===QUESTION===
Java Timer vs ExecutorService?
I have code where I schedule a task using  java.util.timer . I was looking around and saw  ExecutorService  can do the same. So this question here, have you used Timer and  ExecutorService  to schedule tasks, what is the benefit of one using over another? Also wanted to check if anyone had used the  Timer  class and ran into any issues which the  ExecutorService  solved for them. 
===LINK===
http://stackoverflow.com/questions/409932/java-timer-vs-executorservice
===KEYWORDS===
task 
===ANSWER===
219
<html><body><p>According to <a href="http://jcip.net/" rel="nofollow noreferrer">Java Concurrency in Practice</a>:</p><li><code>Timer</code> can be sensitive to changes in the system clock, <code>ScheduledThreadPoolExecutor</code> isn't.</li><li><code>Timer</code> has only one execution thread, so long-running task can delay other tasks. <code>ScheduledThreadPoolExecutor</code> can be configured with any number of threads. Furthermore, you have full control over created threads, if you want (by providing <code>ThreadFactory</code>).</li><li>Runtime exceptions thrown in <code>TimerTask</code> kill that one thread, thus making <code>Timer</code> dead :-( ... i.e. scheduled tasks will not run anymore. <code>ScheduledThreadExecutor</code> not only catches runtime exceptions, but it lets you handle them if you want (by overriding <code>afterExecute</code> method from <code>ThreadPoolExecutor</code>). Task which threw exception will be canceled, but other tasks will continue to run.</li><p>If you can use <code>ScheduledThreadExecutor</code> instead of <code>Timer</code>, do so.</p><p>One more thing... while <code>ScheduledThreadExecutor</code> isn't available in Java 1.4 library, there is a <a href="http://backport-jsr166.sourceforge.net/" rel="nofollow noreferrer">Backport of JSR 166 (<code>java.util.concurrent</code>) to Java 1.2, 1.3, 1.4</a>, which has the <code>ScheduledThreadExecutor</code> class.</p></body></html>

===ID===
584e5ac13e2ca51be94fee37
===QUESTION===
How to set java_home on Windows 7?
I went to the Environment Variables in 'System' in the control panel and made two new variables, one for user variables and one for system variables. Both were named JAVA_HOME and both pointing to C:\Sun\SDK\jdk\bin But for some reason, I still get the below error when running a Java command... How can I fix this problem? 
===LINK===
http://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7
===KEYWORDS===
\sun\sdk\jdk\bin 
===ANSWER===
533
<html><body><p><strong>Find JDK Installation Directory</strong></p><p>First you need to know the installation path for the Java Development Kit.</p><p>Open the default installation path for the JDK:</p><pre><code>C:\Program Files\Java
</code></pre><p>There should be a subdirectory like:</p><pre><code>C:\Program Files\Java\jdk1.6.0_10
</code></pre><p><strong>Note:</strong> one has only to put the path to the jdk without /bin in the end (as suggested on a lot of places). e.g. C:\Java\jdk1.6.0_31 and NOT C:\Java\jdk1.6.0_31\bin !</p><p><strong>Set the JAVA_HOME Variable</strong></p><p>Once you have the JDK installation path:</p><li>Right-click the <strong>My Computer</strong> icon on your desktop and select <strong>Properties</strong>.</li><li>Click the <strong>Advanced</strong> tab, then click the <strong>Environment Variables</strong> button.</li><li>Under <strong>System Variables</strong>, click New. </li><li>Enter the variable name as <strong>JAVA_HOME</strong>.</li><li>Enter the variable value as the installation path for the Java Development Kit. </li><li>Click <strong>OK</strong>. </li><li>Click <strong>Apply Changes</strong>.</li><p><strong>Note:</strong> You might need to restart Windows</p><p>The complete article is here, on my blog: <a href="http://www.robertsindall.co.uk/blog/setting-java-home-variable-in-windows/" rel="nofollow">Setting JAVA_HOME Variable in Windows</a>.</p><p>Get <a href="https://www.youtube.com/watch?v=GR1mUi5HSBU" rel="nofollow">Video Solution</a>.</p></body></html>

===ID===
584e5ac13e2ca51be94fee38
===QUESTION===
System.currentTimeMillis vs System.nanoTime
What I would like to know is whether I should use  System.currentTimeMillis()  or  System.nanoTime()  when updating my object's positions in my game?  Their change in movement is directly proportional to the elapsed time since the last call and I want to be as precise as possible. I've read that there are some serious time-resolution issues between different operating systems (namely that Mac / Linux have an almost 1 ms resolution while Windows has a  50ms resolution??).  I'm primarly running my apps on windows and 50ms resolution seems pretty inaccurate. Are there better options than the two I listed? Any suggestions / comments? 
===LINK===
http://stackoverflow.com/questions/351565/system-currenttimemillis-vs-system-nanotime
===KEYWORDS===
precise 
===ANSWER===
213
<html><body><p>If you're just looking for extremely precise measurements of <strong>elapsed time</strong>, use <code>System.nanoTime()</code>. <code>System.currentTimeMillis()</code> will give you the most accurate possible elapsed time in milliseconds since the epoch, but <code>System.nanoTime()</code> gives you a nanosecond-precise time, relative to some arbitrary point.</p><p>From the Java Documentation:</p><pre><code>public static long nanoTime()
</code></pre><p>Returns the current value of the most precise available system timer, in nanoseconds.</p><p>This method can only be used to
  measure elapsed time and is not
  related to any  other notion of system
  or wall-clock time. The value returned
  represents nanoseconds since some
  fixed but arbitrary time (perhaps in
  the future, so values may be
  negative). This method provides
  nanosecond precision, but not
  necessarily nanosecond accuracy. No
  guarantees are made about how
  frequently values change. Differences
  in successive calls that span greater
  than approximately 292 years (2<sup>63</sup>
  nanoseconds) will not accurately
  compute elapsed time due to numerical
  overflow.</p><p>For example, to measure how long some code takes to execute:</p><pre><code>long startTime = System.nanoTime();    
// ... the code being measured ...    
long estimatedTime = System.nanoTime() - startTime;
</code></pre><p>See also: <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/System.html#nanoTime%28%29" rel="nofollow noreferrer">JavaDoc System.nanoTime()</a> and <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/System.html#currentTimeMillis%28%29" rel="nofollow noreferrer">JavaDoc System.currentTimeMillis()</a> for more info.</p></body></html>

===ID===
584e5ac23e2ca51be94fee39
===QUESTION===
Static initializer in Java
My question is about one particular usage of static keyword. It is possible to use  static  keyword to cover a code block within a class which does not belong to any function. For example following code compiles: If you remove the  static  keyword it complains because the variable  a  is  final . However it is possible to remove both  final  and  static  keywords and make it compile.  It is confusing for me in both ways. How am I supposed to have a code section that does not belong to any method? How is it possible to invoke it? In general, what is the purpose of this usage? Or better, where can I find documentation about this? 
===LINK===
http://stackoverflow.com/questions/335311/static-initializer-in-java
===KEYWORDS===
function 
===ANSWER===
242
<html><body><p>The code block with the static modifier signifies a <em>class</em> initializer; without the static modifier the code block is an <em>instance</em> initializer.  </p><p>Class initializers are executed in the order they are defined (top down, just like simple variable initializers) when the class is loaded (actually, when it's resolved, but that's a technicality).</p><p>Instance initializers are executed in the order defined when the class is instantiated, immediately before the constructor code is executed, immediately after the invocation of the super constructor.</p><p>If you remove <code>static</code> from <code>int a</code>, it becomes an instance variable which is not initialized at construction.  If you also remove <code>static</code> from the initializer block, it then becomes an instance initializer and so <code>int a</code> is initialized at construction.</p></body></html>

===ID===
584e5ac23e2ca51be94fee3a
===QUESTION===
CSV API for Java [closed]
Can anyone recommend a simple API that will allow me to use read a CSV input file, do some simple transformations, and then write it. A quick google has found  http://flatpack.sourceforge.net/  which looks promising. I just wanted to check what others are using before I couple myself to this API. 
===LINK===
http://stackoverflow.com/questions/101100/csv-api-for-java
===KEYWORDS===
net/ 
===ANSWER===
73
<html><body><p>I've used <a href="http://opencsv.sourceforge.net/" rel="nofollow noreferrer">OpenCSV</a> in the past. </p><pre><code>import au.com.bytecode.opencsv.CSVReader;</code></pre><p><pre>String fileName = "data.csv";
CSVReader reader = new CSVReader(new FileReader(fileName ));</pre></p><pre>String fileName = "data.csv";
CSVReader reader = new CSVReader(new FileReader(fileName ));</pre><p>// if the first line is the header
String[] header = reader.readNext();<br>
// iterate over reader.readNext until it returns null
String[] line = reader.readNext();
</br></p></body></html>

===ID===
584e5ac23e2ca51be94fee3b
===QUESTION===
What is the difference between a variable, object, and reference? [duplicate]
This question already has an answer here: Exactly what are the differences between  variables ,  objects , and  references ? For example: they all point to some type, and they must all hold values (unless of course you have the temporary null-able type), but precisely how are their functions and implementations different from each other? Example: They have the same concepts, but how are they different? 
===LINK===
http://stackoverflow.com/questions/32010172/what-is-the-difference-between-a-variable-object-and-reference
===KEYWORDS===
functions 
===ANSWER===
129
<html><body><p>(Just to be clear, the explanation I'm giving here is specific to Java and C#. Don't assume it applies to other languages, although bits of it may.)</p><p>I like to use an analogy of telling someone where I live. I might write my address on a piece of paper:</p><li>A variable is like a piece of paper. It holds a value, but it isn't the value in itself. You can cross out whatever's there and write something else instead.</li><li>The address that I write on the piece of paper is like a reference. It isn't my house, but it's a way of <em>navigating</em> to my house.</li><li>My house itself is like an object. I can give out multiple references to the same object, but there's only one object.</li><p>Does that help?</p><p>The difference between a value type and a reference type is what gets written on the piece of paper. For example, here:</p><pre><code>int x = 12;
</code></pre><p>is like having a piece of paper with the number 12 written on it directly. Whereas:</p><pre><code>Dog myDog = new Dog();
</code></pre><p>doesn't write the Dog object contents itself on the piece of paper - it creates a new <code>Dog</code>, and then writes a reference to the dog on that paper.</p><p>In non-analogy terms:</p><li>A variable represents a storage location in memory. It has a name by which you can refer to it at compile time, and at execution time it has a value, which will always be compatible with its compile-time type. (For example, if you've got a <code>Button</code> variable, the value will always be a reference to an object of type <code>Button</code> or some subclass - or the <code>null</code> reference.)</li><li>An object is a sort of separate entity. Importantly, the value of a variable or any expression is <em>never</em> an object, only a reference. An object effectively consists of:

<ul>
<li>Fields (the state)</li>
<li>A type reference (can never change through the lifetime of the object)</li>
<li>A monitor (for synchronization)</li>
</ul></li><li>Fields (the state)</li><li>A type reference (can never change through the lifetime of the object)</li><li>A monitor (for synchronization)</li><li>A reference is a value used to access an object - e.g. to call methods on it, access fields etc. You typically navigate the reference with the <code>.</code> operator. For example, if <code>foo</code> is a <code>Person</code> variable, <code>foo.getAddress().getLength()</code> would take the value of <code>foo</code> (a reference) and call <code>getAddress()</code> on the object that that reference refers to. The result might be a <code>String</code> reference... we then call <code>getLength()</code> on the object that <em>that</em> reference refers to.</li></body></html>

===ID===
584e5ac33e2ca51be94fee3c
===QUESTION===
Create ArrayList from array
I have an array that is initialized like: I would like to convert this array into an object of the ArrayList class. 
===LINK===
http://stackoverflow.com/questions/157944/create-arraylist-from-array
===KEYWORDS===
initialized 
===ANSWER===
2944
<html><body><pre><code>new ArrayList&lt;Element&gt;(Arrays.asList(array))
</code></pre></body></html>

===ID===
584e5ac33e2ca51be94fee3d
===QUESTION===
Difference between <? super T> and <? extends T> in Java
What is the difference between  List<? super T>  and  List<? extends T>  ? I used to use  List<? extends T> , but it does not allow me to add elements to it  list.add(e) , whereas the  List<? super T>  allows.  I want to know the difference. 
===LINK===
http://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java
===KEYWORDS===
list< 
===ANSWER===
534
<html><body><p>The wildcard declaration of <code>List&lt;? extends Number&gt; foo3</code> means that any of these are legal assignments:</p><pre><code>List&lt;? extends Number&gt; foo3 = new ArrayList&lt;Number&gt;();  // Number "extends" Number (in this context)
List&lt;? extends Number&gt; foo3 = new ArrayList&lt;Integer&gt;(); // Integer extends Number
List&lt;? extends Number&gt; foo3 = new ArrayList&lt;Double&gt;();  // Double extends Number
</code></pre><li><p><strong>Reading</strong> - Given the above possible assignments, what type of object are you guarenteed to read from <code>List foo3</code>:</p>
<ul>
<li>You can read a <strong><code>Number</code></strong> because any of the lists that could be assigned to <code>foo3</code> contain a <code>Number</code> or a subclass of <code>Number</code>.</li>
<li>You can't read an <code>Integer</code> because <code>foo3</code> could be pointing at a <code>List&lt;Double&gt;</code>.</li>
<li>You can't read a <code>Double</code> because <code>foo3</code> could be pointing at a <code>List&lt;Integer&gt;</code>.</li>
</ul></li><p><strong>Reading</strong> - Given the above possible assignments, what type of object are you guarenteed to read from <code>List foo3</code>:</p><li>You can read a <strong><code>Number</code></strong> because any of the lists that could be assigned to <code>foo3</code> contain a <code>Number</code> or a subclass of <code>Number</code>.</li><li>You can't read an <code>Integer</code> because <code>foo3</code> could be pointing at a <code>List&lt;Double&gt;</code>.</li><li>You can't read a <code>Double</code> because <code>foo3</code> could be pointing at a <code>List&lt;Integer&gt;</code>.</li><li><p><strong>Writing</strong> - Given the above possible assignments, what type of object could you add to <code>List foo3</code> that would be legal for <strong>all</strong> the above possible <code>ArrayList</code> assignments:</p>
<ul>
<li>You can't add an <code>Integer</code> because <code>foo3</code> could be pointing at a <code>List&lt;Double&gt;</code>.</li>
<li>You can't add a <code>Double</code> because <code>foo3</code> could be pointing at a <code>List&lt;Integer&gt;</code>.</li>
<li>You can't add a <code>Number</code> because <code>foo3</code> could be pointing at a <code>List&lt;Integer&gt;</code>.</li>
</ul></li><p><strong>Writing</strong> - Given the above possible assignments, what type of object could you add to <code>List foo3</code> that would be legal for <strong>all</strong> the above possible <code>ArrayList</code> assignments:</p><li>You can't add an <code>Integer</code> because <code>foo3</code> could be pointing at a <code>List&lt;Double&gt;</code>.</li><li>You can't add a <code>Double</code> because <code>foo3</code> could be pointing at a <code>List&lt;Integer&gt;</code>.</li><li>You can't add a <code>Number</code> because <code>foo3</code> could be pointing at a <code>List&lt;Integer&gt;</code>.</li><p><em>You can't add any object to <code>List&lt;? extends T&gt;</code> because you can't guarantee what kind of <code>List</code> it is really pointing to, so you can't guarantee that the object is allowed in that <code>List</code>.  The only "guarantee" is that you can only read from it and you'll get a <code>T</code> or subclass of  <code>T</code>.</em></p><p>Now consider <code>List &lt;? super T &gt;</code>.</p><p>The wildcard declaration of <code>List&lt;? super Integer&gt; foo3</code> means that any of these are legal assignments:</p><pre><code>List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Integer&gt;();  // Integer is a "superclass" of Integer (in this context)
List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Number&gt;();   // Number is a superclass of Integer
List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Object&gt;();   // Object is a superclass of Integer
</code></pre><li><p><strong>Reading</strong> - Given the above possible assignments, what type of object are you guaranteed to receive when you read from <code>List foo3</code>:</p>
<ul>
<li>You aren't guaranteed an <code>Integer</code> because <code>foo3</code> could be pointing at a <code>List&lt;Number&gt;</code> or <code>List&lt;Object&gt;</code>.</li>
<li>You aren't guaranteed an <code>Number</code> because <code>foo3</code> could be pointing at a <code>List&lt;Object&gt;</code>.</li>
<li>The <strong>only</strong> guarantee is that you will get an instance of an <strong><code>Object</code></strong> or subclass of <code>Object</code> (but you don't know what subclass).</li>
</ul></li><p><strong>Reading</strong> - Given the above possible assignments, what type of object are you guaranteed to receive when you read from <code>List foo3</code>:</p><li>You aren't guaranteed an <code>Integer</code> because <code>foo3</code> could be pointing at a <code>List&lt;Number&gt;</code> or <code>List&lt;Object&gt;</code>.</li><li>You aren't guaranteed an <code>Number</code> because <code>foo3</code> could be pointing at a <code>List&lt;Object&gt;</code>.</li><li>The <strong>only</strong> guarantee is that you will get an instance of an <strong><code>Object</code></strong> or subclass of <code>Object</code> (but you don't know what subclass).</li><li><p><strong>Writing</strong> - Given the above possible assignments, what type of object could you add to <code>List foo3</code> that would be legal for <strong>all</strong> the above possible <code>ArrayList</code> assignments:</p>
<ul>
<li>You can add an <code>Integer</code> because an <code>Integer</code> is allowed in any of above lists.</li>
<li>You can add an instance of a subclass of <code>Integer</code> because an instance of a subclass of <code>Integer</code> is allowed in any of the above lists.</li>
<li>You can't add a <code>Double</code> because <code>foo3</code> could be pointing at a <code>ArrayList&lt;Integer&gt;</code>.</li>
<li>You can't add a <code>Number</code> because <code>foo3</code> could be pointing at a <code>ArrayList&lt;Integer&gt;</code>.</li>
<li>You can't add a <code>Object</code> because <code>foo3</code> could be pointing at a <code>ArrayList&lt;Integer&gt;</code>.</li>
</ul></li><p><strong>Writing</strong> - Given the above possible assignments, what type of object could you add to <code>List foo3</code> that would be legal for <strong>all</strong> the above possible <code>ArrayList</code> assignments:</p><li>You can add an <code>Integer</code> because an <code>Integer</code> is allowed in any of above lists.</li><li>You can add an instance of a subclass of <code>Integer</code> because an instance of a subclass of <code>Integer</code> is allowed in any of the above lists.</li><li>You can't add a <code>Double</code> because <code>foo3</code> could be pointing at a <code>ArrayList&lt;Integer&gt;</code>.</li><li>You can't add a <code>Number</code> because <code>foo3</code> could be pointing at a <code>ArrayList&lt;Integer&gt;</code>.</li><li>You can't add a <code>Object</code> because <code>foo3</code> could be pointing at a <code>ArrayList&lt;Integer&gt;</code>.</li><p>Remember <em>PECS</em>: <strong>"Producer Extends, Consumer Super"</strong>.</p><li><p><strong>"Producer Extends"</strong> - If you need a <code>List</code> to produce <code>T</code> values (you want to read <code>T</code>s from the list), you need to declare it with <code>? extends T</code>, e.g. <code>List&lt;? extends Integer&gt;</code>. But you cannot add to this list.</p></li><p><strong>"Producer Extends"</strong> - If you need a <code>List</code> to produce <code>T</code> values (you want to read <code>T</code>s from the list), you need to declare it with <code>? extends T</code>, e.g. <code>List&lt;? extends Integer&gt;</code>. But you cannot add to this list.</p><li><p><strong>"Consumer Super"</strong> - If you need a <code>List</code> to consume <code>T</code> values (you want to write <code>T</code>s into the list), you need to declare it with <code>? super T</code>, e.g. <code>List&lt;? super Integer&gt;</code>. But there are no guarantees what type of object you may read from this list.</p></li><p><strong>"Consumer Super"</strong> - If you need a <code>List</code> to consume <code>T</code> values (you want to write <code>T</code>s into the list), you need to declare it with <code>? super T</code>, e.g. <code>List&lt;? super Integer&gt;</code>. But there are no guarantees what type of object you may read from this list.</p><li><p>If you need to both read from and write to a list, you need to declare it exactly with no wildcards, e.g. <code>List&lt;Integer&gt;</code>.</p></li><p>If you need to both read from and write to a list, you need to declare it exactly with no wildcards, e.g. <code>List&lt;Integer&gt;</code>.</p><p>Note <a href="http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html#FAQ103">this example from the Java Generics FAQ</a>. Note how the source list <code>src</code> (the producing list) uses <code>extends</code>, and the destination list <code>dest</code> (the consuming list) uses <code>super</code>:</p><pre><code>public class Collections { 
  public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) 
  {
      for (int i=0; i&lt;src.size(); i++) 
        dest.set(i,src.get(i)); 
  } 
}
</code></pre><p>Also see 
<a href="http://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures/2777297#2777297">How can I add to List&lt;? extends Number&gt; data structures?</a></p></body></html>

===ID===
584e5ac43e2ca51be94fee3e
===QUESTION===
Causes of getting a java.lang.VerifyError
I'm investigating the following  java.lang.VerifyError It occurs when the jboss server in which the servlet is deployed is started.
It is compiled with jdk-1.5.0_11 and I tried to recompile it with jdk-1.5.0_15 without succes. That is the compilation runs fine but when deployed, the java.lang.VerifyError occurs. When I changed the method name and got the following error: You can see that more of the method signature is shown. The actual method signature is I already tried looking at it with  javap  and that gives the method signature as it should be. When my other colleagues check out the code, compile it and deploy it, they have the same problem. When the build server picks up the code and deploys it on development or testing environments (HPUX), the same error occurs. Also an automated testing machine running Ubuntu shows the same error during server startup. The rest of the application runs okay, only that one servlet is out of order.
Any ideas where to look would be helpful. 
===LINK===
http://stackoverflow.com/questions/100107/causes-of-getting-a-java-lang-verifyerror
===KEYWORDS===
succes 
===ANSWER===
156
<html><body><p><code>java.lang.VerifyError</code> can be the result when you have compiled against a different library than you are using at runtime.</p><p>For example, this happened to me when trying to run a program that was compiled against Xerces 1, but Xerces 2 was found on the classpath.  The required classes (in <code>org.apache.*</code> namespace) were found at runtime, so <code>ClassNotFoundException</code> was <strong><em>not</em></strong> the result.  There had been changes to the classes and methods, so that the method signatures found at runtime did not match what was there at compile-time.</p><p>Normally, the compiler will flag problems where method signatures do not match.  The JVM will verify the bytecode again when the class is loaded, and throws <code>VerifyError</code> when the bytecode is trying to do something that should not be allowed -- e.g. calling a method that returns <code>String</code> and then stores that return value in a field that holds a <code>List</code>.</p></body></html>

===ID===
584e5ac53e2ca51be94fee3f
===QUESTION===
How to add an image to a JPanel?
I have a  JPanel  to which I'd like to add JPEG and PNG images that I generate on the fly. All the examples I've seen so far in the  Swing Tutorials , specially in the  Swing examples  use  ImageIcon s. I'm generating these images as byte arrays, and they are usually larger than the common icon they use in the examples, at 640x480. Edit : A more careful examination of the tutorials and the API shows that you cannot add an ImageIcon directly to a JPanel. Instead, they achieve the same effect by setting the image as an icon of a JLabel. This just doesn't feel right... 
===LINK===
http://stackoverflow.com/questions/299495/how-to-add-an-image-to-a-jpanel
===KEYWORDS===
fly 
===ANSWER===
212
<html><body><p>Here's how I do it (with a little more info on how to load an image):</p><pre><code>import java.awt.Graphics;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.imageio.ImageIO;
import javax.swing.JPanel;

public class ImagePanel extends JPanel{

    private BufferedImage image;

    public ImagePanel() {
       try {                
          image = ImageIO.read(new File("image name and path"));
       } catch (IOException ex) {
            // handle exception...
       }
    }

    @Override
    protected void paintComponent(Graphics g) {
        super.paintComponent(g);
        g.drawImage(image, 0, 0, this); // see javadoc for more info on the parameters            
    }

}
</code></pre></body></html>

===ID===
584e5ac53e2ca51be94fee40
===QUESTION===
How to nicely format floating numbers to String without unnecessary decimal 0?
An 64-bit double can represent integer +/- 2 53  exactly Given this fact I choose to use a double type as a single type for all my types, since my largest integer is unsigned 32-bit. But now I have to print these pseudo integers, but the problem is they are also mixed in with actual doubles. So how do I print these doubles nicely in Java? I have tried  String.format("%f", value) , which is close, except I get a lot of trailing zeros for small values. Here's an example output of of  %f What I want is: Sure I can write a function to trim those zeros, but that's lot of performance loss due to String manipulation.  Can I do better with another format code? EDIT The answers by Tom E. and Jeremy S. are unacceptable as they both arbitrarily rounds to 2 decimal places.  Please understand the problem before answering. EDIT 2 Please note that  String.format(format, args...)  is  locale-dependent  (see answers below). 
===LINK===
http://stackoverflow.com/questions/703396/how-to-nicely-format-floating-numbers-to-string-without-unnecessary-decimal-0
===KEYWORDS===
trim 
===ANSWER===
246
<html><body><p>If the idea is to print integers stored as doubles as if they are integers, and otherwise print the doubles with the minimum necessary precision:</p><pre><code>public static String fmt(double d)
{
    if(d == (long) d)
        return String.format("%d",(long)d);
    else
        return String.format("%s",d);
}
</code></pre><p>Produces:</p><pre><code>232
0.18
1237875192
4.58
0
1.2345
</code></pre><p>And does not rely on string manipulation.</p></body></html>

===ID===
584e5ac73e2ca51be94fee41
===QUESTION===
How can an app use files inside the JAR for read and write?
I need to store data into files inside .jar file and read it again. I know that I can use  Class.getResourceAsStream()  method but it returns an  InputStream  that I can  read  from.  But I look for a way to  write. 
===LINK===
http://stackoverflow.com/questions/5052311/how-can-an-app-use-files-inside-the-jar-for-read-and-write
===KEYWORDS===
getresourceasstream 
===ANSWER===
80
<html><body><p>I need to store data into files inside .jar file and read it again </p><p>No you don't.</p><p>Instead store the 'default' file inside the Jar.  If it is changed, store the altered file in another place.  One common place is a sub-directory of <code>user.home</code>.  When checking for the file, first check the existence of an altered file on the file system, and if it does not exist, load the default file.</p><p>Note that it is generally better to describe the goal, rather than the strategy.  <em>'Store changed file in Jar'</em> is a strategy, whereas <em>'Save preferences between runs'</em> might be the goal.</p></body></html>

===ID===
584e5ac83e2ca51be94fee42
===QUESTION===
Difference between applicationContext.xml and spring-servlet.xml in Spring Framework

===LINK===
http://stackoverflow.com/questions/3652090/difference-between-applicationcontext-xml-and-spring-servlet-xml-in-spring-frame
===KEYWORDS===
xml 
===ANSWER===
328
<html><body><p>Spring lets you define multiple contexts in a parent-child hierarchy.</p><p>The <code>applicationContext.xml</code> defines the beans for the "root webapp context", i.e. the context associated with the webapp.</p><p>The <code>spring-servlet.xml</code> (or whatever else you call it) defines the beans for one servlet's app context.  There can be many of these in a webapp, one per Spring servlet (e.g. <code>spring1-servlet.xml</code> for servlet <code>spring1</code>, <code>spring2-servlet.xml</code> for servlet <code>spring2</code>).</p><p>Beans in <code>spring-servlet.xml</code> can reference beans in <code>applicationContext.xml</code>, but not vice versa.</p><p>All Spring MVC controllers must go in the <code>spring-servlet.xml</code> context.</p><p>In most simple cases, the <code>applicationContext.xml</code> context is unnecessary. It is generally used to contain beans that are shared between all servlets in a webapp. If you only have one servlet, then there's not really much point, unless you have a specific use for it.</p></body></html>

===ID===
584e5ac93e2ca51be94fee43
===QUESTION===
Maven: add a dependency to a jar by relative path
I have a proprietary jar that I want to add to my pom as a dependency. But I don't want to add it to a repository. The reason is that I want my usual maven commands such as  mvn compile , etc, to work out of the box. (Without demanding from the developers a to add it to some repository by themselves). I want the jar to be in a 3rdparty lib in source control, and link to it by relative path from the pom.xml file. Can this be done? How? 
===LINK===
http://stackoverflow.com/questions/2229757/maven-add-a-dependency-to-a-jar-by-relative-path
===KEYWORDS===
box 
===ANSWER===
249
<html><body><p>I want the jar to be in a 3rdparty lib in source control, and link to it by relative path from the pom.xml file.</p><p>If you really want this (understand, if you can't use a corporate repository), then my advice would be to use a "file repository" local to the project and to <strong>not use</strong> a <code>system</code> scoped dependency. The <code>system</code> scoped  should be avoided, such dependencies don't work well in many situation (e.g. in assembly), they cause more troubles than benefits. </p><p>So, instead, declare a repository local to the project:</p><pre><code>&lt;repositories&gt;
  &lt;repository&gt;
    &lt;id&gt;my-local-repo&lt;/id&gt;
    &lt;url&gt;file://${basedir}/my-repo&lt;/url&gt;
  &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre><p>Install your third party lib in there using <code>install:install-file</code> with the <a href="http://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html#localRepositoryPath" rel="nofollow noreferrer"><code>localRepositoryPath</code></a> parameter:</p><p><strike></strike></p><pre><code>mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;myGroup&gt; \ 
                         -DartifactId=&lt;myArtifactId&gt; -Dversion=&lt;myVersion&gt; \
                         -Dpackaging=&lt;myPackaging&gt; -DlocalRepositoryPath=&lt;path&gt;
</code></pre><p></p></body></html>

===ID===
584e5aca3e2ca51be94fee44
===QUESTION===
Something seems wrong with the layout, JButton showing unexpected behaviour at resize of the window
JRE Version 1.7 Update 3 EXPECTED BEHAVIOUR As I run the program, it works as expected, everything works smoothly. As when I click on  STOP   JButton  the animation stops and the text on the same  JButton  changes to  START . Now when i click on  BALL COLOUR   JButton , the colour of the  BALL  changes, as well as the colour of the  BALL COLOUR   JBUTTON , also changes, to that of the  BALL . This whole behaviour works if I run my application as is without resizing. UNEXPECTED BEHAVIOUR But when i  RESIZE  my  JFrame , by pulling the  Right Side , that's when unexpected behaviour of my Application is shown, in the sense that if I press  STOP   JButton  and then click on  BALL COLOUR  button, the text on the  JButton  clicked earlier whose text changed to  START  will change to  STOP  again when it should not be, as well as the colour of the  BALL COLOUR   JButton  will remain unchanged or will turn to  BLUE , when it should be changed to the colour of the ball. I am attaching the pics for more info. But if you will try to resize it back to it's original size or closer to that, then things will come back to normal. Why is this happening ? Any idea or clue will be much appreciated. As My Application Runs with  EXPECTED BEHAVIOUR  as described above :  And here the  UNEXPECTED BEHAVIOUR BOTTOM-LINE :   Why the Application runs as usual as it should be, at the  BEGINNING  , but not when  RESIZED  by dragging it's  RIGHT SIDE , but again if you bring it to it's original size or closer to it, things come back to normal, it works as expected ? So considering the scenario, am I doing something wrong, in the program. Or is this exactly the situation, where I should be using the  SwingWorker , Or Is this an issue with the  Layout , or something hidden related to  Content Pane . Please do put some light :-) here is the code I am using, I had brought it down to the minimum, as I think to demonstrate my problem :  **LATEST EDIT : ** 
===LINK===
http://stackoverflow.com/questions/9849950/something-seems-wrong-with-the-layout-jbutton-showing-unexpected-behaviour-at-r
===KEYWORDS===
resized 
===ANSWER===
11
<html><body><p>The problem with your very nice example may be platform dependent, but I can offer a few observations:</p><li><p>You're not adding or removing components, so you don't need <code>revalidate()</code>.</p></li><p>You're not adding or removing components, so you don't need <code>revalidate()</code>.</p><li><p>Because the background color is a bound property of the buttons, you don't need the subsequent calls to <code>repaint()</code>.</p></li><p>Because the background color is a bound property of the buttons, you don't need the subsequent calls to <code>repaint()</code>.</p><li><p>You <em>do</em> need <code>repaint()</code> in your custom <code>DrawingArea</code>, but you may want to experiment with adding property change support, as suggested <a href="http://stackoverflow.com/a/5533581/230513">here</a>.</p></li><p>You <em>do</em> need <code>repaint()</code> in your custom <code>DrawingArea</code>, but you may want to experiment with adding property change support, as suggested <a href="http://stackoverflow.com/a/5533581/230513">here</a>.</p><li><p><code>Color.white</code> can't be <code>brighter()</code> and <code>Color.black</code> can't be <code>darker()</code>; <code>Color.darkGray.darker()</code> is <code>Color.black()</code>.</p></li><p><code>Color.white</code> can't be <code>brighter()</code> and <code>Color.black</code> can't be <code>darker()</code>; <code>Color.darkGray.darker()</code> is <code>Color.black()</code>.</p><li><p>The variation below uses a <code>Queue&lt;Color&gt;</code> to simplify changing colors.</p></li><p>The variation below uses a <code>Queue&lt;Color&gt;</code> to simplify changing colors.</p><p><img alt="screen capture" src="https://i.stack.imgur.com/8cCn3.png"/></p><pre><code>import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.ComponentAdapter;
import java.awt.event.ComponentEvent;
import java.util.Arrays;
import java.util.LinkedList;
import java.util.Queue;
import javax.swing.BorderFactory;
import javax.swing.JButton;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;
import javax.swing.Timer;

/** @see http://stackoverflow.com/q/9849950/230513 */
public class BallAnimation {

    private int x;
    private int y;
    private boolean positiveX;
    private boolean positiveY;
    private boolean isTimerRunning;
    private int speedValue;
    private int diameter;
    private DrawingArea drawingArea;
    private Timer timer;
    private Queue&lt;Color&gt; clut = new LinkedList&lt;Color&gt;(Arrays.asList(
        Color.BLUE.darker(),
        Color.MAGENTA.darker(),
        Color.BLACK,
        Color.RED.darker(),
        Color.PINK,
        Color.CYAN.darker(),
        Color.DARK_GRAY,
        Color.YELLOW.darker(),
        Color.GREEN.darker()));
    private Color backgroundColour;
    private Color foregroundColour;
    private ActionListener timerAction = new ActionListener() {

        @Override
        public void actionPerformed(ActionEvent ae) {
            x = getX();
            y = getY();
            drawingArea.setXYColourValues(x, y, backgroundColour, foregroundColour);
        }
    };
    private JPanel buttonPanel;
    private JButton startStopButton;
    private JButton speedIncButton;
    private JButton speedDecButton;
    private JButton resetButton;
    private JButton colourButton;
    private JButton exitButton;
    private ComponentAdapter componentAdapter = new ComponentAdapter() {

        @Override
        public void componentResized(ComponentEvent ce) {
            timer.restart();
            startStopButton.setText("Stop");
            isTimerRunning = true;
        }
    };

    public BallAnimation() {
        x = y = 0;
        positiveX = positiveY = true;
        speedValue = 1;
        isTimerRunning = false;
        diameter = 50;
        backgroundColour = Color.white;
        foregroundColour = clut.peek();
        timer = new Timer(10, timerAction);
    }

    private void createAndDisplayGUI() {
        JFrame frame = new JFrame("Ball Animation");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setLocationByPlatform(true);

        drawingArea = new DrawingArea(x, y, backgroundColour, foregroundColour, diameter);
        drawingArea.addComponentListener(componentAdapter);

        frame.add(makeButtonPanel(), BorderLayout.LINE_END);
        frame.add(drawingArea, BorderLayout.CENTER);
        frame.pack();
        frame.setVisible(true);
    }

    private JPanel makeButtonPanel() {
        buttonPanel = new JPanel(new GridLayout(0, 1));
        buttonPanel.setBorder(BorderFactory.createLineBorder(Color.darkGray, 5));

        startStopButton = new JButton("Start");
        startStopButton.setOpaque(true);
        startStopButton.setForeground(Color.white);
        startStopButton.setBackground(Color.green.darker());
        startStopButton.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent ae) {
                if (!isTimerRunning) {
                    startStopButton.setText("Stop");
                    timer.start();
                    isTimerRunning = true;
                } else if (isTimerRunning) {
                    startStopButton.setText("Start");
                    timer.stop();
                    isTimerRunning = false;
                }
            }
        });
        startStopButton.setBorder(BorderFactory.createLineBorder(Color.gray, 4));
        buttonPanel.add(startStopButton);

        colourButton = new JButton("Change Color");
        colourButton.setOpaque(true);
        colourButton.setForeground(Color.white);
        colourButton.setBackground(clut.peek());
        colourButton.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent ae) {
                //timer.restart();
                clut.add(clut.remove());
                foregroundColour = clut.peek();
                drawingArea.setXYColourValues(x, y, backgroundColour, foregroundColour);
                colourButton.setBackground(foregroundColour);
            }
        });
        colourButton.setBorder(BorderFactory.createLineBorder(Color.gray, 4));
        buttonPanel.add(colourButton);

        exitButton = new JButton("Exit");
        exitButton.setBackground(Color.red);
        exitButton.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent ae) {
                timer.stop();
                System.exit(0);
            }
        });
        exitButton.setBorder(BorderFactory.createLineBorder(Color.red.darker(), 4));
        buttonPanel.add(exitButton);

        return buttonPanel;
    }

    private int getX() {
        if (x &lt; 0) {
            positiveX = true;
        } else if (x &gt;= drawingArea.getWidth() - diameter) {
            positiveX = false;
        }
        return (calculateX());
    }

    private int calculateX() {
        if (positiveX) {
            return (x += speedValue);
        } else {
            return (x -= speedValue);
        }
    }

    private int getY() {
        if (y &lt; 0) {
            positiveY = true;
        } else if (y &gt;= drawingArea.getHeight() - diameter) {
            positiveY = false;
        }
        return (calculateY());
    }

    private int calculateY() {
        if (positiveY) {
            return (y += speedValue);
        } else {
            return (y -= speedValue);
        }
    }

    public static void main(String... args) {
        Runnable runnable = new Runnable() {

            @Override
            public void run() {
                new BallAnimation().createAndDisplayGUI();
            }
        };
        SwingUtilities.invokeLater(runnable);
    }
}

class DrawingArea extends JComponent {

    private int x;
    private int y;
    private int ballDiameter;
    private Color backgroundColor;
    private Color foregroundColor;

    public DrawingArea(int x, int y, Color bColor, Color fColor, int dia) {
        this.x = x;
        this.y = y;
        ballDiameter = dia;
        backgroundColor = bColor;
        foregroundColor = fColor;
        setBorder(BorderFactory.createLineBorder(Color.DARK_GRAY, 5));
    }

    public void setXYColourValues(int x, int y, Color bColor, Color fColor) {
        this.x = x;
        this.y = y;
        backgroundColor = bColor;
        foregroundColor = fColor;
        repaint();
    }

    @Override
    public Dimension getPreferredSize() {
        return (new Dimension(500, 400));
    }

    @Override
    public void paintComponent(Graphics g) {
        g.setColor(backgroundColor);
        g.fillRect(0, 0, getWidth(), getHeight());
        g.setColor(foregroundColor);
        g.fillOval(x, y, ballDiameter, ballDiameter);
    }
}
</code></pre></body></html>

===ID===
584e5aca3e2ca51be94fee45
===QUESTION===
Java and SQLite [closed]
I'm attracted to the neatness that a single file database provides. What driver/connector library is out there to connect and use SQLite with Java. I've discovered a wrapper library,  http://www.ch-werner.de/javasqlite , but are there other more prominent projects available? 
===LINK===
http://stackoverflow.com/questions/41233/java-and-sqlite
===KEYWORDS===
sqlite 
===ANSWER===
182
<html><body><p>The <a href="http://www.sqlite.org/cvstrac/wiki?p=SqliteWrappers" rel="nofollow noreferrer">wiki</a> lists some more wrappers:</p><li>Java wrapper (around a SWIG interface): <a href="http://tk-software.home.comcast.net/" rel="nofollow noreferrer">http://tk-software.home.comcast.net/</a></li><li>A good tutorial to use JDBC driver for SQLite. (it works at least !) <a href="http://www.ci.uchicago.edu/wiki/bin/view/VDS/VDSDevelopment/UsingSQLite" rel="nofollow noreferrer">http://www.ci.uchicago.edu/wiki/bin/view/VDS/VDSDevelopment/UsingSQLite</a></li><li>Cross-platform JDBC driver which uses embedded native SQLite libraries on Windows, Linux, OS X, and falls back to pure Java implementation on other OSes: <a href="https://github.com/xerial/sqlite-jdbc" rel="nofollow noreferrer">https://github.com/xerial/sqlite-jdbc</a> (formerly <a href="http://www.zentus.com/sqlitejdbc" rel="nofollow noreferrer">zentus</a>)</li><li>Another Java - SWIG wrapper. It only works on Win32. <a href="http://rodolfo_3.tripod.com/index.html" rel="nofollow noreferrer">http://rodolfo_3.tripod.com/index.html</a></li><li>sqlite-java-shell: 100% pure Java port of the sqlite3 commandline shell built with NestedVM. (This is not a JDBC driver).</li><li>SQLite JDBC Driver for Mysaifu JVM: SQLite JDBC Driver for Mysaifu JVM and SQLite JNI Library for Windows (x86) and Linux (i386/PowerPC). </li></body></html>

===ID===
584e5acb3e2ca51be94fee46
===QUESTION===
How can I get the current date and time in UTC or GMT in Java?
When I create a new  Date  object, it is initialized to the current time but in the local timezone. How can I get the current date and time in GMT? 
===LINK===
http://stackoverflow.com/questions/308683/how-can-i-get-the-current-date-and-time-in-utc-or-gmt-in-java
===KEYWORDS===
utc 
===ANSWER===
281
<html><body><p><code>java.util.Date</code> has no specific time zone, although its value is most commonly thought of in relation to UTC. What makes you think it's in local time?</p><p>To be precise: the value within a <code>java.util.Date</code> is the number of milliseconds since the Unix epoch, which occurred at midnight January 1st 1970, UTC. The same epoch could also be described in other time zones, but the traditional description is in terms of UTC. As it's a number of milliseconds since a fixed epoch, the value within <code>java.util.Date</code> is the same around the world at any particular instant, regardless of local time zone.</p><p>I suspect the problem is that you're displaying it via an instance of Calendar which uses the local timezone, or possibly using <code>Date.toString()</code> which also uses the local timezone, or a <code>SimpleDateFormat</code> instance, which, by default, also uses local timezone.</p><p>If this isn't the problem, please post some sample code.</p><p>I would, however, recommend that you use <a href="http://www.joda.org/joda-time/" rel="nofollow noreferrer">Joda-Time</a> anyway, which offers a much clearer API.</p></body></html>

===ID===
584e5acc3e2ca51be94fee47
===QUESTION===
How to properly stop the Thread in Java?
I need a solution to properly stop the thread in Java. I have  IndexProcessor class which implements the Runnable interface: And I have  ServletContextListener  class which starts and stops the thread: But when I shutdown tomcat, I get the exception in my IndexProcessor class: I am using JDK 1.6. So the question is: How can I stop the thread and not throw any exceptions?  P.S.  I do not want to use  .stop();  method because it is deprecated. 
===LINK===
http://stackoverflow.com/questions/10961714/how-to-properly-stop-the-thread-in-java
===KEYWORDS===
implements 
===ANSWER===
100
<html><body><p>In the <code>IndexProcessor</code> class you need a way of setting a flag which informs the thread that it will need to terminate, similar to the variable <code>run</code> that you have used just in the class scope.</p><p>When you wish to stop the thread, you set this flag and call <code>join()</code> on the thread and wait for it to finish.</p><p>Make sure that the flag is thread safe by using a volatile variable or by using getter and setter methods which are synchronised with the variable being used as the flag.</p><pre><code>public class IndexProcessor implements Runnable {

    private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);
    private volatile boolean running = true;

    public void terminate() {
        running = false;
    }

    @Override
    public void run() {
        while (running) {
            try {
                LOGGER.debug("Sleeping...");
                Thread.sleep((long) 15000);

                LOGGER.debug("Processing");
            } catch (InterruptedException e) {
                LOGGER.error("Exception", e);
                running = false;
            }
        }

    }
}
</code></pre><p>Then in <code>SearchEngineContextListener</code>:</p><pre><code>public class SearchEngineContextListener implements ServletContextListener {

    private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);

    private Thread thread = null;
    private IndexProcessor runnable = null;

    @Override
    public void contextInitialized(ServletContextEvent event) {
        runnable = new IndexProcessor();
        thread = new Thread(runnable);
        LOGGER.debug("Starting thread: " + thread);
        thread.start();
        LOGGER.debug("Background process successfully started.");
    }

    @Override
    public void contextDestroyed(ServletContextEvent event) {
        LOGGER.debug("Stopping thread: " + thread);
        if (thread != null) {
            runnable.terminate();
            thread.join();
            LOGGER.debug("Thread successfully stopped.");
        }
    }
}
</code></pre></body></html>

===ID===
584e5acd3e2ca51be94fee48
===QUESTION===
How to import a jar in Eclipse
How do I import a jar in Eclipse? 
===LINK===
http://stackoverflow.com/questions/3280353/how-to-import-a-jar-in-eclipse
===KEYWORDS===
import 
===ANSWER===
251
<html><body><p>You can add a jar in Eclipse by right-clicking on the Project → Build Path → Configure Build Path. Under Libraries tab, click Add Jars or Add External JARs and give the Jar. A quick demo <a href="http://tech.bragboy.com/2016/01/quick-way-to-import-jar-in-eclipse.html" rel="nofollow noreferrer">here</a>.</p><p><img alt="enter image description here" src="https://i.stack.imgur.com/A6xgq.png"/></p></body></html>

===ID===
584e5ace3e2ca51be94fee49
===QUESTION===
How can I read input from the console using the Scanner class in Java?
How could I read input from the console using the  Scanner  class? Something like this: Basically, all I want to do is have the scanner read an input for the username, and assign the input to a  String  variable. 
===LINK===
http://stackoverflow.com/questions/11871520/how-can-i-read-input-from-the-console-using-the-scanner-class-in-java
===KEYWORDS===
username 
===ANSWER===
145
<html><body><p>A simple example to illustrate how <code>java.util.Scanner</code> works would be reading a single integer from <code>System.in</code>. It's really quite simple.</p><pre><code>Scanner sc = new Scanner(System.in);
int i = sc.nextInt();
</code></pre><p>To retrieve a username I would probably use <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine%28%29"><code>sc.nextLine()</code></a>.</p><pre><code>System.out.println("Enter your username: ");
Scanner scanner = new Scanner(System.in);
String username = scanner.nextLine();
System.out.println("Your username is " + username);
</code></pre><p>You could also use <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#next%28java.lang.String%29"><code>next(String pattern)</code></a> if you want more control over the input, or just validate the <code>username</code> variable.</p><p>You'll find more information on their implementation in the <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html">API Documentation for <code>java.util.Scanner</code></a></p></body></html>

===ID===
584e5ace3e2ca51be94fee4a
===QUESTION===
Can't get ArrayIndexOutOfBoundsException from Future<?> and SwingWorker if thread starts Executor
I play with multitreading for SwingWorker by using Executor, and I'm there by mistake identified wrong elements from the Vector, looks like as this code pretty ignores that element in Vector doesn't exist my question -> how to/is possible to catch this exception(s) some way simple output  by uncomment  everything is correct, I get ArrayIndexOutOfBoundsException and output is  from code    EDIT: added re-thrown from Future#get() in done() method (by @takteek excellent suggestion)  but output is still and only  Got exception , would be so hard to get any exception(s) from this BlackBox  
===LINK===
http://stackoverflow.com/questions/7053865/cant-get-arrayindexoutofboundsexception-from-future-and-swingworker-if-threa
===KEYWORDS===
arrayindexoutofboundsexception 
===ANSWER===
14
<html><body><p>I'm not sure it adds much, but I got the expected <code>Caused by</code> using the variation of takteek's <a href="http://stackoverflow.com/questions/7053865/cant-get-arrayindexoutofboundsexception-from-future-and-swingworker-if-thread/7053961#7053961">answer</a> shown below. I ran it from the command line to be sure the IDE wasn't "helping".</p><pre>
$ java -cp build/classes TableWithExecutor
StartShedule: PENDING -&gt; STARTED
java.util.concurrent.ExecutionException: java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 2
    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)
    at java.util.concurrent.FutureTask.get(FutureTask.java:83)
    at javax.swing.SwingWorker.get(SwingWorker.java:582)
    at TableWithExecutor$MyTask.done(TableWithExecutor.java:103)
    at javax.swing.SwingWorker$5.run(SwingWorker.java:717)
    at javax.swing.SwingWorker$DoSubmitAccumulativeRunnable.run(SwingWorker.java:814)
    at sun.swing.AccumulativeRunnable.run(AccumulativeRunnable.java:95)
    at javax.swing.SwingWorker$DoSubmitAccumulativeRunnable.actionPerformed(SwingWorker.java:824)
    at javax.swing.Timer.fireActionPerformed(Timer.java:291)
    at javax.swing.Timer$DoPostEvent.run(Timer.java:221)
    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:677)
    at java.awt.EventQueue.access$000(EventQueue.java:85)
    at java.awt.EventQueue$1.run(EventQueue.java:638)
    at java.awt.EventQueue$1.run(EventQueue.java:636)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)
    at java.awt.EventQueue.dispatchEvent(EventQueue.java:647)
    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
    at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
Caused by: java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 2
    at java.util.Vector.get(Vector.java:694)
    at TableWithExecutor.changeTableValues(TableWithExecutor.java:64)
    at TableWithExecutor.access$100(TableWithExecutor.java:14)
    at TableWithExecutor$MyTask.doInBackground(TableWithExecutor.java:92)
    at TableWithExecutor$MyTask.doInBackground(TableWithExecutor.java:80)
    at javax.swing.SwingWorker$1.call(SwingWorker.java:277)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at javax.swing.SwingWorker.run(SwingWorker.java:316)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:680)
StartShedule: STARTED -&gt; DONE
</pre><p>Full code:</p><pre><code>import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.event.ActionEvent;
import java.beans.PropertyChangeEvent;
import java.beans.PropertyChangeListener;
import java.text.DateFormat;
import java.util.Date;
import java.util.List;
import java.util.concurrent.Executor;
import java.util.concurrent.Executors;
import javax.swing.*;
import javax.swing.table.*;

/** @see http://stackoverflow.com/questions/7054627 */
public class TableWithExecutor extends JFrame {

    private static final int delay = 1000;
    private static final DateFormat df = DateFormat.getTimeInstance();
    private String[] columnNames = {"Product", "Availability"};
    private Object[][] data = {columnNames, columnNames, columnNames};
    private DefaultTableModel model;
    private JTable table;
    private Executor executor = Executors.newCachedThreadPool();
    private Timer timer;

    public TableWithExecutor() {
        model = new DefaultTableModel(data, columnNames);
        table = new JTable(model) {

            @Override
            public Class getColumnClass(int column) {
                return getValueAt(0, column).getClass();
            }
        };
        table.setDefaultRenderer(Date.class, new DefaultTableCellRenderer() {

            @Override
            protected void setValue(Object value) {
                setText((value == null) ? "" : df.format(value));
            }
        });
        table.setPreferredScrollableViewportSize(new Dimension(200, 100));
        JScrollPane scrollPane = new JScrollPane(table);
        add(scrollPane, BorderLayout.CENTER);
        timer = new Timer(delay, startCycle());
        timer.setRepeats(true);
        timer.start();
    }

    private Action startCycle() {
        return new AbstractAction(MyTask.STARTSCHEDULE) {

            @Override
            public void actionPerformed(ActionEvent e) {
                executor.execute(new MyTask(MyTask.STARTSCHEDULE));
            }
        };
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                TableWithExecutor frame = new TableWithExecutor();
                frame.setDefaultCloseOperation(EXIT_ON_CLOSE);
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    private class MyTask extends SwingWorker&lt;List&lt;DateRecord&gt;, DateRecord&gt; {

        private static final String STARTSCHEDULE = "StartSchedule";
        private String name = STARTSCHEDULE;

        MyTask(String name) {
            this.name = name;
            addPropertyChangeListener(new TaskListener(name));
        }

        @Override
        protected List&lt;DateRecord&gt; doInBackground() throws Exception {
            for (int row = 0; row &lt; model.getRowCount(); row++) {
                Date date = new Date();
                date.setTime(date.getTime() + row * 1000);
                publish(new DateRecord(row, date));
            }
            return null;
        }

        @Override
        protected void process(List&lt;DateRecord&gt; chunks) {
            for (DateRecord dr : chunks) {
                model.setValueAt(dr.date, dr.rowNumber, 1);
            }
        }

        @Override
        protected void done() {
            try {
                get();
            } catch (Exception e) {
                e.printStackTrace(System.err);
            }
        }
    }

    private static class DateRecord {

        private int rowNumber;
        private Date date;

        public DateRecord(int recordNumber, Date date) {
            this.rowNumber = recordNumber;
            this.date = date;
        }
    }

    private static class TaskListener implements PropertyChangeListener {

        private String name;

        TaskListener(String name) {
            this.name = name;
        }

        @Override
        public void propertyChange(PropertyChangeEvent e) {
            System.out.println(name + ": "
                + e.getOldValue() + " -&gt; " + e.getNewValue());
        }
    }
}
</code></pre></body></html>

===ID===
584e5acf3e2ca51be94fee4b
===QUESTION===
Variable might not have been initialized error
When i try to compile this:  I get these errors:  it seems to me that i initialized them at the top of the method. Whats going wrong?  
===LINK===
http://stackoverflow.com/questions/2448843/variable-might-not-have-been-initialized-error
===KEYWORDS===
errors 
===ANSWER===
40
<html><body><p>You <em>declared</em> them, but you didn't initialize them. Initializing them is setting them equal to a value:</p><pre><code>int a;        // This is a declaration
a = 0;        // This is an initialization
int b = 1;    // This is a declaration and initialization
</code></pre><p>You get the error because you haven't initialized the variables, but you increment them (e.g., <code>a++</code>) in the <code>for</code> loop.</p></body></html>

===ID===
584e5acf3e2ca51be94fee4c
===QUESTION===
Lookup enum by string value
Say I have an enum which is just and I would like to find the enum value of a string, for example  "A"  which would be  Blah.A . How would it be possible to do this? Is the  Enum.valueOf()  the method I need? If so, how would I use this? 
===LINK===
http://stackoverflow.com/questions/604424/lookup-enum-by-string-value
===KEYWORDS===
valueof 
===ANSWER===
1447
<html><body><p>Yes, <code>Blah.valueOf("A")</code> will give you <code>Blah.A</code>.</p><p>The static methods <code>valueOf()</code> and <code>values()</code> are created at compile time and do not appear in source code. They do appear in Javadoc, though; for example, <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/Dialog.ModalityType.html" rel="nofollow noreferrer"><code>Dialog.ModalityType</code></a> shows both methods.</p></body></html>

===ID===
584e5ad03e2ca51be94fee4d
===QUESTION===
What's the best way to share data between activities?
I have one activity which is the main activity used throughout the app and it has a number of variables. I have two other activities which I would like to be able to use the data from the first activity.
Now I know I can do something like this: However I want to share a lot of variables and some might be rather large so I don't want to be creating copies of them like above. Is there a way to directly get and change the variables without using get and set methods? I remember reading an article on the Google dev site saying this is not recommended for performance on Android. 
===LINK===
http://stackoverflow.com/questions/4878159/whats-the-best-way-to-share-data-between-activities
===KEYWORDS===
activities 
===ANSWER===
332
<html><body><p>Here a compilation of <a href="http://developer.android.com/guide/faq/framework.html#3">most common ways to achieve this</a>:</p><li>Send data inside intent</li><li>Static fields</li><li>HashMap of <code>WeakReferences</code></li><li>Persist objects (sqlite, share preferences, file, etc.)</li><p><strong>TL;DR</strong>: there are two ways of sharing data: passing data in the intent's extras or saving it somewhere else. If data is primitives, Strings or user-defined objects: send it as part of the intent extras (user-defined objects must implement <code>Parcelable</code>). If passing complex objects save an instance in a singleton somewhere else and access them from the launched activity.</p><p>Some examples of how and why to implement each approach:</p><pre><code>Intent intent = new Intent(FirstActivity.this, SecondActivity.class);
intent.putExtra("some_key", value);
intent.putExtra("some_other_key", "a value");
startActivity(intent);
</code></pre><p>On the second activity:</p><pre><code>Bundle bundle = getIntent().getExtras();
int value = bundle.getInt("some_key");
String value2 = bundle.getString("some_other_key");
</code></pre><p>Use this method <strong>if you are passing primitive data or Strings</strong>. You can also pass objects that implements <code>Serializable</code>.</p><p>Although tempting, you should think twice before using <code>Serializable</code>: it's error prone and horribly slow. So in general: <strong>stay away from <code>Serializable</code></strong> if possible. If you want to pass complex user-defined objects, <strong>take a look at the <code>Parcelable</code> interface</strong>. It's harder to implement, but it has considerable speed gains compared to <code>Serializable</code>.</p><p>It is possible to share data between activities by saving it in memory given that, in most cases, both activities run in the same process.</p><p><strong>Note:</strong> sometimes, when the user leaves your activity (without quitting it), Android may decide to kill your application. In such scenario, I have experienced cases in which android attempts to launch the last activity using the intent provided before the app was killed. In this cases, data stored in a singleton (either yours or <code>Application</code>) will be gone and bad things could happen. To avoid such cases, you either persist objects to disk or check data before using it to make sure its valid.</p><p>Have a class to whole the data:</p><pre><code>public class DataHolder {
  private String data;
  public String getData() {return data;}
  public void setData(String data) {this.data = data;}

  private static final DataHolder holder = new DataHolder();
  public static DataHolder getInstance() {return holder;}
}
</code></pre><p>From the launched activity:</p><pre><code>String data = DataHolder.getInstance().getData();
</code></pre><p>The application singleton is an instance of <code>android.app.Application</code> which is created when the app is launched. You can provide a custom one by extending <code>Application</code>:</p><pre><code>import android.app.Application;
public class MyApplication extends Application {
  private String data;
  public String getData() {return data;}
  public void setData(String data) {this.data = data;}
}
</code></pre><p>Before launching the activity:</p><pre><code>MyApplication app = (MyApplication) getApplicationContext();
app.setData(someData);
</code></pre><p>Then, from the launched activity:</p><pre><code>MyApplication app = (MyApplication) getApplicationContext();
String data = app.getData();
</code></pre><p>The idea is basically the same than the singleton, but in this case you provide static access to the data:</p><pre><code>public class DataHolder {
  private static String data;
  public static String getData() {return data;}
  public static String setData(String data) {DataHolder.data = data;}
}
</code></pre><p>From the launched activity:</p><pre><code>String data = DataHolder.getData();
</code></pre><p>Same idea, but allowing the garbage collector to removed unreferenced objects (e.g. when the user quits the activity):</p><pre><code>public class DataHolder {
  Map&lt;String, WeakReference&lt;Object&gt;&gt; data = new HashMap&lt;String, WeakReference&lt;Object&gt;&gt;();

  void save(String id, Object object) {
    data.put(id, new WeakReference&lt;Object&gt;(object));
  }

  Object retrieve(String id) {
    WeakReference&lt;Object&gt; objectWeakReference = data.get(id);
    return objectWeakReference.get();
  }
}
</code></pre><p>Before launching the activity:</p><pre><code>DataHolder.getInstance().save(someId, someObject);
</code></pre><p>From the launched activity:</p><pre><code>DataHolder.getInstance().retrieve(someId);
</code></pre><p>You may or may not have to pass the object id using the intent’s extras. It all depends on your specific problem.</p><p>The idea is to save the data in disk before launching the other activity.</p><p><strong>Advantages:</strong> you can launch the activity from other places and, if the data is already persisted, it should work just fine.</p><p><strong>Disadvantages:</strong> it’s cumbersome and takes more time to implement. Requires more code and thus more chance of introducing bugs. It will also be much slower.</p><p>Some of the ways to persist objects include:</p><li><a href="http://developer.android.com/guide/topics/data/data-storage.html#pref">Save them to the shared preferences</a></li><li><a href="http://developer.android.com/guide/topics/data/data-storage.html#db">Save them to a sqlite database</a></li><li>Save them to a file (I’d avoid this one)</li></body></html>

===ID===
584e5ad23e2ca51be94fee4e
===QUESTION===
How can I use different certificates on specific connections?
A module I'm adding to our large Java application has to converse with another company's SSL-secured website.  The problem is that the site uses a self-signed certificate.  I have a copy of the certificate to verify that I'm not encountering a man-in-the-middle attack, and I need to incorporate this certificate into our code in such a way that the connection to the server will be successful. Here's the basic code: Without any additional handling in place for the self-signed certificate, this dies at conn.getOutputStream() with the following exception: Ideally, my code needs to teach Java to accept this one self-signed certificate, for this one spot in the application, and nowhere else. I know that I can import the certificate into the JRE's certificate authority store, and that will allow Java to accept it.  That's not an approach I want to take if I can help; it seems very invasive to do on all of our customer's machines for one module they may not use; it would affect all other Java applications using the same JRE, and I don't like that even though the odds of any other Java application ever accessing this site are nil.  It's also not a trivial operation: on UNIX I have to obtain access rights to modify the JRE in this way. I've also seen that I can create a TrustManager instance that does some custom checking.  It looks like I might even be able to create a TrustManager that delegates to the real TrustManager in all instances except this one certificate.  But it looks like that TrustManager gets installed globally, and I presume would affect all other connections from our application, and that doesn't smell quite right to me, either. What is the preferred, standard, or best way to set up a Java application to accept a self-signed certificate?  Can I accomplish all of the goals I have in mind above, or am I going to have to compromise?  Is there an option involving files and directories and configuration settings, and little-to-no code? 
===LINK===
http://stackoverflow.com/questions/859111/how-can-i-use-different-certificates-on-specific-connections
===KEYWORDS===
incorporate 
===ANSWER===
143
<html><body><p>Create an <code>SSLSocket</code> factory yourself, and set it on the <code>HttpsURLConnection</code> before connecting.</p><pre><code>...
HttpsURLConnection conn = (HttpsURLConnection)url.openConnection();
conn.setSSLSocketFactory(sslFactory);
conn.setMethod("POST");
...
</code></pre><p>You'll want to create one <code>SSLSocketFactory</code> and keep it around. Here's a sketch of how to initialize it:</p><pre><code>/* Load the keyStore that includes self-signed cert as a "trusted" entry. */
KeyStore keyStore = ... 
TrustManagerFactory tmf = 
  TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
tmf.init(keyStore);
SSLContext ctx = SSLContext.getInstance("TLS");
ctx.init(null, tmf.getTrustManagers(), null);
sslFactory = ctx.getSocketFactory();
</code></pre><p>If you need help creating the key store, please comment.</p><p>Here's an example of loading the key store:</p><pre><code>KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());
keyStore.load(trustStore, trustStorePassword);
trustStore.close();
</code></pre><p>To create the key store with a PEM format certificate, you can write your own code using <code>CertificateFactory</code>, or just import it with <code>keytool</code> from the JDK (keytool <em>won't</em> work for a "key entry", but is just fine for a "trusted entry").</p><pre><code>keytool -import -file selfsigned.pem -alias server -keystore server.jks
</code></pre></body></html>

===ID===
584e5ad23e2ca51be94fee4f
===QUESTION===
How do I remove repeated elements from ArrayList?
I have an  ArrayList  of  Strings , and I want to remove repeated strings from it. How can I do this? 
===LINK===
http://stackoverflow.com/questions/203984/how-do-i-remove-repeated-elements-from-arraylist
===KEYWORDS===
arraylist 
===ANSWER===
586
<html><body><p>If you don't want duplicates in a <code>Collection</code>, you should consider why you're using a <code>Collection</code> that allows duplicates. The easiest way to remove repeated elements is to add the contents to a <code>Set</code> (which will not allow duplicates) and then add the <code>Set</code> back to the <code>ArrayList</code>:</p><pre><code>List&lt;String&gt; al = new ArrayList&lt;&gt;();
// add elements to al, including duplicates
Set&lt;String&gt; hs = new HashSet&lt;&gt;();
hs.addAll(al);
al.clear();
al.addAll(hs);
</code></pre><p>Of course, this destroys the ordering of the elements in the <code>ArrayList</code>.</p></body></html>

===ID===
584e5ad33e2ca51be94fee50
===QUESTION===
How do I run a batch file from my Java Application?
In my Java application I want to run a batch file that calls " scons -Q implicit-deps-changed build\file_load_type export\file_load_type " It seems that I can't even get my batch file to execute. I'm out of ideas.  This is what I have in Java: Previously I had a python Sconscript file that I wanted to run but since that didn't work I decided I would call the script via a batch file but that method has not been successful as of yet.  
===LINK===
http://stackoverflow.com/questions/615948/how-do-i-run-a-batch-file-from-my-java-application
===KEYWORDS===
successful 
===ANSWER===
132
<html><body><pre><code>Runtime.getRuntime().exec("cmd /c start build.bat");
</code></pre></body></html>

===ID===
584e5ad43e2ca51be94fee51
===QUESTION===
Java: recommended solution for deep cloning/copying an instance
I'm wondering if there is a recommended way of doing deep clone/copy of instance in java. I have 3 solutions in mind, but I can have miss some,  and I'd like to have your opinion edit: include Bohzo propositon and refine question: it's more about deep cloning than shallow cloning. code the clone by hand properties after properties and check that mutable instances are cloned too. 
 pro: 
- control of what will be performed 
- quick execution 
 cons: 
- tedious to write and maintain 
- bug prone (copy/paste failure, missing property, reassigned mutable property)  With your own reflection tools or with an external helper (like jakarta common-beans) it is easy to write a generic copy method that will do the job in one line. 
 pro: 
- easy to write 
- no maintenance 
 cons: 
- less control of what happens 
- bug prone with mutable object if the reflection tool does not clone sub objects too 
- slower execution Use a framework that do it for you, like : 
 commons-lang SerializationUtils 
 Java Deep Cloning Library 
 Dozer 
 Kryo pro: 
- same as reflection 
- more control over what will be exactly be cloned. 
 cons: 
- every mutable instance is fully cloned, even at the end of the hierarchy 
- could be very slow to execute javassit ,  BCEL  or  cglib  might be use to generate a dedicated cloner as fast as one hand writed. Someone knows a lib using one of these tools for this purpose ? What I have missed here ? 
Which one would you recommend ? Thanks. 
===LINK===
http://stackoverflow.com/questions/2156120/java-recommended-solution-for-deep-cloning-copying-an-instance
===KEYWORDS===
control 
===ANSWER===
105
<html><body><li><p><a href="http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/SerializationUtils.html" rel="nofollow noreferrer">commons-lang SerializationUtils</a> - using serialization - if all classes are in your control and you can force implementing <code>Serializable</code>.</p></li><p><a href="http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/SerializationUtils.html" rel="nofollow noreferrer">commons-lang SerializationUtils</a> - using serialization - if all classes are in your control and you can force implementing <code>Serializable</code>.</p><li><p><a href="https://github.com/kostaskougios/cloning/" rel="nofollow noreferrer">Java Deep Cloning Library</a> - using reflection - in cases when the classes or the objects you want to clone are out of your control (a 3rd party library) and you can't make them implement <code>Serializable</code>, or in cases you don't want to implement <code>Serializable</code>.</p></li><p><a href="https://github.com/kostaskougios/cloning/" rel="nofollow noreferrer">Java Deep Cloning Library</a> - using reflection - in cases when the classes or the objects you want to clone are out of your control (a 3rd party library) and you can't make them implement <code>Serializable</code>, or in cases you don't want to implement <code>Serializable</code>.</p><li><p><a href="https://commons.apache.org/proper/commons-beanutils/javadocs/v1.8.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#cloneBean(java.lang.Object)" rel="nofollow noreferrer">commons-beanutils BeanUtils</a> - in most cases.</p></li><p><a href="https://commons.apache.org/proper/commons-beanutils/javadocs/v1.8.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#cloneBean(java.lang.Object)" rel="nofollow noreferrer">commons-beanutils BeanUtils</a> - in most cases.</p><li><p><a href="http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/beans/BeanUtils.html" rel="nofollow noreferrer">Spring BeanUtils</a> - if you are already using spring and hence have this utility on the classpath.</p></li><p><a href="http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/beans/BeanUtils.html" rel="nofollow noreferrer">Spring BeanUtils</a> - if you are already using spring and hence have this utility on the classpath.</p><p>I deliberately omitted the "do-it-yourself" option - the API's above provide a good control over what to and what not to clone (for example using <code>transient</code>, or <code>String[] ignoreProperties</code>), so reinventing the wheel isn't preferred.</p></body></html>

===ID===
584e5ad63e2ca51be94fee52
===QUESTION===
Java: How do I count the number of occurrences of a char in a String?
I have the string  I want to count the occurrences of '.' in an idiomatic way, preferably a one-liner. (Previously I had expressed this constraint as "without a loop", in case you're wondering why everyone's trying to answer without using a loop). 
===LINK===
http://stackoverflow.com/questions/275944/java-how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string
===KEYWORDS===
count 
===ANSWER===
467
<html><body><p>My 'idiomatic one-liner' for this is:</p><pre><code>int count = StringUtils.countMatches("a.b.c.d", ".");
</code></pre><p>Why write it yourself when it's already in <a href="http://commons.apache.org/lang/" rel="nofollow noreferrer">commons lang</a>?</p><p>Spring Framework's oneliner for this is:</p><pre><code>int occurance = StringUtils.countOccurrencesOf("a.b.c.d", ".");
</code></pre></body></html>

===ID===
584e5ad73e2ca51be94fee53
===QUESTION===
Convert a JSON string to object in Java ME?
Is there a way in Java/J2ME to convert a string, such as: to an internal Object representation of the same, in one line of code?  Because the current method is too tedious: Maybe a JSON library? 
===LINK===
http://stackoverflow.com/questions/1395551/convert-a-json-string-to-object-in-java-me
===KEYWORDS===
tedious 
===ANSWER===
105
<html><body><p>I used a few of them and my favorite is,</p><p><a href="http://code.google.com/p/json-simple/" rel="nofollow noreferrer">http://code.google.com/p/json-simple/</a></p><p>The library is very small so it's perfect for J2ME. </p><p>You can parse JSON into Java object in one line like this,</p><pre><code>JSONObject json = (JSONObject)new JSONParser().parse("{\"name\":\"MyNode\", \"width\":200, \"height\":100}");
System.out.println("name=" + json.get("name"));
System.out.println("width=" + json.get("width"));
</code></pre></body></html>

===ID===
584e5ad83e2ca51be94fee54
===QUESTION===
How do I reverse an int array in Java?
I am trying to reverse an int array in Java. This method does not reverse the array.   What is wrong with it? 
===LINK===
http://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java
===KEYWORDS===
wrong 
===ANSWER===
168
<html><body><p>To reverse an int array, you swap items up until you reach the midpoint, like this:</p><pre><code>for(int i = 0; i &lt; validData.length / 2; i++)
{
    int temp = validData[i];
    validData[i] = validData[validData.length - i - 1];
    validData[validData.length - i - 1] = temp;
}
</code></pre><p>The way you are doing it, you swap each element twice, so the result is the same as the initial list.</p></body></html>

===ID===
584e5ad83e2ca51be94fee55
===QUESTION===
Type List vs type ArrayList in Java
I understand that with (1), implementations of the List interface can be swapped.  It seems that (1) is typically used in an application regardless of need (myself I always use this).  I am wondering if anyone uses (2)?  Also, how often (and can I please get an example) does the situation actually require using (1) over (2) (i.e. where (2) wouldn't suffice..aside 'coding to interfaces' and best practices etc.) Thanks 
===LINK===
http://stackoverflow.com/questions/2279030/type-list-vs-type-arraylist-in-java
===KEYWORDS===
wouldn 
===ANSWER===
266
<html><body><p>Almost always the first one is preferred over the second one. The first has the advantage that the implementation of the <code>List</code> can change (to a <a href="http://java.sun.com/javase/7/docs/api/java/util/LinkedList.html" rel="nofollow noreferrer"><code>LinkedList</code></a> for example), without affecting the rest of the code. This will be a difficult task to do with an <code>ArrayList</code>, not only because you will need to change <code>ArrayList</code> to <code>LinkedList</code> everywhere, but also because you may have used <code>ArrayList</code> specific methods.</p><p>You can read about <code>List</code> implementations <a href="http://java.sun.com/docs/books/tutorial/collections/implementations/list.html" rel="nofollow noreferrer">here</a>. You may start with an <code>ArrayList</code>, but soon afterwards discover that another implementation is more appropriate.</p></body></html>

===ID===
584e5ad93e2ca51be94fee56
===QUESTION===
Initialize class fields in constructor or at declaration?
I've been programming in C# and Java recently and I am curious where the best place is to initialize my class fields. Should I do it at declaration?: or in a constructor?: I'm really curious what some of you veterans think is the best practice. I want to be consistent and stick to one approach. 
===LINK===
http://stackoverflow.com/questions/24551/initialize-class-fields-in-constructor-or-at-declaration
===KEYWORDS===
practice 
===ANSWER===
187
<html><body><p>My rules:</p><li>Don't initialize with the default values in declaration (<code>null</code>, <code>false</code>, <code>0</code>, <code>0.0</code>…).</li><li>Prefer initialization in declaration if you don't have a constructor parameter that changes the value of the field.</li><li>If the value of the field changes because of a constructor parameter put the initialization in the constructors.</li><li>Be consistent in your practice (the most important rule).</li></body></html>

===ID===
584e5ada3e2ca51be94fee57
===QUESTION===
Netbeans GUI editor generating its own incomprehensible code
When creating a new project in netbeans, if i select JAVA Desktop application, it creates some code which I DO NOT RECOGNISE AT ALL as what i had learnt in swing. It imports packages such as : also, the declaration for main() looks like this : This really does not make any sense to my knowledge of JFrame, JPanel etc.. If i try to code a  netbeans application from scratch, i can write my own swing app BUT I CANNOT FIND THE GUI EDITOR. Please help. This is really frustrating. 
===LINK===
http://stackoverflow.com/questions/2561480/netbeans-gui-editor-generating-its-own-incomprehensible-code
===KEYWORDS===
creates 
===ANSWER===
23
<html><body><p>You may have inadvertently selected <code>Java Desktop Application</code></p><p>Creates a skeleton of a desktop application based on the <a href="http://en.wikipedia.org/wiki/Swing_Application_Framework" rel="nofollow noreferrer">Swing Application Framework (JSR 296)</a>. This template provides basic application infrastructure such as a menu bar, persisting of window state, and status bar. With this template, you can also generate code to create a GUI interface for a database table.</p><p>Rather than <code>Java Application</code></p><p>Creates a new Java SE application in a standard IDE project. You can also generate a main class in the project. Standard projects use an IDE-generated Ant build script to build, run, and debug your project.</p><p>Addendum: Use <code>File &gt; New File &gt; Java GUI Forms</code> to add high-level containers, e.g. an enclosing <code>JPanel</code>, that can be instantiated from <code>main()</code>'s <code>run()</code> method.</p><p>For example, <code>Main.main()</code>:</p><pre><code>package temp;
import java.awt.EventQueue;
import javax.swing.JFrame;

public class Main {
    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                JFrame f = new JFrame();
                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                f.add(new NewJPanel());
                f.pack();
                f.setVisible(true);
            }
        });
    }
}
</code></pre><p>And a <code>NewJPanel</code> built in the GUI editor (note "Generated Code"):</p><pre><code>package temp;
public class NewJPanel extends javax.swing.JPanel {

    /** Creates new form NewJPanel */
    public NewJPanel() {
        initComponents();
    }

    @SuppressWarnings("unchecked")
    // &lt;editor-fold defaultstate="collapsed" desc="Generated Code"&gt;
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();

        jLabel1.setText("Hello, world!");

        org.jdesktop.layout.GroupLayout layout =
            new org.jdesktop.layout.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(layout.createSequentialGroup()
                .add(163, 163, 163)
                .add(jLabel1)
                .addContainerGap(157, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(layout.createSequentialGroup()
                .add(113, 113, 113)
                .add(jLabel1)
                .addContainerGap(171, Short.MAX_VALUE))
        );
    }// &lt;/editor-fold&gt;

    // Variables declaration - do not modify
    private javax.swing.JLabel jLabel1;
    // End of variables declaration
 }
</code></pre></body></html>

===ID===
584e5adb3e2ca51be94fee58
===QUESTION===
What are the Xms and Xmx parameters when starting JVMs? [duplicate]
This question already has an answer here: Please explain the use of  Xms  and  Xmx  parameters in JVMs. What are the default values for them? 
===LINK===
http://stackoverflow.com/questions/14763079/what-are-the-xms-and-xmx-parameters-when-starting-jvms
===KEYWORDS===
jvms 
===ANSWER===
603
<html><body><p>The flag <code>Xmx</code> specifies the maximum memory allocation pool for a Java Virtual Machine (JVM), while <code>Xms</code> specifies the initial memory allocation pool.</p><p>This means that your JVM will be started with <code>Xms</code> amount of memory and will be able to use a maximum of <code>Xmx</code> amount of memory. For example, starting a JVM like below will start it with 256MB of memory, and will allow the process to use up to 2048MB of memory:</p><pre><code>java -Xmx2048m -Xms256m
</code></pre><p>The memory flag can also be specified in multiple sizes, such as kilobytes, megabytes, and so on.</p><pre><code>-Xmx1024k
-Xmx512m
-Xmx8g
</code></pre><p>The <code>Xms</code> flag has no default value, and <code>Xmx</code> typically has a default value of 256MB. A common use for these flags is when you encounter a <code>java.lang.OutOfMemoryError</code>.</p><p>When using these settings, keep in mind that these settings are for the JVM's <em>heap</em>, and that the JVM can/will use more memory than just the size allocated to the heap. From <a href="http://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/garbage_collect.html">Oracle's Documentation</a>:</p><p>Note that the JVM uses more memory than just the heap. For example Java methods, thread stacks and native handles are allocated in memory separate from the heap, as well as JVM internal data structures.</p></body></html>

===ID===
584e5adb3e2ca51be94fee59
===QUESTION===
Sending POST data in Android
I'm experienced with  PHP ,  JavaScript  and a lot of other scripting languages, but I don't have a lot of experience with  Java  or  Android . I'm looking for a way to send  POST  data to a  PHP  script and display the result.                 
===LINK===
http://stackoverflow.com/questions/2938502/sending-post-data-in-android
===KEYWORDS===
experienced 
===ANSWER===
254
<html><body><p><strong><em>Updated Answer which works on Android 6.0</em></strong></p><pre><code>    public class CallAPI extends AsyncTask&lt;String, String, String&gt; {

        public CallAPI(){
            //set context variables if required
        }

        @Override
        protected void onPreExecute() {
            super.onPreExecute();
        }


         @Override
         protected String doInBackground(String... params) {

            String urlString = params[0]; // URL to call

            String resultToDisplay = "";

            InputStream in = null;
            try {

                URL url = new URL(urlString);

                HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();

                in = new BufferedInputStream(urlConnection.getInputStream());


            } catch (Exception e) {

                System.out.println(e.getMessage());

                return e.getMessage();

            }

            try {
                resultToDisplay = IOUtils.toString(in, "UTF-8");
                //to [convert][1] byte stream to a string 
            } 
            catch (IOException e) {
                e.printStackTrace();
            }
            return resultToDisplay;
        }


         @Override
        protected void onPostExecute(String result) {
            //Update the UI
        }
</code></pre><p><strong><em>Older Answer</em></strong></p><p><strong><em>Note: This solution is outdated. It only works on Android devices up to 5.1. Android 6.0 and above do not include the Apache http client used in this answer.</em></strong></p><p>Http Client from Apache Commons is the way to go. It is already included in android. Here's a simple example of how to do HTTP Post using it.</p><pre><code>public void postData() {
    // Create a new HttpClient and Post Header
    HttpClient httpclient = new DefaultHttpClient();
    HttpPost httppost = new HttpPost("http://www.yoursite.com/script.php");

    try {
        // Add your data
        List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(2);
        nameValuePairs.add(new BasicNameValuePair("id", "12345"));
        nameValuePairs.add(new BasicNameValuePair("stringdata", "Hi"));
        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

        // Execute HTTP Post Request
        HttpResponse response = httpclient.execute(httppost);

    } catch (ClientProtocolException e) {
        // TODO Auto-generated catch block
    } catch (IOException e) {
        // TODO Auto-generated catch block
    }
} 
</code></pre></body></html>

===ID===
584e5add3e2ca51be94fee5a
===QUESTION===
StreamCorruptedException: invalid type code: AC
My problem is when it tries to read the object the second time, it throws the exception:  The first time I send the exact same object message; however, when I try doing the same thing the second time, it throws the error above. Do I need to re-intialize the readObject() method? I even printed out the message object that is being received by the line below and its exact the same as the first instance where it works ok.  I'm assuming there's some problem with appending, but I really have no use for appending. I just want to read a fresh line everytime.
I'd really appreciate some help in fixing this bug. Thank you. ================================== Before that one line, I'm just creating the input and output objects for the socket in the run() method. The object declaration is outside the run() method in the class:- You're right; I don't close the object. I'm not sure how to do that. 
===LINK===
http://stackoverflow.com/questions/2393179/streamcorruptedexception-invalid-type-code-ac
===KEYWORDS===
close 
===ANSWER===
49
<html><body><p>The underlying problem is that you are using a new <code>ObjectOutputStream</code> to write to an existing <code>ObjectInputStream</code> that you have already used a prior <code>ObjectOutputStream</code> to write to. These streams have headers which are written and read by the respective constructors, so if you create another <code>ObjectOutputStream</code> you will write a new header, which starts with - guess what? - <code>0xAC,</code> and the existing <code>ObjectInputStream</code> isn't expecting another header at this point so it barfs.</p><p>In the Java Forums thread cited by @trashgod, I should have left out the part about 'anew for each object at both ends': that's just wasteful. Use a single OOS and OIS for the life of the socket, and don't use any other streams on the socket.</p><p>If you want to forget what you've written, use <code>ObjectOutputStream.reset().</code></p><p>And don't use any other streams or <code>Readers</code> or <code>Writers</code> on the same socket. The object stream APIs can handle all Java primitive datatypes and all <code>Serializable</code> classes.</p></body></html>

===ID===
584e5adf3e2ca51be94fee5b
===QUESTION===
Can I add jars to maven 2 build classpath without installing them?
Maven2 is driving me crazy during the experimentation / quick and dirty mock-up phase of development.   I have a  pom.xml  file that defines the dependencies for the web-app framework I want to use, and I can quickly generate starter projects from that file. However, sometimes I want to link to a 3rd party library that doesn't already have a  pom.xml  file defined, so rather than create the  pom.xml  file for the 3rd party lib by hand and install it, and add the dependency to my  pom.xml , I would just like to tell Maven: "In addition to my defined dependencies, include any jars that are in  /lib  too."   It seems like this ought to be simple, but if it is, I am missing something. Any pointers on how to do this are greatly appreciated. Short of that, if there is a simple way to point maven to a  /lib  directory and easily create a  pom.xml  with all the enclosed jars mapped to a single dependency which I could then name / install and link to in one fell swoop would also suffice. 
===LINK===
http://stackoverflow.com/questions/364114/can-i-add-jars-to-maven-2-build-classpath-without-installing-them
===KEYWORDS===
crazy 
===ANSWER===
500
<html><body><p>Most of the answers you'll find around the internet will suggest you to either install the dependency to your local repository or specify a "system" scope in the <code>pom</code> and distribute the dependency with the source of your project. But both of these solutions are actually flawed.</p><p>When you install a dependency to your local repository it remains there. Your distribution artifact will do fine as long as it has access to this repository. The problem is in most cases this repository will reside on your local machine, so there'll be no way to resolve this dependency on any other machine. Clearly making your artifact depend on a specific machine is not a way to handle things. Otherwise this dependency will have to be locally installed on every machine working with that project which is not any better.</p><p>The jars you depend on with the "System Scope" approach neither get installed to any repository or attached to your target packages. That's why your distribution package won't have a way to resolve that dependency when used. That I believe was the reason why the use of system scope even got deprecated. Anyway you don't want to rely on a deprecated feature.</p><p>After putting this in your <code>pom</code>:</p><pre class="lang-xml prettyprint-override"><code>&lt;repository&gt;
    &lt;id&gt;repo&lt;/id&gt;
    &lt;releases&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;checksumPolicy&gt;ignore&lt;/checksumPolicy&gt;
    &lt;/releases&gt;
    &lt;snapshots&gt;
        &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;/snapshots&gt;
    &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;
&lt;/repository&gt;
</code></pre><p>for each artifact with a group id of form <code>x.y.z</code> Maven will include the following location inside your project dir in its search for artifacts:</p><pre><code>repo/
| - x/
|   | - y/
|   |   | - z/
|   |   |   | - ${artifactId}/
|   |   |   |   | - ${version}/
|   |   |   |   |   | - ${artifactId}-${version}.jar
</code></pre><p>To elaborate more on this you can read <a href="http://blog.dub.podval.org/2010/01/maven-in-project-repository.html">this blog post</a>.</p><p>Instead of creating this structure by hand I recommend to use a Maven plugin to install your jars as artifacts. So, to install an artifact to an in-project repository under <code>repo</code> folder execute:</p><pre><code>mvn install:install-file -DlocalRepositoryPath=repo -DcreateChecksum=true -Dpackaging=jar -Dfile=[your-jar] -DgroupId=[...] -DartifactId=[...] -Dversion=[...]
</code></pre><p>If you'll choose this approach you'll be able to simplify the repository declaration in <code>pom</code> to:</p><pre class="lang-xml prettyprint-override"><code>&lt;repository&gt;
    &lt;id&gt;repo&lt;/id&gt;
    &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;
&lt;/repository&gt;
</code></pre><p>Since executing installation command for each lib is kinda annoying and definitely error prone, I've created a <a href="https://github.com/nikita-volkov/install-to-project-repo">utility script</a> which automatically installs all the jars from a <code>lib</code> folder to a project repository, while automatically resolving all metadata (groupId, artifactId and etc.) from names of files. The script also prints out the dependencies xml for you to copy-paste in your <code>pom</code>.</p><p>When you'll have your in-project repository created you'll have solved a problem of distributing the dependencies of the project with its source, but since then your project's target artifact will depend on non-published jars, so when you'll install it to a repository it will have unresolvable dependencies. </p><p>To beat this problem I suggest to include these dependencies in your target package. This you can do with either the <a href="http://stackoverflow.com/a/1729094/485115">Assembly Plugin</a> or better with the <a href="http://code.google.com/p/onejar-maven-plugin/">OneJar Plugin</a>. The official documentaion on OneJar is easy to grasp.</p></body></html>

===ID===
584e5ae03e2ca51be94fee5c
===QUESTION===
HTTP URL Address Encoding in Java
My Java standalone application gets a URL (which points to a file) from the user and I need to hit it and download it. The problem I am facing is that I am not able to encode the HTTP URL address properly... Example:  returns me: But, what I want is (space replaced by %20) I guess  URLEncoder  is not designed to encode HTTP URLs... The JavaDoc says "Utility class for HTML form encoding"... Is there any other way to do this? 
===LINK===
http://stackoverflow.com/questions/724043/http-url-address-encoding-in-java
===KEYWORDS===
hit 
===ANSWER===
245
<html><body><p>The <a href="http://java.sun.com/javase/6/docs/api/java/net/URI.html" rel="nofollow noreferrer">java.net.URI</a> class can help; in the documentation of URL you find</p><p>Note, the URI class does perform escaping of its component fields in certain circumstances. The recommended way to manage the encoding and decoding of URLs is to use an URI</p><p>Use one of the constructors with more than one argument, like:</p><pre><code>URI uri = new URI(
    "http", 
    "search.barnesandnoble.com", 
    "/booksearch/first book.pdf",
    null);
URL url = uri.toURL();
//or String request = uri.toString();
</code></pre><p><em>(the single-argument constructor of URI does NOT escape illegal characters)</em> </p><p>EDIT: added fully qualified class name to avoid confusion with other <code>URI</code> classes (like apaches httpclient)</p><p>EDIT 2:<br>
Only illegal characters get escaped by above code - it does NOT escape non-ASCII characters (see fatih's comment).<br>
The <code>toASCIIString</code> method can be used to get a String only with US-ASCII characters:  </br></br></p><pre><code>URI uri = new URI(
    "http", 
    "search.barnesandnoble.com", 
    "/booksearch/é",
    null);
String request = uri.toASCIIString();
</code></pre><p>EDIT 3:<br>
For an URL with a query like <code>http://www.google.com/ig/api?weather=São Paulo</code>, use the 5-parameter version of the constructor:  </br></p><pre><code>URI uri = new URI(
        "http", 
        "www.google.com", 
        "/ig/api",
        "weather=São Paulo",
        null);
String request = uri.toASCIIString();
</code></pre></body></html>

===ID===
584e5ae03e2ca51be94fee5d
===QUESTION===
Difference between string object and string literal [duplicate]
This question already has an answer here: What is the difference between  and  
===LINK===
http://stackoverflow.com/questions/3297867/difference-between-string-object-and-string-literal
===KEYWORDS===
answer 
===ANSWER===
149
<html><body><p>When you use a string literal the string can be <a href="http://en.wikipedia.org/wiki/String_interning" rel="nofollow noreferrer"><em>interned</em></a>, but when you use <code>new String("...")</code> you get a new string object.</p><p>In this example both string literals refer the same object:</p><pre><code>String a = "abc"; 
String b = "abc";
System.out.println(a == b);  // true
</code></pre><p>Here, 2 different objects are created and they have different references:</p><pre><code>String c = new String("abc");
String d = new String("abc");
System.out.println(c == d);  // false
</code></pre><p>In general, you should use the string literal notation when possible. It is easier to read and it gives the compiler a chance to <em>optimize</em> your code.</p></body></html>

===ID===
584e5ae23e2ca51be94fee5e
===QUESTION===
What exactly is Java EE?
I have been doing Java SE for some years now and moving on to Java EE. However I have some trouble understanding some aspects of Java EE. Is Java EE just a specification? What I mean is: Is EJB Java EE?   Are EJB/Spring different implementations of Java EE? I am sorry to ask but I have some difficulties to understand what Java EE is. Could someone explain what Java EE is? And EJB? 
===LINK===
http://stackoverflow.com/questions/7295096/what-exactly-is-java-ee
===KEYWORDS===
aspects 
===ANSWER===
83
<html><body><p><em>Is Java EE just a specification? What I mean is: Is EJB Java EE?</em></p><p>Java EE is indeed an <strong>abstract</strong> specification. Anybody is open to develop and provide a working implementation of the specification. The <em>concrete</em> implementations are the so-called application servers, like <a href="http://wildfly.org">WildFly</a>, <a href="http://tomee.apache.org">TomEE</a>, <a href="http://glassfish.org">GlassFish</a>, <a href="http://www-03.ibm.com/software/products/en/appserv-was-liberty-core">Liberty</a>, <a href="http://www.oracle.com/technetwork/middleware/weblogic/overview/index.html">WebLogic</a>, etc. There are also servlet containers which implement only the JSP/Servlet part of the huge Java EE API, such as <a href="http://tomcat.apache.org">Tomcat</a>, <a href="http://www.eclipse.org/jetty/">Jetty</a>, etc.</p><p>We, Java EE developers, should write code utilizing the specification (i.e. import <em>only</em> <code>javax.*</code> classes in our code instead of implementation specific classes such as <code>org.jboss.wildfly.*</code>, <code>com.sun.glassfish.*</code>, etc) and then we'll be able to run our code on any implementation (thus, on any application server). If you're familiar with JDBC, it's basically the same concept as how JDBC drivers work. See also a.o. <a href="http://stackoverflow.com/questions/7550612/in-simplest-terms-what-is-a-factory">In simplest terms, what is a factory?</a></p><p>The <a href="http://www.oracle.com/technetwork/java/javaee/downloads/index.html">Java EE SDK download</a> from Oracle.com contains basically the GlassFish server along a bunch of documentation and examples and optionally also the NetBeans IDE. You don't need it if you want a different server and/or IDE.</p><p>EJB is part of the Java EE specification. Look, <a href="http://download.oracle.com/javaee/6/api/javax/ejb/package-summary.html">it's in the Java EE API</a>. Full-fledged Java EE application servers support it out the box, but simple JSP/Servlet containers don't.</p><li><a href="http://stackoverflow.com/questions/2296678/where-can-i-find-a-list-of-all-the-reference-implementations-for-jee6">Where can I find a list of all the reference implementations for Java EE 6?</a></li><li><a href="http://stackoverflow.com/questions/1958808/java-web-development-what-skills-do-i-need">Java EE web development, where do I start and what skills do I need?</a></li><li><a href="http://stackoverflow.com/questions/1960280/what-to-learn-for-making-java-web-applications-in-java-ee-6">What to learn for making Java web applications in Java EE 6?</a></li><p><em>Are EJB/Spring different implementations of Java EE?</em></p><p>No, as said, EJB is part of Java EE. Spring is a standalone framework which substitutes and improves many parts of Java EE. Spring doesn't necessarily require Java EE to run. A barebones servletcontainer like Tomcat is already sufficient. Simply put, Spring is a competitor of Java EE. E.g. "Spring" (standalone) competes EJB/JTA, Spring MVC competes JSF/JAX-RS, Spring DI/IoC/AOP competes CDI, Spring Security competes JAAS/JASPIC, etc.</p><p>Back during the old J2EE/EJB2 times, the EJB2 API was terrible to implement and maintain. Spring was then a much better alternative to EJB2. But since EJB3 (Java EE 5), the EJB API was much improved based on lessons learnt from Spring. Since CDI (Java EE 6), there's not really a reason to look at again <em>another</em> framework like Spring to make the developers more easy as to developing among others the service layer.</p><p>Only when you're using a barebones servletcontainer such as Tomcat and can't move on to a Java EE server, then Spring is more attractive as it's easier to install Spring on Tomcat. It isn't possible to install e.g. an EJB container om Tomcat without modifying the server itself, you would basically be reinventing TomEE.</p><li><a href="http://stackoverflow.com/questions/18369356/when-is-it-necessary-or-convenient-to-use-springjsf2-or-ejb3jsf2-or-all-of-the">When is it necessary or convenient to use Spring or EJB3 or all of them together?</a></li><li><a href="http://stackoverflow.com/questions/2499323/jee6-vs-spring-3-stack">Java EE 6 vs. Spring 3 stack</a></li><li><a href="http://stackoverflow.com/questions/18744910/using-jsf-as-view-technology-of-spring-mvc">Using JSF as view technology of Spring MVC</a></li></body></html>

===ID===
584e5ae33e2ca51be94fee5f
===QUESTION===
String not replacing characters
I have a sentence that is passed in as a string and I am doing a replace on the word "and" and I want to replace it with " ".  And it's not replacing the word "and" with white space.  Below is an example of my logic.  And when I debug this the logic does fall into the sentence.replace. Is there something I am missing here. 
===LINK===
http://stackoverflow.com/questions/12734721/string-not-replacing-characters
===KEYWORDS===
word 
===ANSWER===
139
<html><body><p>And when I debug this the logic does fall into the sentence.replace.</p><p>Yes, and then you discard the return value.</p><p>Strings in Java are immutable - when you call <code>replace</code>, it doesn't change the contents of the <em>existing</em> string - it returns a <em>new</em> string with the modifications. So you want:</p><pre><code>sentence = sentence.replace("and", " ");
</code></pre><p>This applies to <em>all</em> the methods in String (<code>substring</code>, <code>toLowerCase</code> etc). <em>None</em> of them change the contents of the string.</p><p>Note that you don't really need to do this in a condition - after all, if the sentence <em>doesn't</em> contain <code>"and"</code>, it does no harm to perform the replacement:</p><pre><code>String sentence = "Define, Measure, Analyze, Design and Verify";
sentence = sentence.replace("and", " ");
</code></pre></body></html>

===ID===
584e5ae33e2ca51be94fee60
===QUESTION===
How do the post increment (i++) and pre increment (++i) operators work in Java?
Can you explain to me the output of this Java code? The output is 20 in both cases 
===LINK===
http://stackoverflow.com/questions/2371118/how-do-the-post-increment-i-and-pre-increment-i-operators-work-in-java
===KEYWORDS===
output 
===ANSWER===
63
<html><body><p>Does this help?</p><pre><code>a = 5;
i=++a + ++a + a++; =&gt;
i=6 + 7 + 7; (a=8)

a = 5;
i=a++ + ++a + ++a; =&gt;
i=5 + 7 + 8; (a=8)
</code></pre></body></html>

===ID===
584e5ae43e2ca51be94fee61
===QUESTION===
Java tree data-structure?
Is there a good available (standard Java) data structure to represent a tree in Java? Specifically I need to represent the following: Is there an available structure for this or do I need to create my own (if so implementation suggestions would be great). 
===LINK===
http://stackoverflow.com/questions/3522454/java-tree-data-structure
===KEYWORDS===
represent 
===ANSWER===
194
<html><body><p>Here: </p><pre><code>public class Tree&lt;T&gt; {
    private Node&lt;T&gt; root;

    public Tree(T rootData) {
        root = new Node&lt;T&gt;();
        root.data = rootData;
        root.children = new ArrayList&lt;Node&lt;T&gt;&gt;();
    }

    public static class Node&lt;T&gt; {
        private T data;
        private Node&lt;T&gt; parent;
        private List&lt;Node&lt;T&gt;&gt; children;
    }
}
</code></pre><p>That is a basic tree structure that can be used for <code>String</code> or any other object.  It is fairly easy to implement simple trees to do what you need.</p><p>All you need to add are methods for add to, removing from, traversing, and constructors.  The <code>Node</code> is the basic building block of the <code>Tree</code>.</p></body></html>

===ID===
584e5ae53e2ca51be94fee62
===QUESTION===
getWidth() and getHeight() of View returns 0
I am creating all of the elements in my android project dynamically. I am trying to get the width and height of a button so that I can rotate that button around. I am just trying to learn how to work with the android language. However, it returns 0.  I did some research and I saw that it needs to be done somewhere other than in the  onCreate()  method. If someone can give me an example of how to do it, that would be great.  Here is my current code: Any help is appreciated. 
===LINK===
http://stackoverflow.com/questions/3591784/getwidth-and-getheight-of-view-returns-0
===KEYWORDS===
great 
===ANSWER===
93
<html><body><p>You are calling <code>getWidth()</code> too early. The UI has not been sized and laid out on the screen yet.</p><p>I doubt you want to be doing what you are doing, anyway -- widgets being animated do not change their clickable areas, and so the button will still respond to clicks in the original orientation regardless of how it has rotated.</p><p>That being said, you can use a <a href="http://developer.android.com/guide/topics/resources/more-resources.html#Dimension" rel="nofollow noreferrer">dimension resource</a> to define the button size, then reference that dimension resource from your layout file and your source code, to avoid this problem.</p></body></html>

===ID===
584e5ae63e2ca51be94fee63
===QUESTION===
Sorting an ArrayList of Contacts based on name?
Possible Duplicate: 
 Sorting a collection of objects   Ok so I have a been making an addressbook application and have pretty much finished all the key features but I am looking to implement a sort feature in the program. I want to sort an Arraylist which is of a type called Contact (contactArray) which is a separate class which contains four fields; name, home number, mobile number and address.
So I was looking into using the collection sort yet am not sure how i'd implement this. Is this the right sort I should be using / is it possible to use or should I look into making a custom sort? 
===LINK===
http://stackoverflow.com/questions/1814095/sorting-an-arraylist-of-contacts-based-on-name
===KEYWORDS===
sort 
===ANSWER===
197
<html><body><p>Here's a tutorial about ordering objects:</p><li><a href="http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html" rel="nofollow noreferrer">The Java Tutorials - Collections - Object Ordering</a></li><p>Although I will give some examples, I would recommend to read it anyway.</p><p>There are various way to sort an <code>ArrayList</code>. If you want to define a <strong>natural</strong> (default) <strong>ordering</strong>, then you need to let <code>Contact</code> implement <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html" rel="nofollow noreferrer"><code>Comparable</code></a>. Assuming that you want to sort by default on <code>name</code>, then do (nullchecks omitted for simplicity):</p><pre><code>public class Contact implements Comparable&lt;Contact&gt; {

    private String name;
    private String phone;
    private Address address;

    public int compareTo(Contact other) {
        return name.compareTo(other.name);
    }

    // Add/generate getters/setters and other boilerplate.
}
</code></pre><p>so that you can just do</p><pre><code>List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();
// Fill it.

Collections.sort(contacts);
</code></pre><p>If you want to define an <strong>external controllable ordering</strong> (which overrides the natural ordering), then you need to create a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html" rel="nofollow noreferrer"><code>Comparator</code></a>:</p><pre><code>List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();
// Fill it.

// Now sort by address instead of name (default).
Collections.sort(contacts, new Comparator&lt;Contact&gt;() {
    public int compare(Contact one, Contact other) {
        return one.getAddress().compareTo(other.getAddress());
    }
}); 
</code></pre><p>You can even define the <code>Comparator</code>s in the <code>Contact</code> itself so that you can reuse them instead of recreating them everytime:</p><pre><code>public class Contact {

    private String name;
    private String phone;
    private Address address;

    // ...

    public static Comparator&lt;Contact&gt; COMPARE_BY_PHONE = new Comparator&lt;Contact&gt;() {
        public int compare(Contact one, Contact other) {
            return one.phone.compareTo(other.phone);
        }
    };

    public static Comparator&lt;Contact&gt; COMPARE_BY_ADDRESS = new Comparator&lt;Contact&gt;() {
        public int compare(Contact one, Contact other) {
            return one.address.compareTo(other.address);
        }
    };

}
</code></pre><p>which can be used as follows:</p><pre><code>List&lt;Contact&gt; contacts = new ArrayList&lt;Contact&gt;();
// Fill it.

// Sort by address.
Collections.sort(contacts, Contact.COMPARE_BY_ADDRESS);

// Sort later by phone.
Collections.sort(contacts, Contact.COMPARE_BY_PHONE);
</code></pre><p>And to cream the top off, you could consider to use a <strong>generic javabean comparator</strong>:</p><pre><code>public class BeanComparator implements Comparator&lt;Object&gt; {

    private String getter;

    public BeanComparator(String field) {
        this.getter = "get" + field.substring(0, 1).toUpperCase() + field.substring(1);
    }

    public int compare(Object o1, Object o2) {
        try {
            if (o1 != null &amp;&amp; o2 != null) {
                o1 = o1.getClass().getMethod(getter, new Class[0]).invoke(o1, new Object[0]);
                o2 = o2.getClass().getMethod(getter, new Class[0]).invoke(o2, new Object[0]);
            }
        } catch (Exception e) {
            // If this exception occurs, then it is usually a fault of the developer.
            throw new RuntimeException("Cannot compare " + o1 + " with " + o2 + " on " + getter, e);
        }

        return (o1 == null) ? -1 : ((o2 == null) ? 1 : ((Comparable&lt;Object&gt;) o1).compareTo(o2));
    }

}
</code></pre><p>which you can use as follows:</p><pre><code>// Sort on "phone" field of the Contact bean.
Collections.sort(contacts, new BeanComparator("phone"));
</code></pre><p><em>(as you see in the code, possibly null fields are already covered to avoid NPE's during sort)</em></p></body></html>

===ID===
584e5ae83e2ca51be94fee64
===QUESTION===
Unsupported major.minor version 52.0 [duplicate]
This question already has an answer here: Pictures: 
 Command Prompt showing versions 
 Picture of error Does anyone know what the problem may be? 
===LINK===
http://stackoverflow.com/questions/22489398/unsupported-major-minor-version-52-0
===KEYWORDS===
picture 
===ANSWER===
92
<html><body><p>The issue is because of Java version mismatch. Referring to the <a href="https://en.wikipedia.org/wiki/Java_class_file">Wikipedia Java Class Reference</a> :</p><li>J2SE 8 = 52</li><li>J2SE 7 = 51 </li><li>J2SE 6.0 = 50  </li><li>J2SE 5.0 = 49</li><li>JDK 1.4 = 48</li><li>JDK 1.3 = 47</li><li>JDK 1.2 = 46</li><li>JDK 1.1 = 45</li><p>These are the reported major numbers. The error regarding the unsupported major.minor version is because <strong>during compile time you are using a higher JDK and a lower JDK during runtime</strong>.</p><p>Thus, the 'major.minor version 52.0' error is possibly because the jar is compiled in jdk 1.8, but you are trying to run it in jdk 1.7 environment. To solve this, it's always better to have the jdk and jre pointed to the same version.</p><p>In Intellij, </p><li>Go to Maven Settings -&gt; Maven -&gt; Importing. Set the JDK for importer to 1.8</li><li>Go to Maven Settings -&gt; Maven -&gt; Runner. Set the JRE to 1.8</li><li>Go to File -&gt; Project Structure -&gt; SDKs. Make sure the JDK home path is set to 1.8</li><p>Restart Intellij</p><p>Another approach which might help is by instructing IDEA which JDK version to start up with.</p><p>Go to : <strong>/Applications/IntelliJ\ IDEA\ 15\ CE.app/Contents/Info.plist</strong>
and replace the JVM version with :</p><pre><code>&lt;key&gt;JVMVersion&lt;/key&gt;
&lt;string&gt;1.8*&lt;/string&gt;
</code></pre></body></html>

===ID===
584e5ae83e2ca51be94fee65
===QUESTION===
How does Java handle integer underflows and overflows and how would you check for it?
How does Java handle integer underflows and overflows? Leading on from that, how would you check/test that this is occurring? 
===LINK===
http://stackoverflow.com/questions/3001836/how-does-java-handle-integer-underflows-and-overflows-and-how-would-you-check-fo
===KEYWORDS===
check 
===ANSWER===
125
<html><body><p>If it overflows, it goes back to the <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#MIN_VALUE" rel="nofollow noreferrer">minimum value</a> and continues from there. If it underflows, it goes back to the <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#MAX_VALUE" rel="nofollow noreferrer">maximum value</a> and continues from there.</p><p>You can check that beforehand as follows:</p><pre><code>public static boolean willAdditionOverflow(int left, int right) {
    if (right &lt; 0 &amp;&amp; right != Integer.MIN_VALUE) {
        return willSubtractionOverflow(left, -right);
    } else {
        return (~(left ^ right) &amp; (left ^ (left + right))) &lt; 0;
    }
}

public static boolean willSubtractionOverflow(int left, int right) {
    if (right &lt; 0) {
        return willAdditionOverflow(left, -right);
    } else {
        return ((left ^ right) &amp; (left ^ (left - right))) &lt; 0;
    }
}
</code></pre><p><em>(you can substitute <code>int</code> by <code>long</code> to perform the same checks for <code>long</code>)</em></p><p>If you think that this may occur more than often, then consider using a datatype or object which can store larger values, e.g. <code>long</code> or maybe <a href="http://docs.oracle.com/javase/6/docs/api/java/math/BigInteger.html" rel="nofollow noreferrer"><code>java.math.BigInteger</code></a>. The last one doesn't overflow, practically, the available JVM memory is the limit.</p><p>If you happen to be on Java8 already, then you can make use of the new <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#addExact-int-int-" rel="nofollow noreferrer"><code>Math#addExact()</code></a> and <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#subtractExact-int-int-" rel="nofollow noreferrer"><code>Math#subtractExact()</code></a> methods which will throw an <code>ArithmeticException</code> on overflow.</p><pre><code>public static boolean willAdditionOverflow(int left, int right) {
    try {
        Math.addExact(left, right);
        return false;
    } catch (ArithmeticException e) {
        return true;
    }
}

public static boolean willSubtractionOverflow(int left, int right) {
    try {
        Math.subtractExact(left, right);
        return false;
    } catch (ArithmeticException e) {
        return true;
    }
}
</code></pre><p>The source code can be found <a href="http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/Math.java#Math.addExact%28int%2Cint%29" rel="nofollow noreferrer">here</a> and <a href="http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/Math.java#Math.subtractExact%28int%2Cint%29" rel="nofollow noreferrer">here</a> respectively.</p><p>Of course, you could also just use them right away instead of hiding them in a <code>boolean</code> utility method.</p></body></html>

===ID===
584e5aea3e2ca51be94fee66
===QUESTION===
Do Java arrays have a maximum size?
Is there a limit to the number of elements a Java array can contain? If so, what is it? 
===LINK===
http://stackoverflow.com/questions/3038392/do-java-arrays-have-a-maximum-size
===KEYWORDS===
elements 
===ANSWER===
127
<html><body><p>Haven't seen the right answer, even though it's very easy to test.</p><p>In a recent HotSpot VM, the correct answer is <code>Integer.MAX_VALUE - 5</code>.  Once you go beyond that:</p><pre><code>public class Foo {
  public static void main(String[] args) {
    Object[] array = new Object[Integer.MAX_VALUE - 4];
  }
}
</code></pre><p>You get:</p><pre><code>Exception in thread "main" java.lang.OutOfMemoryError:
  Requested array size exceeds VM limit
</code></pre></body></html>

===ID===
584e5aeb3e2ca51be94fee67
===QUESTION===
Classpath including JAR within a JAR
Is it possible to specify a Java  classpath  that includes a JAR file contained within another JAR file? 
===LINK===
http://stackoverflow.com/questions/183292/classpath-including-jar-within-a-jar
===KEYWORDS===
jar 
===ANSWER===
77
<html><body><p>If you're trying to create a single jar that contains your application and it's required libraries, there are two ways (that I know of) to do that.  The first is <a href="http://one-jar.sourceforge.net/" rel="nofollow noreferrer">One-Jar</a>, which uses a special classloader to allow the nesting of jars.  The second is <a href="http://classworlds.codehaus.org/uberjar.html" rel="nofollow noreferrer">UberJar</a>, (or <a href="http://maven.apache.org/plugins/maven-shade-plugin/" rel="nofollow noreferrer">Shade</a>), which explodes the included libraries and puts all the classes in the top-level jar.</p><p>I should also mention that UberJar and Shade are plugins for Maven1 and Maven2 respectively.  As mentioned below, you can also use the assembly plugin (which in reality is much more powerful, but much harder to properly configure).</p></body></html>

===ID===
584e5aec3e2ca51be94fee68
===QUESTION===
How to find a button source in AWT (calculator homework)
We were asked to make a simple GUI calculator, I used getSource() to detect the buttons, cause that's what they taught us. It works by typing the 1st and 2nd value then choosing the operation, it worked. But I made a mistake, because what they want us to do is that the numbers should also be buttons, just like a real calculator. so how do i get the value of each button using getSource()? like when I press button 1 and 2 is equal to 3. heres what ive done 
===LINK===
http://stackoverflow.com/questions/7441625/how-to-find-a-button-source-in-awt-calculator-homework
===KEYWORDS===
ive 
===ANSWER===
15
<html><body><p>I would tend to have each button for the numbers, as well as each button for operands, add text to a text field that is the 'Input/Output'.  </p><p>Also have a button <code>=</code>.  When the <code>=</code> button is activated, call the <a href="http://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngine.html" rel="nofollow noreferrer"><code>javax.script.ScriptEngine</code></a> to evaluate the content of the I/O text field and write the result back to it.</p><p><img alt="Calculet input" src="https://i.stack.imgur.com/DVoux.png"> = <img alt="Calculet output" src="https://i.stack.imgur.com/KcbFU.png"/></img></p><pre><code>import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.border.EmptyBorder;
import java.util.ArrayList;

// script package introduced in Java 1.6
import javax.script.ScriptEngineManager;
import javax.script.ScriptEngine;
import javax.script.ScriptException;

class ScriptEngineCalculator implements ActionListener, KeyListener {

    private JTextField io;
    private ScriptEngine engine;
    private ArrayList&lt;JButton&gt; controls;
    private JPanel ui;

    ScriptEngineCalculator() {
        initUI();
    }

    public final void initUI() {
        // obtain a reference to the JS engine
        engine = new ScriptEngineManager().
                getEngineByExtension("js");

        ui = new JPanel(new BorderLayout(2, 2));
        controls = new ArrayList&lt;JButton&gt;();

        JPanel text = new JPanel(new GridLayout(0, 1, 3, 3));
        ui.add(text, BorderLayout.PAGE_START);
        io = new JTextField(15);
        Font font = io.getFont();
        font = font.deriveFont(font.getSize() * 1.8f);
        io.setFont(font);
        io.setHorizontalAlignment(SwingConstants.TRAILING);
        io.setFocusable(false);
        text.add(io);

        JPanel buttons = new JPanel(new GridLayout(4, 4, 2, 2));
        ui.add(buttons, BorderLayout.CENTER);
        String[] keyValues = {
            "7", "8", "9", "/",
            "4", "5", "6", "*",
            "1", "2", "3", "-",
            "0", ".", "C", "+"
        };

        for (String keyValue : keyValues) {
            addButton(buttons, keyValue);
        }

        JButton equals = new JButton("=");
        configureButton(equals);
        ui.add(equals, BorderLayout.LINE_END);

        ui.setBorder(new EmptyBorder(5, 5, 5, 5));
    }

    public JComponent getUI() {
        return ui;
    }

    public void addButton(Container c, String text) {
        JButton b = new JButton(text);
        configureButton(b);
        c.add(b);
    }

    public void configureButton(JButton b) {
        Font f = b.getFont();
        b.setFont(f.deriveFont(f.getSize() * 1.5f));
        b.addActionListener(this);
        b.addKeyListener(this);
        controls.add(b);
    }

    public void calculateResult() {
        try {
            Object result = engine.eval(io.getText());
            if (result == null) {
                io.setText("Output was 'null'");
            } else {
                io.setText(result.toString());
            }
        } catch (ScriptException se) {
            io.setText(se.getMessage());
        }
    }

    @Override
    public void actionPerformed(ActionEvent ae) {
        String command = ae.getActionCommand();
        if (command.equals("C")) {
            io.setText("");
        } else if (command.equals("=")) {
            calculateResult();
        } else {
            io.setText(io.getText() + command);
        }
    }

    private JButton getButton(String text) {
        for (JButton button : controls) {
            String s = button.getText();
            if (text.endsWith(s)
                    || (s.equals("=")
                    &amp;&amp; (text.equals("Equals") || text.equals("Enter")))) {

                return button;
            }
        }
        return null;
    }

    /* START - Because I hate mice. */
    @Override
    public void keyPressed(KeyEvent ke) {
    }

    @Override
    public void keyReleased(KeyEvent ke) {
        String s = KeyEvent.getKeyText(ke.getKeyCode());
        JButton b = getButton(s);
        if (b != null) {
            b.requestFocusInWindow();
            b.doClick();
        }
    }

    @Override
    public void keyTyped(KeyEvent ke) {
    }
    /* END - Because I hate mice. */

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                ScriptEngineCalculator sc = new ScriptEngineCalculator();
                JFrame f = new JFrame("Calculet");
                f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
                f.setContentPane(sc.getUI());
                f.pack();
                f.setMinimumSize(f.getSize());
                f.setLocationByPlatform(true);
                f.setVisible(true);
            }
        });
    }
}
</code></pre></body></html>

===ID===
584e5aec3e2ca51be94fee69
===QUESTION===
Inner class can access but not update values - AsyncTask
I am trying to unzip a folder using Android's  AsyncTask . The class (called Decompress) is an inner class of  Unzip  where Unzip itself is a non-Activity class. The pseudo-code is:   Problems I am facing: 
1. The value of  unzipDest  and  index , updated in  doInBackground , remain null to  Unzip  and all its objects. How can I ensure that the values remain updated? 
2. I know that doInBackground occurs in a thread separate from the main UI thread. Does that mean that any values updated in the new thread will be lost once that thread returns?   
===LINK===
http://stackoverflow.com/questions/18517400/inner-class-can-access-but-not-update-values-asynctask
===KEYWORDS===
index 
===ANSWER===
14
<html><body><p>How can I ensure that the values remain updated?</p><p>They will be updated since they are member variables. However, since <code>AsyncTask</code> is asynchrounous, they might not be updated yet when you check them. You can use an <code>interface</code> to create a callback when these values are updated. <a href="http://stackoverflow.com/questions/12575068/how-to-get-the-result-of-onpostexecute-to-main-activity-because-asynctask-is-a">This SO answer covers how to do this</a></p><p>Does that mean that any values updated in the new thread will be lost once that thread returns?</p><p>No they shouldn't be "lost". They probably just haven't been changed in the <code>AsyncTask</code> when you check them.</p><p>Since this isn't your actual code I can't see when you are trying to access them but you can use the <code>interface</code> method or call the functions that need these values in <code>onPostExecute()</code>. You also can do a <code>null</code> check before trying to access them. It just depends on the functionality and flow that you need as to which is the best way. Hope that helps.</p><p><strong>Edit</strong></p><p>In the answer I linked to, you tell the <code>Activity</code> that you will use that <code>interface</code> and override its method(s) with <code>implements AsyncResponse</code> in your <code>Activity</code> declaration after creating the separate <code>interface class</code></p><pre><code>public class MainActivity implements AsyncResponse{
</code></pre><p>then, in your <code>Activity</code> still, you override the method you declared in that class (<code>void processFinish(String output);</code>)</p><pre><code>@Override
 void processFinish(String output){  // using same params as onPostExecute()
 //this you will received result fired from async class of onPostExecute(result) method.
   }
</code></pre><p>then this is called in <code>onPostExecute()</code> when the listener sees that it is done with <code>delegate.processFinish(result);</code> <code>delegate</code> is an instance of <code>AsyncResponse</code> (your interface class)</p><pre><code>    public class AasyncTask extends AsyncTask{
public AsyncResponse delegate=null;

   @Override
   protected void onPostExecute(String result) {
      delegate.processFinish(result);
   }
</code></pre><p><code>Interface</code> example taken from linked answer above and adjusted/commented for clarity. So be sure to upvote that answer if it helps anyone.</p></body></html>

===ID===
584e5aed3e2ca51be94fee6a
===QUESTION===
Fastest way to determine if an integer's square root is an integer
I'm looking for the fastest way to determine if a  long  value is a perfect square (i.e. its square root is another integer).  I've done it the easy way, by using the built-in Math.sqrt() function, but I'm wondering if there is a way to do it faster by restricting yourself to integer-only domain.  Maintaining a lookup table is impratical (since there are about 2 31.5  integers whose square is less than 2 63 ). Here is the very simple and straightforward way I'm doing it now: Notes: I'm using this function in many  Project Euler  problems.  So no one else will ever have to maintain this code.  And this kind of micro-optimization could actually make a difference, since part of the challenge is to do every algorithm in less than a minute, and this function will need to be called millions of times in some problems. Update 2 :  A new solution posted by  A. Rex  has proven to be even faster.  In a run over the first 1 billion integers, the solution only required 34% of the time that the original solution used.  While the John Carmack hack is a little better for small values of  n , the benefit compared to this solution is pretty small. Here is the A. Rex solution, converted to Java: Update :  I've tried the different solutions presented below. The one suggestion which did show improvements was made by  John D. Cook .  You can observe that the last hex digit (i.e. the last 4 bits) of a perfect square must be 0, 1, 4, or 9.  This means that 75% of numbers can be immediately eliminated as possible squares.  Implementing this solution resulted in about a 50% reduction in runtime. Working from John's suggestion, I investigated properties of the last  n  bits of a perfect square.  By analyzing the last 6 bits, I found that only 12 out of 64 values are possible for the last 6 bits.  This means 81% of values can be eliminated without using any math.  Implementing this solution gave an additional 8% reduction in runtime (compared to my original algorithm).  Analyzing more than 6 bits results in a list of possible ending bits which is too large to be practical. Here is the code that I have used, which runs in 42% of the time required by the original algorithm (based on a run over the first 100 million integers).  For values of  n  less than 410881, it runs in only 29% of the time required by the original algorithm. Notes : 
===LINK===
http://stackoverflow.com/questions/295579/fastest-way-to-determine-if-an-integers-square-root-is-an-integer
===KEYWORDS===
domain 
===ANSWER===
444
<html><body><p>I figured out a method that works ~35% faster than your 6bits+Carmack+sqrt code, at least with my CPU (x86) and programming language (C/C++).  Your results may vary, especially because I don't know how the Java factor will play out.</p><p>My approach is threefold:</p><li>First, filter out obvious answers.  This includes negative numbers and looking at the last 4 bits.  (I found looking at the last six didn't help.)  I also answer yes for 0.  (In reading the code below, note that my input is <code>int64 x</code>.)

<pre><code>if( x &lt; 0 || (x&amp;2) || ((x &amp; 7) == 5) || ((x &amp; 11) == 8) )
    return false;
if( x == 0 )
    return true;</code></pre>
</li><pre><code>if( x &lt; 0 || (x&amp;2) || ((x &amp; 7) == 5) || ((x &amp; 11) == 8) )
    return false;
if( x == 0 )
    return true;</code></pre><li>Next, check if it's a square modulo 255 = 3 * 5 * 17.  Because that's a product of three distinct primes, only about 1/8 of the residues mod 255 are squares.  However, in my experience, calling the modulo operator (%) costs more than the benefit one gets, so I use bit tricks involving 255 = 2^8-1 to compute the residue.  (For better or worse, I am not using the trick of reading individual bytes out of a word, only bitwise-and and shifts.)
<pre><code>int64 y = x;
y = (y &amp; 4294967295LL) + (y &gt;&gt; 32); 
y = (y &amp; 65535) + (y &gt;&gt; 16);
y = (y &amp; 255) + ((y &gt;&gt; 8) &amp; 255) + (y &gt;&gt; 16);
// At this point, y is between 0 and 511.  More code can reduce it farther.
</code></pre></li><pre><code>int64 y = x;
y = (y &amp; 4294967295LL) + (y &gt;&gt; 32); 
y = (y &amp; 65535) + (y &gt;&gt; 16);
y = (y &amp; 255) + ((y &gt;&gt; 8) &amp; 255) + (y &gt;&gt; 16);
// At this point, y is between 0 and 511.  More code can reduce it farther.
</code></pre></body></html>

===ID===
584e5aed3e2ca51be94fee6b
===QUESTION===
Singletons vs. Application Context in Android?
Recalling this  post enumerating several problems of using singletons 
and having seen several examples of Android applications using singleton pattern, I wonder if it's a good idea to use Singletons instead of single instances shared through global application state (subclassing android.os.Application and obtaining it through context.getApplication()). What advantages/drawbacks would both mechanisms have? To be honest, I expect the same answer in this post  Singleton pattern with Web application, Not a good idea!  but applied to Android. Am I correct? What's different in DalvikVM otherwise? EDIT: I would like to have opinions on several aspects involved: 
===LINK===
http://stackoverflow.com/questions/3826905/singletons-vs-application-context-in-android
===KEYWORDS===
applied 
===ANSWER===
255
<html><body><p>I very much disagree with Dianne Hackborn's response. We are bit by bit removing all singletons from our project in favor of lightweight, task scoped objects which can easiliy be re-created when you actually need them.</p><p>Singletons are a nightmare for testing and, if lazily initialized, will introduce "state indeterminism" with subtle side effects (which may suddenly surface when moving calls to getInstance() from one scope to another). Visibility has been mentioned as another problem, and since singletons imply "global" (= random) access to shared state, subtle bugs may arise when not properly synchronized in concurrent applications.</p><p>I consider it an anti-pattern, it's a bad object-oriented style that essentially amounts to maintaining global state.</p><p>To come back to your question:
Although the app context can be considered a singleton itself, it is framework-managed and has a well defined life-cycle, scope, and access path. Hence I believe that if you do need to manage app-global state, it should go here, nowhere else. For anything else, rethink if you <em>really</em> need a singleton object, or if it would also be possible to rewrite your singleton class to instead instantiate small, short-lived objects that perform the task at hand.</p></body></html>

===ID===
584e5aee3e2ca51be94fee6c
===QUESTION===
Can't start Eclipse - Java was started but returned exit code=13
I am trying to get my first taste of Android development using Eclipse. I ran into this problem when trying to run Eclipse, having installed version 4.2 only minutes ago. After first trying to start Eclipse without any parameters to specify the Java VM, I got an error message saying it couldn't find a Java VM called javaw.exe inside the Eclipse folder, so I found where Java was installed and specified that location as the parameter in the shortcut's target. Now I get a different error, "Java was started but returned exit code=13". Similar questions seem to indicate that it's a 32-bit/64-bit conflict, but I'm 99% positive that I downloaded 64-bit versions of both Eclipse and Java (RE 7u5), which I chose because I have 64-bit Windows 7.  Shortcut Target: "C:\Program Files\Eclipse-SDK-4.2-win32-x86_64\eclipse\eclipse.exe" -vm "C:\Program Files (x86)\Java\jre7\bin\javaw.exe" Full error code...: 
===LINK===
http://stackoverflow.com/questions/11461607/cant-start-eclipse-java-was-started-but-returned-exit-code-13
===KEYWORDS===
\java\jre7\bin\javaw 
===ANSWER===
504
<html><body><p>Your version of Eclipse is 64-bit, based on the paths and filenames.
However, the version of Java that it's picking up is 32-bit, as indicated by where it is coming from, indicated on this line:</p><pre><code>-vm C:\Program Files (x86)\Java\jre7\bin\javaw.exe
</code></pre><p><code>Program Files (x86)</code> is the folder where 64-bit Windows places <strong>32-bit</strong> programs.</p><p><code>Program Files</code> is the folder where 64-bit Windows places <strong>64-bit</strong> programs.</p><p>This can happen when a system has more than one JVM installed, as is often the case on Windows 64-bit (for example, the JRE download page uses the bit-ness of the browser to determine what bit-ness download to offer you, and many people use(d) 32-bit browsers even though they run 64-bit Windows).</p><p>The best way to fix this, assuming you do in fact have 64-bit JRE or JDK on your system, is to specify in <code>eclipse.ini</code> exactly which JVM you want it to use. The instructions are detailed in <a href="https://wiki.eclipse.org/Eclipse.ini">the Eclipse wiki page</a>, but basically you have to specify the <code>-vm</code> option in the ini file - make sure to read the wiki page carefully as the format is very specific.</p><p>Specifying the JVM path in <code>eclipse.ini</code> is strongly recommended because doing so isolates Eclipse from any potential changes to your system <code>PATH</code> that some program installers might make (I'm talking to you, Oracle!).</p><p>Another option would be to download and use 32-bit Eclipse instead of 64-bit, but it's still strongly recommended to specify the path to the JVM in <code>eclipse.ini</code>.</p><p><em>Left for historical reference</em>:</p><p>To check your version of Java, run </p><pre>
  java -version 
</pre><p>in a console (command prompt). On Windows 7 with 64-bit Java 6 I get:</p><pre>
  java version "1.6.0_27"
  Java(TM) SE Runtime Environment (build 1.6.0_27-b07)
  Java HotSpot(TM) 64-Bit Server VM (build 20.2-b06, mixed mode)
</pre><p>Note the 3rd line, which shows that this is a 64-bit version. </p><p>On a 32-bit version you'll get something like:</p><pre>
  Java HotSpot(TM) Client VM (build 20.1-b02, mixed mode, sharing) 
</pre></body></html>

===ID===
584e5aef3e2ca51be94fee6d
===QUESTION===
Java : How to determine the correct charset encoding of a stream
With reference to the following thread:
 Java App : Unable to read iso-8859-1 encoded file correctly What is the best way to programatically determine the correct charset encoding of an inputstream/file ? I have tried using the following: But on a file which I know to be encoded with ISO8859_1 the above code yields ASCII, which is not correct, and does not allow me to correctly render the content of the file back to the console. 
===LINK===
http://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream
===KEYWORDS===
console 
===ANSWER===
56
<html><body><p>I have used this library, similar to jchardet for detecting encoding in Java:
<a href="http://code.google.com/p/juniversalchardet/">http://code.google.com/p/juniversalchardet/</a></p></body></html>

===ID===
584e5af03e2ca51be94fee6e
===QUESTION===
How do Mockito matchers work?
Mockito argument matchers (such as  any ,  argThat ,  eq ,  same , and  ArgumentCaptor.capture() ) behave very differently from Hamcrest matchers. Mockito matchers frequently cause InvalidUseOfMatchersException, even in code that executes long after any matchers were used. Mockito matchers are beholden to weird rules, such as only requiring the use of Mockito matchers for all arguments if one argument in a given method uses a matcher. Mockito matchers can cause NullPointerException when overriding  Answer s or when using  (Integer) any()  etc. Refactoring code with Mockito matchers in certain ways can produce exceptions and unexpected behavior, and may fail entirely. Why are Mockito matchers designed like this, and how are they implemented? 
===LINK===
http://stackoverflow.com/questions/22822512/how-do-mockito-matchers-work
===KEYWORDS===
argthat 
===ANSWER===
111
<html><body><p><a href="http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html">Mockito matchers</a> are static methods and calls to those methods, which <em>stand in for arguments</em> during calls to <code>when</code> and <code>verify</code>.</p><p><a href="https://code.google.com/p/hamcrest/wiki/Tutorial">Hamcrest matchers</a> (or Hamcrest-style matchers) are stateless, general-purpose object instances that implement <code>Matcher&lt;T&gt;</code> and expose a method <code>matches(T)</code> that returns true if the object matches the Matcher's criteria. They are intended to be free of side effects, and are generally used in assertions such as the one below. </p><pre><code>/* Mockito */  verify(foo).setPowerLevel(gt(9000));
/* Hamcrest */ assertThat(foo.getPowerLevel(), is(greaterThan(9000)));
</code></pre><p>Mockito matchers exist, separate from Hamcrest-style matchers, <em>so that descriptions of matching expressions fit directly into method invocations</em>: <a href="http://stackoverflow.com/a/8351055/1426891">Mockito matchers return <code>T</code> where Hamcrest matcher methods return Matcher objects (of type <code>Matcher&lt;T&gt;</code>).</a></p><p>Mockito matchers are invoked through static methods such as <code>eq</code>, <code>any</code>, <code>gt</code>, and <code>startsWith</code> on <code>org.mockito.Matchers</code> and <code>org.mockito.AdditionalMatchers</code>. There are also adapters, which have changed across Mockito versions:</p><li>For Mockito 1.x, <code>Matchers</code> featured some calls (such as <code>intThat</code> or <code>argThat</code>) are Mockito matchers that directly accept Hamcrest matchers as parameters. <a href="http://site.mockito.org/mockito/docs/1.10.0/org/mockito/ArgumentMatcher.html"><code>ArgumentMatcher&lt;T&gt;</code></a> extended <code>org.hamcrest.Matcher&lt;T&gt;</code>, which was used in the internal Hamcrest representation and was a <em>Hamcrest matcher base class</em> instead of any sort of Mockito matcher.</li><li>For Mockito 2.0+, Mockito no longer has a direct dependency on Hamcrest. <code>Matchers</code> calls phrased as <code>intThat</code> or <code>argThat</code> wrap <a href="http://site.mockito.org/mockito/docs/current/org/mockito/ArgumentMatcher.html"><code>ArgumentMatcher&lt;T&gt;</code></a> objects that no longer implement <code>org.hamcrest.Matcher&lt;T&gt;</code> but are used in similar ways. Hamcrest adapters such as <code>argThat</code> and <code>intThat</code> are still available, but have moved to <a href="http://site.mockito.org/mockito/docs/current/org/mockito/hamcrest/MockitoHamcrest.html"><code>MockitoHamcrest</code></a> instead.</li><p>Regardless of whether the matchers are Hamcrest or simply Hamcrest-style, they can be adapted like so:</p><pre><code>/* Mockito matcher intThat adapting Hamcrest-style matcher is(greaterThan(...)) */
verify(foo).setPowerLevel(intThat(is(greaterThan(9000))));
</code></pre><p>In the above statement: <code>foo.setPowerLevel</code> is a method that accepts an <code>int</code>. <code>is(greaterThan(9000))</code> returns a <code>Matcher&lt;Integer&gt;</code>, which wouldn't work as a <code>setPowerLevel</code> argument. The Mockito matcher <code>intThat</code> wraps that Hamcrest-style Matcher and returns an <code>int</code> so it <em>can</em> appear as an argument; Mockito matchers like <code>gt(9000)</code> would wrap that entire expression into a single call, as in the first line of example code.</p><pre><code>when(foo.quux(3, 5)).thenReturn(true);
</code></pre><p>When not using argument matchers, Mockito records your argument values and compares them with their <code>equals</code> methods.</p><pre><code>when(foo.quux(eq(3), eq(5))).thenReturn(true);    // same as above
when(foo.quux(anyInt(), gt(5))).thenReturn(true); // this one's different
</code></pre><p>When you call a matcher like <code>any</code> or <code>gt</code> (greater than), Mockito stores a matcher object that causes Mockito to skip that equality check and apply your match of choice. In the case of <code>argumentCaptor.capture()</code> it stores a matcher that saves its argument instead for later inspection.</p><p>Matchers return <a href="http://site.mockito.org/mockito/docs/current/org/mockito/internal/progress/HandyReturnValues.html">dummy values</a> such as zero, empty collections, or <code>null</code>. Mockito tries to return a safe, appropriate dummy value, like 0 for <code>anyInt()</code> or <code>any(Integer.class)</code> or an empty <code>List&lt;String&gt;</code> for <code>anyListOf(String.class)</code>. Because of type erasure, though, Mockito lacks type information to return any value but <code>null</code> for <code>any()</code> or <code>argThat(...)</code>, which can cause a NullPointerException if trying to "auto-unbox" a <code>null</code> primitive value.</p><p>Matchers like <code>eq</code> and <code>gt</code> take parameter values; ideally, these values should be computed before the stubbing/verification starts. Calling a mock in the middle of mocking another call can interfere with stubbing.</p><p>Matcher methods can't be used as return values; there is no way to phrase <code>thenReturn(anyInt())</code> or <code>thenReturn(any(Foo.class))</code> in Mockito, for instance. Mockito needs to know exactly which instance to return in stubbing calls, and will not choose an arbitrary return value for you.</p><p>Matchers are stored (as Hamcrest-style object matchers) in a stack contained in a class called <a href="https://github.com/mockito/mockito/blob/master/src/org/mockito/internal/progress/ArgumentMatcherStorage.java">ArgumentMatcherStorage</a>. MockitoCore and Matchers each own a <a href="https://github.com/mockito/mockito/blob/master/src/org/mockito/internal/progress/ThreadSafeMockingProgress.java">ThreadSafeMockingProgress</a> instance, which <em>statically</em> contains a ThreadLocal holding MockingProgress instances. It's this <a href="https://github.com/mockito/mockito/blob/master/src/org/mockito/internal/progress/MockingProgressImpl.java">MockingProgressImpl</a> that holds a concrete <a href="https://github.com/mockito/mockito/blob/master/src/org/mockito/internal/progress/ArgumentMatcherStorageImpl.java">ArgumentMatcherStorageImpl</a>. Consequently, mock and matcher state is static but thread-scoped consistently between the Mockito and Matchers classes.</p><p>Most matcher calls only add to this stack, with an exception for matchers like <a href="http://site.mockito.org/mockito/docs/current/org/mockito/AdditionalMatchers.html"><code>and</code>, <code>or</code>, and <code>not</code></a>. This perfectly corresponds to (and relies on) the <a href="http://stackoverflow.com/q/6800590/1426891">evaluation order of Java</a>, which evaluates arguments left-to-right before invoking a method:</p><pre><code>when(foo.quux(anyInt(), and(gt(10), lt(20)))).thenReturn(true);
[6]      [5]  [1]       [4] [2]     [3]
</code></pre><p>This will:</p><li>Add <code>anyInt()</code> to the stack.</li><li>Add <code>gt(10)</code> to the stack.</li><li>Add <code>lt(20)</code> to the stack.</li><li>Remove <code>gt(10)</code> and <code>lt(20)</code> and add <code>and(gt(10), lt(20))</code>.</li><li>Call <code>foo.quux(0, 0)</code>, which (unless otherwise stubbed) returns the default value <code>false</code>. Internally Mockito marks <code>quux(int, int)</code> as the most recent call.</li><li>Call <code>when(false)</code>, which discards its argument and prepares to stub method <code>quux(int, int)</code> identified in 5. The only two valid states are with stack length 0 (equality) or 2 (matchers), and there are two matchers on the stack (steps 1 and 4), so Mockito stubs the method with an <code>any()</code> matcher for its first argument and <code>and(gt(10), lt(20))</code> for its second argument and clears the stack.</li><p>This demonstrates a few rules:</p><li><p>Mockito can't tell the difference between <code>quux(anyInt(), 0)</code> and <code>quux(0, anyInt())</code>. They both look like a call to <code>quux(0, 0)</code> with one int matcher on the stack. Consequently, if you use one matcher, you have to match all arguments.</p></li><p>Mockito can't tell the difference between <code>quux(anyInt(), 0)</code> and <code>quux(0, anyInt())</code>. They both look like a call to <code>quux(0, 0)</code> with one int matcher on the stack. Consequently, if you use one matcher, you have to match all arguments.</p><li><p>Call order isn't just important, it's <em>what makes this all work</em>. Extracting matchers to variables generally doesn't work, because it usually changes the call order. Extracting matchers to methods, however, works great.</p>
<pre><code>int between10And20 = and(gt(10), lt(20));
/* BAD */ when(foo.quux(anyInt(), between10And20)).thenReturn(true);
// Mockito sees the stack as the opposite: and(gt(10), lt(20)), anyInt().

public static int anyIntBetween10And20() { return and(gt(10), lt(20)); }
/* OK */  when(foo.quux(anyInt(), anyIntBetween10And20())).thenReturn(true);
// The helper method calls the matcher methods in the right order.
</code></pre></li><p>Call order isn't just important, it's <em>what makes this all work</em>. Extracting matchers to variables generally doesn't work, because it usually changes the call order. Extracting matchers to methods, however, works great.</p><pre><code>int between10And20 = and(gt(10), lt(20));
/* BAD */ when(foo.quux(anyInt(), between10And20)).thenReturn(true);
// Mockito sees the stack as the opposite: and(gt(10), lt(20)), anyInt().

public static int anyIntBetween10And20() { return and(gt(10), lt(20)); }
/* OK */  when(foo.quux(anyInt(), anyIntBetween10And20())).thenReturn(true);
// The helper method calls the matcher methods in the right order.
</code></pre><li><p>The stack changes often enough that Mockito can't police it very carefully. It can only check the stack when you interact with Mockito or a mock, and has to accept matchers without knowing whether they're used immediately or abandoned accidentally. In theory, the stack should always be empty outside of a call to <code>when</code> or <code>verify</code>, but Mockito can't check that automatically.
You can check manually with <code>Mockito.validateMockitoUsage()</code>.</p></li><p>The stack changes often enough that Mockito can't police it very carefully. It can only check the stack when you interact with Mockito or a mock, and has to accept matchers without knowing whether they're used immediately or abandoned accidentally. In theory, the stack should always be empty outside of a call to <code>when</code> or <code>verify</code>, but Mockito can't check that automatically.
You can check manually with <code>Mockito.validateMockitoUsage()</code>.</p><li><p>In a call to <code>when</code>, Mockito actually calls the method in question, which will throw an exception if you've stubbed the method to throw an exception (or require non-zero or non-null values).
<code>doReturn</code> and <code>doAnswer</code> (etc) do <em>not</em> invoke the actual method and are often a useful alternative.</p></li><p>In a call to <code>when</code>, Mockito actually calls the method in question, which will throw an exception if you've stubbed the method to throw an exception (or require non-zero or non-null values).
<code>doReturn</code> and <code>doAnswer</code> (etc) do <em>not</em> invoke the actual method and are often a useful alternative.</p><li><p>If you had called a mock method in the middle of stubbing (e.g. to calculate an answer for an <code>eq</code> matcher), Mockito would check the stack length against <em>that</em> call instead, and likely fail.</p></li><p>If you had called a mock method in the middle of stubbing (e.g. to calculate an answer for an <code>eq</code> matcher), Mockito would check the stack length against <em>that</em> call instead, and likely fail.</p><li><p>If you try to do something bad, like <a href="https://github.com/mockito/mockito/wiki/FAQ#what-are-the-limitations-of-mockito">stubbing/verifying a final method</a>, Mockito will call the real method <em>and also leave extra matchers on the stack</em>. The <code>final</code> method call may not throw an exception, but you may get an <a href="https://github.com/mockito/mockito/blob/master/src/org/mockito/exceptions/Reporter.java#L233">InvalidUseOfMatchersException</a> from the stray matchers when you next interact with a mock.</p></li><p>If you try to do something bad, like <a href="https://github.com/mockito/mockito/wiki/FAQ#what-are-the-limitations-of-mockito">stubbing/verifying a final method</a>, Mockito will call the real method <em>and also leave extra matchers on the stack</em>. The <code>final</code> method call may not throw an exception, but you may get an <a href="https://github.com/mockito/mockito/blob/master/src/org/mockito/exceptions/Reporter.java#L233">InvalidUseOfMatchersException</a> from the stray matchers when you next interact with a mock.</p><li><p><strong><a href="https://github.com/mockito/mockito/blob/master/src/org/mockito/exceptions/Reporter.java#L233">InvalidUseOfMatchersException</a></strong>:</p>
<ul>
<li><p>Check that every single argument has exactly one matcher call, if you use matchers at all, and that you haven't used a matcher outside of a <code>when</code> or <code>verify</code> call. Matchers should never be used as stubbed return values or fields/variables.</p></li>
<li><p>Check that you're not calling a mock as a part of providing a matcher argument.</p></li>
<li><p>Check that you're not trying to stub/verify a final method with a matcher. It's a great way to leave a matcher on the stack, and unless your final method throws an exception, this might be the only time you realize the method you're mocking is final.</p></li>
</ul></li><p><strong><a href="https://github.com/mockito/mockito/blob/master/src/org/mockito/exceptions/Reporter.java#L233">InvalidUseOfMatchersException</a></strong>:</p><li><p>Check that every single argument has exactly one matcher call, if you use matchers at all, and that you haven't used a matcher outside of a <code>when</code> or <code>verify</code> call. Matchers should never be used as stubbed return values or fields/variables.</p></li><p>Check that every single argument has exactly one matcher call, if you use matchers at all, and that you haven't used a matcher outside of a <code>when</code> or <code>verify</code> call. Matchers should never be used as stubbed return values or fields/variables.</p><li><p>Check that you're not calling a mock as a part of providing a matcher argument.</p></li><p>Check that you're not calling a mock as a part of providing a matcher argument.</p><li><p>Check that you're not trying to stub/verify a final method with a matcher. It's a great way to leave a matcher on the stack, and unless your final method throws an exception, this might be the only time you realize the method you're mocking is final.</p></li><p>Check that you're not trying to stub/verify a final method with a matcher. It's a great way to leave a matcher on the stack, and unless your final method throws an exception, this might be the only time you realize the method you're mocking is final.</p><li><p><strong>NullPointerException with primitive arguments:</strong> <code>(Integer) any()</code> returns null while <code>any(Integer.class)</code> returns 0; this can cause a <code>NullPointerException</code> if you're expecting an <code>int</code> instead of an Integer. In any case, prefer <code>anyInt()</code>, which will return zero and also skip the auto-boxing step.</p></li><p><strong>NullPointerException with primitive arguments:</strong> <code>(Integer) any()</code> returns null while <code>any(Integer.class)</code> returns 0; this can cause a <code>NullPointerException</code> if you're expecting an <code>int</code> instead of an Integer. In any case, prefer <code>anyInt()</code>, which will return zero and also skip the auto-boxing step.</p><li><p><strong>NullPointerException or other exceptions:</strong> Calls to <code>when(foo.bar(any())).thenReturn(baz)</code> will actually <em>call</em> <code>foo.bar(null)</code>, which you might have stubbed to throw an exception when receiving a null argument. Switching to <code>doReturn(baz).when(foo).bar(any())</code> <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#12">skips the stubbed behavior</a>.</p></li><p><strong>NullPointerException or other exceptions:</strong> Calls to <code>when(foo.bar(any())).thenReturn(baz)</code> will actually <em>call</em> <code>foo.bar(null)</code>, which you might have stubbed to throw an exception when receiving a null argument. Switching to <code>doReturn(baz).when(foo).bar(any())</code> <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#12">skips the stubbed behavior</a>.</p><li><p>Use <a href="http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html">MockitoJUnitRunner</a>, or explicitly call <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#validateMockitoUsage()"><code>validateMockitoUsage</code></a> in your <code>tearDown</code> or <code>@After</code> method (which the runner would do for you automatically). This will help determine whether you've misused matchers.</p></li><p>Use <a href="http://site.mockito.org/mockito/docs/current/org/mockito/runners/MockitoJUnitRunner.html">MockitoJUnitRunner</a>, or explicitly call <a href="http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#validateMockitoUsage()"><code>validateMockitoUsage</code></a> in your <code>tearDown</code> or <code>@After</code> method (which the runner would do for you automatically). This will help determine whether you've misused matchers.</p><li><p>For debugging purposes, add calls to <code>validateMockitoUsage</code> in your code directly. This will throw if you have anything on the stack, which is a good warning of a bad symptom.</p></li><p>For debugging purposes, add calls to <code>validateMockitoUsage</code> in your code directly. This will throw if you have anything on the stack, which is a good warning of a bad symptom.</p></body></html>

===ID===
584e5af13e2ca51be94fee6f
===QUESTION===
How can I lock a file using java (if possible)
I have a Java process that opens a file using a FileReader. How can I prevent another (Java) process from opening this file, or at least notify that second process that the file is already opened? Does this automatically make the second process get an exception if the file is open (which solves my problem) or do I have to explicitly open it in the first process with some sort of flag or argument? I have a Java app that lists a folder and opens each file in the listing for processing it. It processes each file after the other. The processing of each file consists of reading it and doing some calculations based on the contents and it takes about 2 minutes. I also have another Java app that does the same thing but instead writes on the file. What I want is to be able to run these apps at the same time so the scenario goes like this. ReadApp lists the folder and finds files A, B, C. It opens file A and starts the reading. WriteApp lists the folder and finds files A, B, C. It opens file A, sees that is is open (by an exception or whatever way) and goes to file B. ReadApp finishes file A and continues to B. It sees that it is open and continues to C. It is crucial that WriteApp doesn't write while ReadApp is reading the same file or vice versa. They are different processes. 
===LINK===
http://stackoverflow.com/questions/128038/how-can-i-lock-a-file-using-java-if-possible
===KEYWORDS===
prevent 
===ANSWER===
72
<html><body><p>FileChannel.lock is probably what you want.</p><pre><code>FileInputStream in = new FileInputStream(file);
try {
    java.nio.channels.FileLock lock = in.getChannel().lock();
    try {
        Reader reader = new InputStreamReader(in, charset);
        ...
    } finally {
        lock.release();
    }
} finally {
    in.close();
}
</code></pre><p>(Disclaimer: Code not compiled and certainly not tested.)</p><p>Note the section entitled "platform dependencies" in the <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileLock.html#pdep" rel="nofollow noreferrer">API doc for FileLock</a>.</p></body></html>

===ID===
584e5af33e2ca51be94fee70
===QUESTION===
What is the equivalent of the C++ Pair<L,R> in Java?
Is there a good reason why there is no Pair in Java? What would be the equivalent of this C++ construct? I would rather avoid reimplementing my own. It seems that 1.6 is providing something similar (AbstractMap.SimpleEntry), but this looks quite convoluted. 
===LINK===
http://stackoverflow.com/questions/156275/what-is-the-equivalent-of-the-c-pairl-r-in-java
===KEYWORDS===
abstractmap 
===ANSWER===
303
<html><body><p>In <a href="http://groups.google.com/group/comp.lang.java.help/browse_thread/thread/f8b63fc645c1b487/1d94be050cfc249b" rel="nofollow noreferrer">a thread on <code>comp.lang.java.help</code></a>, Hunter Gratzner gives some arguments against the presence of a <code>Pair</code> construct in Java. The main argument is that a class <code>Pair</code> doesn't convey any semantics about the relationship between the two values (how do you know what "first" and "second" mean ?).</p><p>A better practice is to write a very simple class, like the one Mike proposed, for each application you would have made of the <code>Pair</code> class. <code>Map.Entry</code> is an example of a pair that carry its meaning in its name.</p><p>To sum up, in my opinion it is better to have a class <code>Position(x,y)</code>, a class <code>Range(begin,end)</code> and a class <code>Entry(key,value)</code> rather than a generic <code>Pair(first,second)</code> that doesn't tell me anything about what it's supposed to do.</p></body></html>

===ID===
584e5af43e2ca51be94fee71
===QUESTION===
How to access java-classes in the default-package?
I'm working now together with others in a grails project. I have to write some Java-classes. But I need access to an searchable object created with groovy. It seems, that this object has to be placed in the default-package.  My question is:  Is there a way to access this object in the default-package from a Java-class in a named package? 
===LINK===
http://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package
===KEYWORDS===
groovy 
===ANSWER===
105
<html><body><p><a href="http://mindprod.com/jgloss/import.html" rel="nofollow noreferrer">You can’t use</a> classes in the default package from a named package.<br>
(<em>Technically</em> you can, as shown in Sharique Abdullah's <a href="http://stackoverflow.com/a/561183/6309">answer</a> through reflection API, <em>but</em> classes from the unnamed namespace are <strong>not in scope</strong> in an <strong>import declaration</strong>)</br></p><p>Prior to J2SE 1.4 you could import classes from the default package using a syntax like this:</p><pre><code>import Unfinished;
</code></pre><p>That's <a href="http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4989710" rel="nofollow noreferrer">no longer allowed</a>. So to access a default package class from within a packaged class requires moving the default package class into a package of its own.</p><p>If you have access to the source generated by groovy, some post-processing is needed to move the file into a dedicated package and add this "package" directive at its beginning.</p><p>Update 2014: <a href="https://bugs.openjdk.java.net/browse/JDK-6975015" rel="nofollow noreferrer">bug 6975015</a>, for JDK7 and JDK8, describe an even <em>stricter</em> prohibition against import from unnamed package.</p><p>The <code>TypeName</code> must be the canonical name of a class type, interface type, enum type, or annotation type.<br>
  The type must be either a member of a <strong>named package</strong>, or a member of a type whose outermost lexically enclosing type is a member of a <strong>named package</strong>, <strong>or a compile-time error occurs</strong>.</br></p></body></html>

===ID===
584e5af53e2ca51be94fee72
===QUESTION===
java.util.NoSuchElementException - Scanner reading user input
I'm new to using Java, but I have some previous experience with C#. The issue I'm having comes with reading user input from console. I'm running into the "java.util.NoSuchElementException" error with this portion of code: I have two functions that get user input: If I don't call PromptCustomerQty then I don't get this error, which leads me to believe I am doing something wrong with scanner. Below is my full code sample. I appreciate any help.  
===LINK===
http://stackoverflow.com/questions/13042008/java-util-nosuchelementexception-scanner-reading-user-input
===KEYWORDS===
portion 
===ANSWER===
69
<html><body><p><strong>This has really puzzled me for a while but this is what I found in the end.</strong></p><p>When you call, <code>sc.close()</code> in first method, it not only closes your scanner but closes your <code>System.in</code> input stream as well. You can verify it by printing its status at very top of the second method as :</p><pre><code>    System.out.println(System.in.available());
</code></pre><p>So, now when you re-instantiate, <code>Scanner</code> in second method, it doesn't find any open <code>System.in</code> stream and hence the exception.</p><p>I doubt if there is any way out to reopen <code>System.in</code> because:</p><p><code>public void close() throws IOException --&gt; Closes this input stream and releases any system resources associated with this stream. The general contract of close is that it closes the input stream. A closed stream cannot perform input operations and **cannot be reopened.**</code></p><p>The only good solution for your problem is to initiate the <code>Scanner</code> in your main method, pass that as argument in your two methods, and close it again in your main method e.g.:</p><p><code>main</code> method related code block:</p><pre><code>Scanner scanner = new Scanner(System.in);  

// Ask users for quantities 
PromptCustomerQty(customer, ProductList, scanner );

// Ask user for payment method
PromptCustomerPayment(customer, scanner );

//close the scanner 
scanner.close();
</code></pre><p>Your Methods:</p><pre><code> public static void PromptCustomerQty(Customer customer, 
                             ArrayList&lt;Product&gt; ProductList, Scanner scanner) {

    // no more scanner instantiation
    ...
    // no more scanner close
 }


 public static void PromptCustomerPayment (Customer customer, Scanner sc) {

    // no more scanner instantiation
    ...
    // no more scanner close
 }
</code></pre><p>Hope this gives you some insight about the failure and possible resolution.</p></body></html>

===ID===
584e5af53e2ca51be94fee73
===QUESTION===
Android update 17 seems incompatible with external Jars
I just allowed my Mac to do an update on its Java installation and now some of my old jars (like  javax.mail  and  apache.commons.httpclient ) are throwing  "class not found"  exceptions at run time! Meaning, they compile fine, but then crash at run time with exceptions that look like this: Do I need to get more recent versions of the jars that have those classes? Or do I need to revert to my previous version of Java? Or is this some totally unrelated problem that I'm just assuming has to do with the Java update  (would be quite a coincidence, all of this worked perfectly prior to the update) ? 
===LINK===
http://stackoverflow.com/questions/10046298/android-update-17-seems-incompatible-with-external-jars
===KEYWORDS===
meaning 
===ANSWER===
74
<html><body><p>crash at run time with exceptions that look like this:
  <code>Could not find class 'javax.mail.internet.InternetAddress', referenced from method com.my.project.Main.isValidEmailAddress</code></p><p>If you have problems with external jars, then:</p><li>create a folder named <code>libs</code>.</li><li>Copy and paste all needed external jar files into that folder.</li><p>It will automatically be included, as explained on this page: <a href="http://tools.android.com/recent/dealingwithdependenciesinandroidprojects" rel="nofollow">Dealing with dependencies in Android projects</a></p></body></html>

===ID===
584e5af63e2ca51be94fee74
===QUESTION===
How to add local jar files in maven project?
How do I add local jar files (not yet part of the Maven repository) directly in my project's library sources? 
===LINK===
http://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-in-maven-project
===KEYWORDS===
project 
===ANSWER===
240
<html><body><p>Install the JAR into your local Maven repository as follows:</p><pre><code>mvn install:install-file
   -Dfile=&lt;path-to-file&gt;
   -DgroupId=&lt;group-id&gt;
   -DartifactId=&lt;artifact-id&gt;
   -Dversion=&lt;version&gt;
   -Dpackaging=&lt;packaging&gt;
   -DgeneratePom=true

Where: &lt;path-to-file&gt;  the path to the file to load
   &lt;group-id&gt;      the group that the file should be registered under
   &lt;artifact-id&gt;   the artifact name for the file
   &lt;version&gt;       the version of the file
   &lt;packaging&gt;     the packaging of the file e.g. jar
</code></pre><p><a href="http://maven.apache.org/general.html#importing-jars">Reference</a></p></body></html>

===ID===
584e5af73e2ca51be94fee75
===QUESTION===
How do I measure time elapsed in Java?
Possible Duplicate: 
 How do I calculate the elapsed time of an event in java?   I want to have something like this: Which types to use in order to accomplish this in Java? 
(Also it is important that for example if the startTime it's 23:00 and endTime 1:00 to get a duration of 2:00.) 
===LINK===
http://stackoverflow.com/questions/1770010/how-do-i-measure-time-elapsed-in-java
===KEYWORDS===
accomplish 
===ANSWER===
419
<html><body><p>Unfortunately, none of the ten answers posted so far are quite right.</p><p>If you are measuring elapsed time, and you want it to be <em>correct</em>, you must use <code>System.nanoTime()</code>.  You cannot use <code>System.currentTimeMillis()</code>, unless you don't mind your result being wrong.</p><p>The purpose of <code>nanoTime</code> is to measure <em>elapsed</em> time, and the purpose of <code>currentTimeMillis</code> is to measure <em>wall-clock</em> time. You can't use the one for the other purpose. The reason is that no computer's clock is perfect; it always drifts and occasionally needs to be corrected.  This correction might either happen manually, or in the case of most machines, there's a process that runs and continually issues small corrections to the system clock ("wall clock"). These tend to happen often. Another such correction happens whenever there is a leap second.</p><p>Since <code>nanoTime</code>'s purpose is to measure elapsed time, it is unaffected by any of these small corrections. It is what you want to use. Any timings currently underway with <code>currentTimeMillis</code> will be off -- possibly even negative.</p><p>You may say, "this doesn't sound like it would ever really matter that much," to which I say, maybe not, but overall, isn't correct code just better than incorrect code?  Besides, <code>nanoTime</code> is shorter to type anyway.</p><p>Previously posted disclaimers about <code>nanoTime</code> usually having only microsecond precision are valid. Also it can take more than a whole microsecond to invoke, depending on circumstances (as can the other one), so don't expect to time very very small intervals correctly.</p></body></html>

===ID===
584e5af83e2ca51be94fee76
===QUESTION===
Is there any way to accept only numeric values in a JTextField?
Is there any way to accept only numeric values in a  JTextField ?  Is there any special method for this? 
===LINK===
http://stackoverflow.com/questions/1313390/is-there-any-way-to-accept-only-numeric-values-in-a-jtextfield
===KEYWORDS===
accept 
===ANSWER===
46
<html><body><p>As this question re-appears quite often, I put some more effort in this answer then I would usually do.</p><p>My vote goes to the <code>JFormattedTextField</code>. IMO each Swing developer should have an improved version of that class in his/her toolkit as it allows to validate almost anything you can think of by the correct choice of <code>Format</code>. Examples for which I already used it:</p><li>String input where the <code>String</code> may not be empty</li><li>Coordinate input</li><li>Date input</li><li>Editor on a <code>JSpinner</code></li><li>Map scales</li><li>Numbers</li><li>...</li><p>It also allows for visual feedback when the input is invalid which is for example not the case with the <code>InputVerifier</code>. It still allows to user to input anything, but that value is simply not accepted when not valid and that value never leaves the UI. I think (but again, that is my opinion) that it is better to allow the user to type invalid input that just removing that automatically with e.g. a <code>DocumentFilter</code>. I would suspect a bug when a type a character in a text field and it does not appear.</p><p>Let me illustrate this with some code (quite some code actually). First the small demo application. This application just shows a <code>JFormattedTextField</code> for numbers. Just using another format allows to reuse that component for completely different validations.</p><p><img alt="enter image description here" src="https://i.stack.imgur.com/TL8jA.png"/></p><pre><code>import be.pcl.swing.ImprovedFormattedTextField;

import javax.swing.*;
import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.awt.event.ActionEvent;
import java.beans.PropertyChangeEvent;
import java.beans.PropertyChangeListener;
import java.text.NumberFormat;

/**
 * See http://stackoverflow.com/q/1313390/1076463
 */
public class FormattedTextFieldDemo {
  public static void main( String[] args ) {
    EventQueue.invokeLater(new Runnable() {
      @Override
      public void run() {
        JFrame testFrame = new JFrame( "FormattedTextFieldDemo" );

        NumberFormat integerNumberInstance = NumberFormat.getIntegerInstance();
        ImprovedFormattedTextField integerFormattedTextField = new ImprovedFormattedTextField( integerNumberInstance, 100 );
        integerFormattedTextField.setColumns( 20 );

        testFrame.add( createButtonPanel( integerFormattedTextField ), BorderLayout.NORTH );

        final JTextArea textArea = new JTextArea(50, 50);
        PropertyChangeListener updateTextAreaListener = new PropertyChangeListener() {
          @Override
          public void propertyChange( PropertyChangeEvent evt ) {
            textArea.append( "New value: " + evt.getNewValue() + "\n" );
          }
        };
        integerFormattedTextField.addPropertyChangeListener( "value", updateTextAreaListener );

        testFrame.add( new JScrollPane( textArea ), BorderLayout.CENTER );

        testFrame.setDefaultCloseOperation( WindowConstants.DISPOSE_ON_CLOSE );
        testFrame.pack();
        testFrame.setVisible( true );
      }
    } );

  }

  private static JPanel createButtonPanel( final JFormattedTextField aTextField ){
    JPanel panel = new JPanel( new BorderLayout(  ) );
    panel.add( aTextField, BorderLayout.WEST );

    Action action = new AbstractAction() {
      {
        aTextField.addPropertyChangeListener( "editValid", new PropertyChangeListener() {
          @Override
          public void propertyChange( PropertyChangeEvent evt ) {
            setEnabled( ( ( Boolean ) evt.getNewValue() ) );
          }
        } );
        putValue( Action.NAME, "Show current value" );
      }
      @Override
      public void actionPerformed( ActionEvent e ) {
        JOptionPane.showMessageDialog( null, "The current value is [" + aTextField.getValue() + "] of class [" + aTextField.getValue().getClass() + "]" );
      }
    };
    panel.add( new JButton( action ), BorderLayout.EAST );
    return panel;
  }
}
</code></pre><p>which just shows an <code>ImprovedFormattedTextField</code> and a <code>JButton</code> which is only enabled when the input is valid (aha, eat that <code>DocumentFilter</code> solution). It also shows a <code>JTextArea</code> in which the value is printed each time a new valid value is encountered. Pressing the button shows the value.</p><p>The code for the <code>ImprovedFormattedTextField</code> can be found below, together with the <code>ParseAllFormat</code> on which it depends</p><pre><code>package be.pcl.swing;

import javax.swing.JFormattedTextField;
import javax.swing.JTextField;
import javax.swing.KeyStroke;
import javax.swing.SwingUtilities;
import javax.swing.event.DocumentEvent;
import javax.swing.event.DocumentListener;
import java.awt.Color;
import java.awt.event.FocusAdapter;
import java.awt.event.FocusEvent;
import java.awt.event.KeyEvent;
import java.text.Format;
import java.text.ParseException;

/**
 * &lt;p&gt;Extension of {@code JFormattedTextField} which solves some of the usability issues&lt;/p&gt;
 */
public class ImprovedFormattedTextField extends JFormattedTextField {

  private static final Color ERROR_BACKGROUND_COLOR = new Color( 255, 215, 215 );
  private static final Color ERROR_FOREGROUND_COLOR = null;

  private Color fBackground, fForeground;

  /**
   * Create a new {@code ImprovedFormattedTextField} instance which will use {@code aFormat} for the
   * validation of the user input.
   *
   * @param aFormat The format. May not be {@code null}
   */
  public ImprovedFormattedTextField( Format aFormat ) {
    //use a ParseAllFormat as we do not want to accept user input which is partially valid
    super( new ParseAllFormat( aFormat ) );
    setFocusLostBehavior( JFormattedTextField.COMMIT_OR_REVERT );
    updateBackgroundOnEachUpdate();
    //improve the caret behavior
    //see also http://tips4java.wordpress.com/2010/02/21/formatted-text-field-tips/
    addFocusListener( new MousePositionCorrectorListener() );
  }

  /**
   * Create a new {@code ImprovedFormattedTextField} instance which will use {@code aFormat} for the
   * validation of the user input. The field will be initialized with {@code aValue}.
   *
   * @param aFormat The format. May not be {@code null}
   * @param aValue  The initial value
   */
  public ImprovedFormattedTextField( Format aFormat, Object aValue ) {
    this( aFormat );
    setValue( aValue );
  }

  private void updateBackgroundOnEachUpdate() {
    getDocument().addDocumentListener( new DocumentListener() {
      @Override
      public void insertUpdate( DocumentEvent e ) {
        updateBackground();
      }

      @Override
      public void removeUpdate( DocumentEvent e ) {
        updateBackground();
      }

      @Override
      public void changedUpdate( DocumentEvent e ) {
        updateBackground();
      }
    } );
  }

  /**
   * Update the background color depending on the valid state of the current input. This provides
   * visual feedback to the user
   */
  private void updateBackground() {
    boolean valid = validContent();
    if ( ERROR_BACKGROUND_COLOR != null ) {
      setBackground( valid ? fBackground : ERROR_BACKGROUND_COLOR );
    }
    if ( ERROR_FOREGROUND_COLOR != null ) {
      setForeground( valid ? fForeground : ERROR_FOREGROUND_COLOR );
    }
  }

  @Override
  public void updateUI() {
    super.updateUI();
    fBackground = getBackground();
    fForeground = getForeground();
  }

  private boolean validContent() {
    AbstractFormatter formatter = getFormatter();
    if ( formatter != null ) {
      try {
        formatter.stringToValue( getText() );
        return true;
      } catch ( ParseException e ) {
        return false;
      }
    }
    return true;
  }

  @Override
  public void setValue( Object value ) {
    boolean validValue = true;
    //before setting the value, parse it by using the format
    try {
      AbstractFormatter formatter = getFormatter();
      if ( formatter != null ) {
        formatter.valueToString( value );
      }
    } catch ( ParseException e ) {
      validValue = false;
      updateBackground();
    }
    //only set the value when valid
    if ( validValue ) {
      int old_caret_position = getCaretPosition();
      super.setValue( value );
      setCaretPosition( Math.min( old_caret_position, getText().length() ) );
    }
  }

  @Override
  protected boolean processKeyBinding( KeyStroke ks, KeyEvent e, int condition, boolean pressed ) {
    //do not let the formatted text field consume the enters. This allows to trigger an OK button by
    //pressing enter from within the formatted text field
    if ( validContent() ) {
      return super.processKeyBinding( ks, e,
                                      condition, pressed ) &amp;&amp; ks != KeyStroke.getKeyStroke( KeyEvent.VK_ENTER, 0 );
    }
    else {
      return super.processKeyBinding( ks, e,
                                      condition, pressed );
    }
  }

  private static class MousePositionCorrectorListener extends FocusAdapter {
    @Override
    public void focusGained( FocusEvent e ) {
      /* After a formatted text field gains focus, it replaces its text with its
       * current value, formatted appropriately of course. It does this after
       * any focus listeners are notified. We want to make sure that the caret
       * is placed in the correct position rather than the dumb default that is
        * before the 1st character ! */
      final JTextField field = ( JTextField ) e.getSource();
      final int dot = field.getCaret().getDot();
      final int mark = field.getCaret().getMark();
      if ( field.isEnabled() &amp;&amp; field.isEditable() ) {
        SwingUtilities.invokeLater( new Runnable() {
          @Override
          public void run() {
            // Only set the caret if the textfield hasn't got a selection on it
            if ( dot == mark ) {
              field.getCaret().setDot( dot );
            }
          }
        } );
      }
    }
  }
}
</code></pre><p>The <code>ParseAllFormat</code> class:</p><pre><code>package be.pcl.swing;

import java.text.AttributedCharacterIterator;
import java.text.FieldPosition;
import java.text.Format;
import java.text.ParseException;
import java.text.ParsePosition;

/**
 * &lt;p&gt;Decorator for a {@link Format Format} which only accepts values which can be completely parsed
 * by the delegate format. If the value can only be partially parsed, the decorator will refuse to
 * parse the value.&lt;/p&gt;
 */
public class ParseAllFormat extends Format {
  private final Format fDelegate;

  /**
   * Decorate &lt;code&gt;aDelegate&lt;/code&gt; to make sure if parser everything or nothing
   *
   * @param aDelegate The delegate format
   */
  public ParseAllFormat( Format aDelegate ) {
    fDelegate = aDelegate;
  }

  @Override
  public StringBuffer format( Object obj, StringBuffer toAppendTo, FieldPosition pos ) {
    return fDelegate.format( obj, toAppendTo, pos );
  }

  @Override
  public AttributedCharacterIterator formatToCharacterIterator( Object obj ) {
    return fDelegate.formatToCharacterIterator( obj );
  }

  @Override
  public Object parseObject( String source, ParsePosition pos ) {
    int initialIndex = pos.getIndex();
    Object result = fDelegate.parseObject( source, pos );
    if ( result != null &amp;&amp; pos.getIndex() &lt; source.length() ) {
      int errorIndex = pos.getIndex();
      pos.setIndex( initialIndex );
      pos.setErrorIndex( errorIndex );
      return null;
    }
    return result;
  }

  @Override
  public Object parseObject( String source ) throws ParseException {
    //no need to delegate the call, super will call the parseObject( source, pos ) method
    return super.parseObject( source );
  }
}
</code></pre><p>Possible improvements:</p><li>the <code>setBackground</code> is not respected by all Look-and-Feels. Sometimes you can use the <code>setForeground</code> instead, but even that is not guaranteed to be respected by all L&amp;Fs. So for visual feedback it might be better to use an exclamation mark placed next to the field. Drawback is that this might mess up a layout if you suddenly add/remove an icon</li><li>the feedback only indicates that the input is valid/invalid. There is nothing that indicates what the expected format is. A possible solution is to use a self-created extension of <code>Format</code> which includes a description/example of valid input, and put that as tooltip on the <code>JFormattedTextField</code>.</li></body></html>

===ID===
584e5af93e2ca51be94fee77
===QUESTION===
Difference between wait() and sleep()
What is the difference between a  wait()  and  sleep()  in Threads? Is my understanding that a  wait() -ing Thread is still in running mode and uses CPU cycles but a  sleep() -ing does not consume any CPU cycles correct? Why do we have  both   wait()  and  sleep() : how does their implementation vary at a lower level? 
===LINK===
http://stackoverflow.com/questions/1036754/difference-between-wait-and-sleep
===KEYWORDS===
difference 
===ANSWER===
542
<html><body><p>A <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait%28%29" rel="nofollow noreferrer"><code>wait</code></a> can be "woken up" by another thread calling <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify%28%29" rel="nofollow noreferrer"><code>notify</code></a> on the monitor which is being waited on whereas a <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep%28long%29" rel="nofollow noreferrer"><code>sleep</code></a> cannot. Also a <code>wait</code> (and <code>notify</code>) must happen in a block <code>synchronized</code> on the monitor object whereas <code>sleep</code> does not:</p><pre><code>Object mon = ...;
synchronized (mon) {
    mon.wait();
} 
</code></pre><p>At this point the currently executing thread waits <em>and releases the monitor</em>. Another thread may do</p><pre><code>synchronized (mon) { mon.notify(); }
</code></pre><p>(On the same <code>mon</code> object) and the first thread (assuming it is the only thread waiting on the monitor) will wake up. </p><p>You can also call <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll%28%29" rel="nofollow noreferrer"><code>notifyAll</code></a> if more than one thread is waiting on the monitor - this will wake <em>all of them up</em>. However, only one of the threads will be able to grab the monitor (remember that the <code>wait</code> is in a <code>synchronized</code> block) and carry on - the others will then be blocked until they can acquire the monitor's lock.</p><p>Another point is that you call <code>wait</code> on <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" rel="nofollow noreferrer"><code>Object</code></a> itself (i.e. you wait on an object's monitor) whereas you call <code>sleep</code> on <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html" rel="nofollow noreferrer"><code>Thread</code></a>.</p><p>Yet another point is that you can get <em>spurious wakeups</em> from <code>wait</code> (i.e. the thread which is waiting resumes for no apparent reason). You should <strong>always <code>wait</code> whilst spinning on some condition</strong> as follows:  </p><pre><code>synchronized {
    while (!condition) { mon.wait(); }
}
</code></pre></body></html>

===ID===
584e5afa3e2ca51be94fee78
===QUESTION===
Why is the Java main method static?
The method signature of a Java  main()  method is: Is there a reason for this method to be static? 
===LINK===
http://stackoverflow.com/questions/146576/why-is-the-java-main-method-static
===KEYWORDS===
reason 
===ANSWER===
243
<html><body><p>The method is static because otherwise there would be ambiguity: which constructor should be called?  Especially if your class looks like this:</p><pre><code>public class JavaClass{
  protected JavaClass(int x){}
  public void main(String[] args){
  }
}
</code></pre><p>Should the JVM call <strong><em>new JavaClass</em></strong>(int)?  What should it pass for x?</p><p>If not, should the JVM instantiate <strong><em>JavaClass</em></strong> without running any constructor method?  I think it shouldn't, because that will special-case your entire class - sometimes you have an instance that hasn't been initialized, and you have to check for it in every method that could be called.</p><p>There are just too many edge cases and ambiguities for it to make sense for the JVM to have to instantiate a class before the entry point is called.  That's why <strong>main</strong> is static.</p><p>I have no idea why <strong>main</strong> is always marked <strong>public</strong> though.</p></body></html>

===ID===
584e5afa3e2ca51be94fee79
===QUESTION===
:: (double colon) operator in Java 8
I was exploring the Java 8 source and found this particular part of code very surprising: Is  Math::max  something like a method pointer? How does a normal  static  method get converted to  IntBinaryOperator ? 
===LINK===
http://stackoverflow.com/questions/20001427/double-colon-operator-in-java-8
===KEYWORDS===
exploring 
===ANSWER===
499
<html><body><p>Usually, one would call the <code>reduce</code> method using <code>Math.max(int, int)</code> as follows:</p><pre><code>reduce(new IntBinaryOperator() {
    int applyAsInt(int left, int right) {
        return Math.max(left, right);
    }
});
</code></pre><p>That requires a lot of syntax for just calling <code>Math.max</code>. That's where lambda expressions come into play. Since Java 8 it is allowed to do the same thing in a much shorter way:</p><pre><code>reduce( (int left, int right) -&gt; Math.max(left, right) );
</code></pre><p>How does this work? The java compiler "detects", that you want to implement a method that accepts two <code>int</code>s and returns one <code>int</code>. This is equivalent to the formal parameters of the one and only method of interface <code>IntBinaryOperator</code> (the parameter of method <code>reduce</code> you want to call). So the compiler does the rest for you - it just assumes you want to implement <code>IntBinaryOperator</code>.</p><p>But as <code>Math.max(int, int)</code> itself fulfills the formal requirements of <code>IntBinaryOperator</code>, it can be used directly. Because Java 7 does not have any syntax that allows a method itself to be passed as an argument (you can only pass method results, but never method references), the <code>::</code> syntax was introduced in Java 8 to reference methods:</p><pre><code>reduce(Math::max);
</code></pre><p>Note that this will be interpreted by the compiler, not by the JVM at runtime! Although it produces different bytecodes for all three code snippets, they are semantically equal, so the last two can be considered to be short (and probably more efficient) versions of the <code>IntBinaryOperator</code> implementation above!</p><p>(See also <a href="http://cr.openjdk.java.net/~briangoetz/lambda/lambda-translation.html">Translation of Lambda Expressions</a>)</p></body></html>

===ID===
584e5afb3e2ca51be94fee7a
===QUESTION===
Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?
I am getting this error detailed message sun.security.validator.ValidatorException: PKIX path
  building failed: 
  sun.security.provider.certpath.SunCertPathBuilderException: unable to
  find valid certification path  to requested target cause javax.net.ssl.SSLHandshakeException:
  sun.security.validator.ValidatorException: PKIX path   building
  failed: sun.security.provider.certpath.SunCertPathBuilderException:
  unable to find valid certification path to requested target i am using tomcat 6 as webserver. i have two https webbapplication installed on different tomcat on differte port but on same machine. Say  App1(port 8443)  and 
  App2(port 443) .  App1  connects to  App2  .When  App1  connects to  App2 i  get above error. I know this is very common error so came across many solutions on different
 forums and sites. I have below entry in  server.xml  of both tomcat i.e Every site says the same reason that certificate given by app2 is not in the trusted store of app1 jvm. This seems to be true also when i tired to hit the same
URL in IE browser, it works(with warming, There is a problem with this web site's security certificate. here i say continue to this website) But when same url
is hit by java client(in my case). So i get the above error. So to put it in trustore i tried  these tree options i.e Option1 Option2 
Setting below in environment variable Option3 
Setting below in environment variable But nothing worked  . What at last worked    is executing the java approach suggested in  How to handle invalid SSL certificates with Apache HttpClient?  by Pascal Thivent i.e 
executing the program InstallCert.  But this approach is fine for devbox setup but i can not use it at production environment.   I am wondering
why three approaches mentioned above did not work when  i have mentioned same values in  server.xml  of  app2  server and same values in truststore by setting System.setProperty("javax.net.ssl.trustStore", "C:/.keystore") and System.setProperty("javax.net.ssl.trustStorePassword", "changeit"); in  app1  program. For more information this is how i am making the connection 
===LINK===
http://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore
===KEYWORDS===
tired 
===ANSWER===
203
<html><body><p>You need to add the certificate for <strong>App2</strong> to the keystore file of the used JVM located at <code>%JAVA_HOME%\lib\security\cacerts</code>.</p><p>First you can check if your certificate is already in the keystore by running the following command:
<code>keytool -list -keystore "%JAVA_HOME%/jre/lib/security/cacerts"</code> (you don't need to provide a password)</p><p>If your certificate is missing you can get it by downloading it with your browser and add it to the keystore with the following command:</p><p><code>keytool -import -noprompt -trustcacerts -alias &lt;AliasName&gt; -file   &lt;certificate&gt; -keystore &lt;KeystoreFile&gt; -storepass &lt;Password&gt;</code></p><p>Afer import you can run the first command again to check if your certificate was added.</p><p>Sun/Oracle information can be found <a href="http://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html">here</a>.</p><p>Hope this helped! Have Fun!</p></body></html>

===ID===
584e5afb3e2ca51be94fee7b
===QUESTION===
How do I get a platform-dependent new line character?
How do I get a platform-dependent newline in Java? I can’t use  "\n"  everywhere. 
===LINK===
http://stackoverflow.com/questions/207947/how-do-i-get-a-platform-dependent-new-line-character
===KEYWORDS===
dependent 
===ANSWER===
297
<html><body><p>In addition to the line.separator property, if you are using java 1.5 or later and the <strong>String.format</strong> (or other <strong>formatting</strong> methods) you can use <code>%n</code> as in</p><pre><code>Calendar c = ...;
String s = String.format("Duke's Birthday: %1$tm %1$te,%1$tY%n", c); 
//Note `%n` at end of line                                  ^^

String s2 = String.format("Use %%n as a platform independent newline.%n"); 
//         %% becomes %        ^^
//                                        and `%n` becomes newline   ^^
</code></pre><p>See the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html" rel="nofollow noreferrer">Java 1.8 API for Formatter</a> for more details.</p></body></html>

===ID===
584e5afc3e2ca51be94fee7c
===QUESTION===
What's the difference between Thread start() and Runnable run()
Say we have these two Runnables: Then what's the difference between this: And this: 
===LINK===
http://stackoverflow.com/questions/8579657/whats-the-difference-between-thread-start-and-runnable-run
===KEYWORDS===
difference 
===ANSWER===
171
<html><body><p><strong>First example:</strong> No multiple threads. Both execute in single (existing) thread. No thread creation.</p><pre><code>R1 r1 = new R1();
R2 r2 = new R2();
</code></pre><p><code>r1</code> and <code>r2</code> are just two different objects of the class that implements the <code>Runnable</code> interfaces which have that <code>run()</code> method.  When you call <code>r1.run()</code> you are executing it in the current thread.</p><p><strong>Second example:</strong> Two separate threads.</p><pre><code>Thread t1 = new Thread(r1);
Thread t2 = new Thread(r2);
</code></pre><p><code>t1</code> and <code>t2</code> are the objects of the class <code>Thread</code>.  When you call <code>t1.start()</code>, it starts a new thread and calls the <code>run()</code> method of <code>r1</code> internally to execute it within that new thread.</p></body></html>

===ID===
584e5afc3e2ca51be94fee7d
===QUESTION===
How to unescape a Java string literal in Java?
I'm processing some Java source code using Java. I'm extracting the string literals and feeding them to a function taking a String. The problem is that I need to pass the unescaped version of the String to the function (ie. this means converting  \n  to a newline, and  \\  to a single  \ , etc). Is there a function inside the Java API that does this? If not, can I obtain such functionality from some library? Obviously the Java compiler has to do this conversion. PS - In case anyone wants to know: I'm trying to unobfuscate string literals in decompiled obfuscated Java files 
===LINK===
http://stackoverflow.com/questions/3537706/how-to-unescape-a-java-string-literal-in-java
===KEYWORDS===
function 
===ANSWER===
71
<html><body><p><strong>EDIT:</strong> You can <strong><a href="http://training.perl.com/scripts/tchrist-unicode-charclasses__alpha.java">download the full source</a></strong> for the function I discuss below. I also discuss it in more detail in <a href="http://stackoverflow.com/questions/4304928/unicode-equivalents-for-w-and-b-in-java-regular-expressions/4307261#4307261">this answer</a>.</p><p>The <code>org.apache.commons.lang.StringEscapeUtils.unescapeJava()</code> given here as “the answer” is really very little help at all.</p><li>You have to provide for loading up yet another ginormous jar file with buttloads of cruft you don’t need or want.</li><li>It has a licence. Some people don’t want to worry about a licence, no matter how good or how bad it actually is.</li><li>It forgets about <code>\0</code> for null.</li><li>It doesn’t handle octal <strong>at all</strong>. </li><li>It can’t handle the sorts of escapes admitted by the <code>java.util.regex.Pattern.compile()</code> and everything that uses it, including <code>\a</code>, <code>\e</code>, and especially <code>\cX</code>. </li><li>It has no support for logical Unicode code points by number, only for the idiotic UTF-16 brain-damage.</li><li>It’s written by some bloody idiot who doesn’t even know the difference between a <strong>slash</strong> and a <strong>backslash</strong>.</li><li>The source code is full of annoying carriage returns.</li><li>It’s written to take a <code>writer</code> argument, so if you don’t pass it one it still has to create a dummy <code>StringWriter</code> for the output, then convert that to pass back to you.</li><li>This looks like UCS-2 code, not UTF-16 code: they use the depreciated <code>charAt</code> interface instead of the <code>codePoint</code> interface, thus promugating the delusion that a Java <code>char</code> is guaranteed to hold a Unicode character. It’s not. They only get away with this blindness to the astral planes because no UTF-16 surrogate will wind up looking for anything they’re looking for. </li><p>Like many of the other points, their embarrassing ignorance about the names of code points  <code>U+2F</code> and <code>U+5C</code> instills no confidence in them whatsoever. For the record:</p><pre><code>  /  47    002F  SOLIDUS
        = slash, virgule
        x (latin letter dental click - 01C0)
        x (combining long solidus overlay - 0338)
        x (fraction slash - 2044)
        x (division slash - 2215)
 \  92    005C  REVERSE SOLIDUS
        = backslash
        x (combining reverse solidus overlay - 20E5)
        x (set minus - 2216)
</code></pre><p>So this morning I <em>finally</em> got fed up with not being able to read in strings with embedded escapes in them.  I needed it for writing the test suite for a larger and more intersting project: transparently converting Java’s <strong>indefensibly Unicode-ignorant regular expressions</strong> into versions where you can use all of <code>\w</code>, <code>\W</code>, <code>\s</code>, <code>\S</code>, <code>\v</code>, <code>\V</code>, <code>\h</code>, <code>\H</code>, <code>\d</code>, <code>\D</code>, <code>\b</code>, <code>\B</code>, <code>\X</code>, and <code>\R</code> in your patterns and have them actually work properly with Unicode. All I do is rewrite the pattern string; it still compiles with the standard <code>java.util.regex.Pattern.compile()</code>  function, so everything works as expected. The string unescaper intentionally passes any <code>\b</code>’s through untouched, in case you call it before you call the converter function to make Java regexes Unicode-aware, since that has to deal with <code>\b</code> in the boundary sense.</p><p>Anyway, here's the string unescaper, which although the less interesting of the pair, does solve the OP’s question without all the irritations of the Apache code. It could handle a bit of tightening in a couple places, but I quickly hacked it out over a few hours before lunch just to get it up and running to help drive the test suite.  The other function is a lot more work: <em>that</em> one took me all day yesterday, darn it.</p><pre><code>/*
 *
 * unescape_perl_string()
 *
 *      Tom Christiansen &lt;tchrist@perl.com&gt;
 *      Sun Nov 28 12:55:24 MST 2010
 *
 * It's completely ridiculous that there's no standard
 * unescape_java_string function.  Since I have to do the
 * damn thing myself, I might as well make it halfway useful
 * by supporting things Java was too stupid to consider in
 * strings:
 * 
 *   =&gt; "?" items  are additions to Java string escapes
 *                 but normal in Java regexes
 *
 *   =&gt; "!" items  are also additions to Java regex escapes
 *   
 * Standard singletons: ?\a ?\e \f \n \r \t
 * 
 *      NB: \b is unsupported as backspace so it can pass-through
 *          to the regex translator untouched; I refuse to make anyone
 *          doublebackslash it as doublebackslashing is a Java idiocy
 *          I desperately wish would die out.  There are plenty of
 *          other ways to write it:
 *
 *              \cH, \12, \012, \x08 \x{8}, \u0008, \U00000008
 *
 * Octal escapes: \0 \0N \0NN \N \NN \NNN
 *    Can range up to !\777 not \377
 *    
 *      TODO: add !\o{NNNNN}
 *          last Unicode is 4177777
 *          maxint is 37777777777
 *
 * Control chars: ?\cX
 *      Means: ord(X) ^ ord('@')
 *
 * Old hex escapes: \xXX
 *      unbraced must be 2 xdigits
 *
 * Perl hex escapes: !\x{XXX} braced may be 1-8 xdigits
 *       NB: proper Unicode never needs more than 6, as highest
 *           valid codepoint is 0x10FFFF, not maxint 0xFFFFFFFF
 *
 * Lame Java escape: \[IDIOT JAVA PREPROCESSOR]uXXXX must be
 *                   exactly 4 xdigits;
 *
 *       I can't write XXXX in this comment where it belongs
 *       because the damned Java Preprocessor can't mind its
 *       own business.  Idiots!
 *
 * Lame Python escape: !\UXXXXXXXX must be exactly 8 xdigits
 * 
 * TODO: Perl translation escapes: \Q \U \L \E \[IDIOT JAVA PREPROCESSOR]u \l
 *       These are not so important to cover if you're passing the
 *       result to Pattern.compile(), since it handles them for you
 *       further downstream.  Hm, what about \[IDIOT JAVA PREPROCESSOR]u?
 *
 */

public final static
String unescape_perl_string(String oldstr) {

    /*
     * In contrast to fixing Java's broken regex charclasses,
     * this one need be no bigger, as unescaping shrinks the string
     * here, where in the other one, it grows it.
     */

    StringBuffer newstr = new StringBuffer(oldstr.length());

    boolean saw_backslash = false;

    for (int i = 0; i &lt; oldstr.length(); i++) {
        int cp = oldstr.codePointAt(i);
        if (oldstr.codePointAt(i) &gt; Character.MAX_VALUE) {
            i++; /****WE HATES UTF-16! WE HATES IT FOREVERSES!!!****/
        }

        if (!saw_backslash) {
            if (cp == '\\') {
                saw_backslash = true;
            } else {
                newstr.append(Character.toChars(cp));
            }
            continue; /* switch */
        }

        if (cp == '\\') {
            saw_backslash = false;
            newstr.append('\\');
            newstr.append('\\');
            continue; /* switch */
        }

        switch (cp) {

            case 'r':  newstr.append('\r');
                       break; /* switch */

            case 'n':  newstr.append('\n');
                       break; /* switch */

            case 'f':  newstr.append('\f');
                       break; /* switch */

            /* PASS a \b THROUGH!! */
            case 'b':  newstr.append("\\b");
                       break; /* switch */

            case 't':  newstr.append('\t');
                       break; /* switch */

            case 'a':  newstr.append('\007');
                       break; /* switch */

            case 'e':  newstr.append('\033');
                       break; /* switch */

            /*
             * A "control" character is what you get when you xor its
             * codepoint with '@'==64.  This only makes sense for ASCII,
             * and may not yield a "control" character after all.
             *
             * Strange but true: "\c{" is ";", "\c}" is "=", etc.
             */
            case 'c':   {
                if (++i == oldstr.length()) { die("trailing \\c"); }
                cp = oldstr.codePointAt(i);
                /*
                 * don't need to grok surrogates, as next line blows them up
                 */
                if (cp &gt; 0x7f) { die("expected ASCII after \\c"); }
                newstr.append(Character.toChars(cp ^ 64));
                break; /* switch */
            }

            case '8':
            case '9': die("illegal octal digit");
                      /* NOTREACHED */

    /*
     * may be 0 to 2 octal digits following this one
     * so back up one for fallthrough to next case;
     * unread this digit and fall through to next case.
     */
            case '1':
            case '2':
            case '3':
            case '4':
            case '5':
            case '6':
            case '7': --i;
                      /* FALLTHROUGH */

            /*
             * Can have 0, 1, or 2 octal digits following a 0
             * this permits larger values than octal 377, up to
             * octal 777.
             */
            case '0': {
                if (i+1 == oldstr.length()) {
                    /* found \0 at end of string */
                    newstr.append(Character.toChars(0));
                    break; /* switch */
                }
                i++;
                int digits = 0;
                int j;
                for (j = 0; j &lt;= 2; j++) {
                    if (i+j == oldstr.length()) {
                        break; /* for */
                    }
                    /* safe because will unread surrogate */
                    int ch = oldstr.charAt(i+j);
                    if (ch &lt; '0' || ch &gt; '7') {
                        break; /* for */
                    }
                    digits++;
                }
                if (digits == 0) {
                    --i;
                    newstr.append('\0');
                    break; /* switch */
                }
                int value = 0;
                try {
                    value = Integer.parseInt(
                                oldstr.substring(i, i+digits), 8);
                } catch (NumberFormatException nfe) {
                    die("invalid octal value for \\0 escape");
                }
                newstr.append(Character.toChars(value));
                i += digits-1;
                break; /* switch */
            } /* end case '0' */

            case 'x':  {
                if (i+2 &gt; oldstr.length()) {
                    die("string too short for \\x escape");
                }
                i++;
                boolean saw_brace = false;
                if (oldstr.charAt(i) == '{') {
                        /* ^^^^^^ ok to ignore surrogates here */
                    i++;
                    saw_brace = true;
                }
                int j;
                for (j = 0; j &lt; 8; j++) {

                    if (!saw_brace &amp;&amp; j == 2) {
                        break;  /* for */
                    }

                    /*
                     * ASCII test also catches surrogates
                     */
                    int ch = oldstr.charAt(i+j);
                    if (ch &gt; 127) {
                        die("illegal non-ASCII hex digit in \\x escape");
                    }

                    if (saw_brace &amp;&amp; ch == '}') { break; /* for */ }

                    if (! ( (ch &gt;= '0' &amp;&amp; ch &lt;= '9')
                                ||
                            (ch &gt;= 'a' &amp;&amp; ch &lt;= 'f')
                                ||
                            (ch &gt;= 'A' &amp;&amp; ch &lt;= 'F')
                          )
                       )
                    {
                        die(String.format(
                            "illegal hex digit #%d '%c' in \\x", ch, ch));
                    }

                }
                if (j == 0) { die("empty braces in \\x{} escape"); }
                int value = 0;
                try {
                    value = Integer.parseInt(oldstr.substring(i, i+j), 16);
                } catch (NumberFormatException nfe) {
                    die("invalid hex value for \\x escape");
                }
                newstr.append(Character.toChars(value));
                if (saw_brace) { j++; }
                i += j-1;
                break; /* switch */
            }

            case 'u': {
                if (i+4 &gt; oldstr.length()) {
                    die("string too short for \\u escape");
                }
                i++;
                int j;
                for (j = 0; j &lt; 4; j++) {
                    /* this also handles the surrogate issue */
                    if (oldstr.charAt(i+j) &gt; 127) {
                        die("illegal non-ASCII hex digit in \\u escape");
                    }
                }
                int value = 0;
                try {
                    value = Integer.parseInt( oldstr.substring(i, i+j), 16);
                } catch (NumberFormatException nfe) {
                    die("invalid hex value for \\u escape");
                }
                newstr.append(Character.toChars(value));
                i += j-1;
                break; /* switch */
            }

            case 'U': {
                if (i+8 &gt; oldstr.length()) {
                    die("string too short for \\U escape");
                }
                i++;
                int j;
                for (j = 0; j &lt; 8; j++) {
                    /* this also handles the surrogate issue */
                    if (oldstr.charAt(i+j) &gt; 127) {
                        die("illegal non-ASCII hex digit in \\U escape");
                    }
                }
                int value = 0;
                try {
                    value = Integer.parseInt(oldstr.substring(i, i+j), 16);
                } catch (NumberFormatException nfe) {
                    die("invalid hex value for \\U escape");
                }
                newstr.append(Character.toChars(value));
                i += j-1;
                break; /* switch */
            }

            default:   newstr.append('\\');
                       newstr.append(Character.toChars(cp));
           /*
            * say(String.format(
            *       "DEFAULT unrecognized escape %c passed through",
            *       cp));
            */
                       break; /* switch */

        }
        saw_backslash = false;
    }

    /* weird to leave one at the end */
    if (saw_backslash) {
        newstr.append('\\');
    }

    return newstr.toString();
}

/*
 * Return a string "U+XX.XXX.XXXX" etc, where each XX set is the
 * xdigits of the logical Unicode code point. No bloody brain-damaged
 * UTF-16 surrogate crap, just true logical characters.
 */
 public final static
 String uniplus(String s) {
     if (s.length() == 0) {
         return "";
     }
     /* This is just the minimum; sb will grow as needed. */
     StringBuffer sb = new StringBuffer(2 + 3 * s.length());
     sb.append("U+");
     for (int i = 0; i &lt; s.length(); i++) {
         sb.append(String.format("%X", s.codePointAt(i)));
         if (s.codePointAt(i) &gt; Character.MAX_VALUE) {
             i++; /****WE HATES UTF-16! WE HATES IT FOREVERSES!!!****/
         }
         if (i+1 &lt; s.length()) {
             sb.append(".");
         }
     }
     return sb.toString();
 }

private static final
void die(String foa) {
    throw new IllegalArgumentException(foa);
}

private static final
void say(String what) {
    System.out.println(what);
}
</code></pre><p>As anybody can plainly see from the Java code above, I'm really a C programmer — Java is <em>anything</em> but my favorite language. I’m afraid that I really do have to side with <a href="http://www.youtube.com/watch?v=5kj5ApnhPAE">Rob Pike in his famous <em>public static void</em> talk</a> on this one.</p><p>’Nuff said.</p><p>Anyway, it’s only a quick morning’s hackery, but if it helps others, you’re welcome to it — no strings attached. If you improve it, I’d love for you to mail me your enhancements, but you certainly don’t have to.</p></body></html>

===ID===
584e5afd3e2ca51be94fee7e
===QUESTION===
What is the purpose of the expression “new String(…)” in Java?
While looking at online code samples, I have sometimes come across an assignment of a String constant to a String object via the use of the new operator. For example: This, of course, compared to I'm not familiar with this syntax and have no idea what the purpose or effect would be. 
Since String constants typically get stored in the constant pool and then in whatever representation the JVM has for dealing with String constants, would anything even be allocated on the heap? 
===LINK===
http://stackoverflow.com/questions/390703/what-is-the-purpose-of-the-expression-new-string-in-java
===KEYWORDS===
compared 
===ANSWER===
61
<html><body><p>The one place where you may need <code>new String(String)</code> is to force a substring to copy to a new underlying character array, as in </p><pre><code>small=new String(huge.substring(10,20))
</code></pre><p>However, this behavior is unfortunately undocumented and implementation dependent.</p><p>I have been burned by this when reading large files (some up to 20 MiB) into a String and carving it into lines after the fact.  I ended up with all the strings for the lines referencing the char[] consisting of entire file.  Unfortunately, that unintentionally kept a reference to the entire array for the few lines I held on to for a longer time than processing the file - I was forced to use <code>new String()</code> to work around it.  </p><p>The only implementation agnostic way to do this is:</p><pre><code>small=new String(huge.substring(10,20).toCharArray());
</code></pre><p>This unfortunately must copy the array twice, once for <code>toCharArray()</code> and once in the String constructor.</p><p>There needs to be a documented way to get a new String by copying the chars of an existing one; or the documentation of <code>String(String)</code> needs to be improved to make it more explicit (there is an implication there, but it's rather vague and open to interpretation).</p><p>In response to the comments, which keep coming in, observe what the Apache Harmony implementation of <code>new String()</code> was:</p><pre><code>public String(String string) {
    value = string.value;
    offset = string.offset;
    count = string.count;
}
</code></pre><p>That's right, no copy of the underlying array there.  And yet, it still conforms to the (Java 7) String documentation, in that it:</p><p>Initializes a newly created String object so that it represents the same sequence of characters as the argument; in other words, the newly created string is a copy of the argument string. Unless an explicit copy of original is needed, use of this constructor is unnecessary since Strings are immutable.</p><p>The salient piece being "copy of the argument <strong><em>string</em></strong>"; it does not say "copy of the argument string and the underlying character array supporting the string".</p><p>Be careful that you program to the <em>documentation</em> and not <strong>one</strong> <em>implementation</em>.</p></body></html>

===ID===
584e5afd3e2ca51be94fee7f
===QUESTION===
JTable design to synchronize with back-end data-structure
I have a JTable which is loaded from a data-structure using table model.The data-structure is of the format  NavigableMap<Float,NavigableMap<Float,Boolean>> .An example data is: The above data format is represented in the DS as I have managed to represent the above given data in Jtable using table-model.Once the data is loaded from the DS to the table I have to allow user edit.Now this is where I have problem.My doubt is whether is should keep the data structure synchronized with the changes in the table or should i recreate the DS from the table once the user finish editing and then replace it with the old one. More over I need to validate the data(for example from above - Suppose the user want's to edit the value 30.1.He should only be allowed to enter values between 12.1 and 45.6.Since data the tables are string's (once loaded) I'm planning to use regex and key-listener and consume all user key presses which doesn't  match the regex and values which doesn't come within the range.I'm not sure is this is a good idea or what are implications.I would like to get some suggestions on this. 
===LINK===
http://stackoverflow.com/questions/3590897/jtable-design-to-synchronize-with-back-end-data-structure
===KEYWORDS===
navigablemap<float 
===ANSWER===
12
<html><body><p>I would recreate your DS once the user is finised editing the table.</p><p>You can always create a custom editor to display a popup dialog where you have two separate text fields for each value of the range. Then you can edit each field as a double value within your specified range and recreate the formatted string before saving it to the model. Here's an old example I have lying around to get you started:</p><pre><code>import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.table.*;

/*
 * The editor button that brings up the dialog.
 */
//public class TablePopupEditor extends AbstractCellEditor
public class TablePopupEditor extends DefaultCellEditor
    implements TableCellEditor
{
    private PopupDialog popup;
    private String currentText = "";
    private JButton editorComponent;

    public TablePopupEditor()
    {
        super(new JTextField());

        setClickCountToStart(2);

        //  Use a JButton as the editor component

        editorComponent = new JButton();
        editorComponent.setBackground(Color.white);
        editorComponent.setBorderPainted(false);
        editorComponent.setContentAreaFilled( false );

        //  Set up the dialog where we do the actual editing

        popup = new PopupDialog();
    }

    public Object getCellEditorValue()
    {
        return currentText;
    }

    public Component getTableCellEditorComponent(
        JTable table, Object value, boolean isSelected, int row, int column)
    {

        SwingUtilities.invokeLater(new Runnable()
        {
            public void run()
            {
                System.out.println("run");
                popup.setText( currentText );
//              popup.setLocationRelativeTo( editorComponent );
                Point p = editorComponent.getLocationOnScreen();
                popup.setLocation(p.x, p.y + editorComponent.getSize().height);
                popup.show();
                fireEditingStopped();
            }
        });

        currentText = value.toString();
        editorComponent.setText( currentText );
        return editorComponent;
    }

    /*
    *   Simple dialog containing the actual editing component
    */
    class PopupDialog extends JDialog implements ActionListener
    {
        private JTextArea textArea;

        public PopupDialog()
        {
            super((Frame)null, "Change Description", true);

            textArea = new JTextArea(5, 20);
            textArea.setLineWrap( true );
            textArea.setWrapStyleWord( true );
            KeyStroke keyStroke = KeyStroke.getKeyStroke("ENTER");
            textArea.getInputMap().put(keyStroke, "none");
            JScrollPane scrollPane = new JScrollPane( textArea );
            getContentPane().add( scrollPane );

            JButton cancel = new JButton("Cancel");
            cancel.addActionListener( this );
            JButton ok = new JButton("Ok");
            ok.setPreferredSize( cancel.getPreferredSize() );
            ok.addActionListener( this );

            JPanel buttons = new JPanel();
            buttons.add( ok );
            buttons.add( cancel );
            getContentPane().add(buttons, BorderLayout.SOUTH);
            pack();

            getRootPane().setDefaultButton( ok );
        }

        public void setText(String text)
        {
            textArea.setText( text );
        }

        /*
        *   Save the changed text before hiding the popup
        */
        public void actionPerformed(ActionEvent e)
        {
            if ("Ok".equals( e.getActionCommand() ) )
            {
                currentText = textArea.getText();
            }

            textArea.requestFocusInWindow();
            setVisible( false );
        }
    }

    public static void main(String[] args)
    {
        String[] columnNames = {"Item", "Description"};
        Object[][] data =
        {
            {"Item 1", "Description of Item 1"},
            {"Item 2", "Description of Item 2"},
            {"Item 3", "Description of Item 3"}
        };

        JTable table = new JTable(data, columnNames);
        table.getColumnModel().getColumn(1).setPreferredWidth(300);
        table.setPreferredScrollableViewportSize(table.getPreferredSize());
        JScrollPane scrollPane = new JScrollPane(table);

        // Use the popup editor on the second column

        TablePopupEditor popupEditor = new TablePopupEditor();
        table.getColumnModel().getColumn(1).setCellEditor( popupEditor );

        JFrame frame = new JFrame("Popup Editor Test");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.getContentPane().add( scrollPane );
        frame.pack();
        frame.setLocationRelativeTo( null );
        frame.setVisible(true);
    }
}
</code></pre></body></html>

===ID===
584e5afe3e2ca51be94fee80
===QUESTION===
How do I tell Maven to use the latest version of a dependency?
In Maven, dependencies are usually set up like this: Now, if you are working with libraries that have frequent releases, constantly updating the <version> tag can be somewhat annoying. Is there any way to tell Maven to always use the latest available version (from the repository)?  
===LINK===
http://stackoverflow.com/questions/30571/how-do-i-tell-maven-to-use-the-latest-version-of-a-dependency
===KEYWORDS===
libraries 
===ANSWER===
508
<html><body><p><strong><em>NOTE:</em></strong> <em>This answer applies to Maven 2 only! The mentioned <code>LATEST</code> and <code>RELEASE</code> metaversions <a href="https://cwiki.apache.org/confluence/display/MAVEN/Maven+3.x+Compatibility+Notes#Maven3.xCompatibilityNotes-PluginMetaversionResolution" rel="nofollow noreferrer">have been dropped in Maven 3 "for the sake of reproducible builds"</a>, over 6 years ago.</em></p><p>If you  always want to use the newest version, Maven has two keywords you can use as an alternative to version ranges. You should use these options with care as you are no longer in control of the plugins/dependencies you are using.</p><p>When you depend on a plugin or a dependency, you can use the a version value of LATEST or RELEASE. LATEST refers to the latest released or snapshot version of a particular artifact, the most recently deployed artifact in a particular repository. RELEASE refers to the last non-snapshot release in the repository. In general, it is not a best practice to design software which depends on a non-specific version of an artifact. If you are developing software, you might want to use RELEASE or LATEST as a convenience so that you don't have to update version numbers when a new release of a third-party library is released. When you release software, you should always make sure that your project depends on specific versions to reduce the chances of your build or your project being affected by a software release not under your control. Use LATEST and RELEASE with caution, if at all.</p><p>See the <a href="http://www.sonatype.com/books/maven-book/reference/pom-relationships-sect-pom-syntax.html#pom-relationships-sect-latest-release" rel="nofollow noreferrer">POM Syntax section of the Maven book</a> for more details. Or see this doc on <a href="http://www.mojohaus.org/versions-maven-plugin/examples/resolve-ranges.html" rel="nofollow noreferrer">Dependency Version Ranges</a>, where: </p><li>A square bracket ( <code>[</code> &amp; <code>]</code> ) means "closed" (inclusive).</li><li>A parenthesis ( <code>(</code> &amp; <code>)</code> ) means "open" (exclusive).</li><p>Here's an example illustrating the various options. In the Maven repository, com.foo:my-foo has the following metadata:</p><pre class="lang-xml prettyprint-override"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;metadata&gt;
  &lt;groupId&gt;com.foo&lt;/groupId&gt;
  &lt;artifactId&gt;my-foo&lt;/artifactId&gt;
  &lt;version&gt;2.0.0&lt;/version&gt;
  &lt;versioning&gt;
    &lt;release&gt;1.1.1&lt;/release&gt;
    &lt;versions&gt;
      &lt;version&gt;1.0&lt;/version&gt;
      &lt;version&gt;1.0.1&lt;/version&gt;
      &lt;version&gt;1.1&lt;/version&gt;
      &lt;version&gt;1.1.1&lt;/version&gt;
      &lt;version&gt;2.0.0&lt;/version&gt;
    &lt;/versions&gt;
    &lt;lastUpdated&gt;20090722140000&lt;/lastUpdated&gt;
  &lt;/versioning&gt;
&lt;/metadata&gt;
</code></pre><p>If a dependency on that artifact is required, you have the following options (other <a href="http://docs.codehaus.org/display/MAVEN/Dependency+Mediation+and+Conflict+Resolution#DependencyMediationandConflictResolution-DependencyVersionRanges" rel="nofollow noreferrer">version ranges</a> can be specified of course, just showing the relevant ones here):</p><p>Declare an exact version (will always resolve to 1.0.1):</p><pre class="lang-xml prettyprint-override"><code>&lt;version&gt;[1.0.1]&lt;/version&gt;
</code></pre><p>Declare an explicit version (will always resolve to 1.0.1 unless a collision occurs, when Maven will select a matching version):</p><pre class="lang-xml prettyprint-override"><code>&lt;version&gt;1.0.1&lt;/version&gt;
</code></pre><p>Declare a version range for all 1.x (will currently resolve to 1.1.1):</p><pre class="lang-xml prettyprint-override"><code>&lt;version&gt;[1.0.0,2.0.0)&lt;/version&gt;
</code></pre><p>Declare an open-ended version range (will resolve to 2.0.0):</p><pre class="lang-xml prettyprint-override"><code>&lt;version&gt;[1.0.0,)&lt;/version&gt;
</code></pre><p>Declare the version as LATEST (will resolve to 2.0.0):</p><pre class="lang-xml prettyprint-override"><code>&lt;version&gt;LATEST&lt;/version&gt;
</code></pre><p>Declare the version as RELEASE (will resolve to 1.1.1):</p><pre class="lang-xml prettyprint-override"><code>&lt;version&gt;RELEASE&lt;/version&gt;
</code></pre><p>Note that by default your own deployments will update the "latest" entry in the Maven metadata, but to update the "release" entry, you need to activate the "release-profile" from the <a href="http://maven.apache.org/guides/introduction/introduction-to-the-pom.html" rel="nofollow noreferrer">Maven super POM</a>. You can do this with either "-Prelease-profile" or "-DperformRelease=true"</p><p>It's worth emphasising that any approach that allows Maven to pick the dependency versions (LATEST, RELEASE, and version ranges) can leave you open to build time issues, as later versions can have different behaviour (for example the dependency plugin has previously switched a default value from true to false, with confusing results).</p><p>It is therefore generally a good idea to define exact versions in releases. As <a href="http://stackoverflow.com/questions/30571/how-do-i-tell-maven-to-use-the-latest-version-of-a-dependency/1172805#1172805">Tim's answer</a> points out, the <a href="http://mojo.codehaus.org/versions-maven-plugin/" rel="nofollow noreferrer">maven-versions-plugin</a> is a handy tool for updating dependency versions, particularly the <a href="http://mojo.codehaus.org/versions-maven-plugin/use-latest-versions-mojo.html" rel="nofollow noreferrer">versions:use-latest-versions</a> and <a href="http://mojo.codehaus.org/versions-maven-plugin/use-latest-releases-mojo.html" rel="nofollow noreferrer">versions:use-latest-releases</a> goals.</p></body></html>

===ID===
584e5afe3e2ca51be94fee81
===QUESTION===
Avoid synchronized(this) in Java?
Whenever a question pops up on SO about Java synchronization, some people are very eager to point out that  synchronized(this)  should be avoided. Instead, they claim, a lock on a private reference is to be preferred. Some of the given reasons are: Other people, including me, argue that  synchronized(this)  is an idiom that is used a lot (also in Java libraries), is safe and well understood. It should not be avoided because you have a bug and you don't have a clue of what is going on in your multithreaded program. In other words: if it is applicable, then use it. I am interested in seeing some real-world examples (no foobar stuff) where avoiding a lock on  this  is preferable when  synchronized(this)  would also do the job. Therefore:  should you always avoid  synchronized(this)  and replace it with a lock on a private reference?   Some further info (updated as answers are given): 
===LINK===
http://stackoverflow.com/questions/442564/avoid-synchronizedthis-in-java
===KEYWORDS===
claim 
===ANSWER===
82
<html><body><p>I'll cover each point separately.</p><li><blockquote>
<p>Some evil code may steal your lock (very popular this one, also has an
  "accidentally" variant)</p>
</blockquote>
<p>I'm more worried about <em>accidentally</em>.  What it amounts to is that this use of <code>this</code> is part of your class' exposed interface, and should be documented.  Sometimes the ability of other code to use your lock is desired.  This is true of things like <code>Collections.synchronizedMap</code> (see the javadoc).</p></li><p>Some evil code may steal your lock (very popular this one, also has an
  "accidentally" variant)</p><p>I'm more worried about <em>accidentally</em>.  What it amounts to is that this use of <code>this</code> is part of your class' exposed interface, and should be documented.  Sometimes the ability of other code to use your lock is desired.  This is true of things like <code>Collections.synchronizedMap</code> (see the javadoc).</p><li><blockquote>
<p>All synchronized methods within the same class use the exact same
  lock, which reduces throughput</p>
</blockquote>
<p>This is overly simplistic thinking; just getting rid of <code>synchronized(this)</code> won't solve the problem.  Proper synchronization for throughput will take more thought.</p></li><p>All synchronized methods within the same class use the exact same
  lock, which reduces throughput</p><p>This is overly simplistic thinking; just getting rid of <code>synchronized(this)</code> won't solve the problem.  Proper synchronization for throughput will take more thought.</p><li><blockquote>
<p>You are (unnecessarily) exposing too much information</p>
</blockquote>
<p>This is a variant of #1.  Use of <code>synchronized(this)</code> is part of your interface.  If you don't want/need this exposed, don't do it.</p></li><p>You are (unnecessarily) exposing too much information</p><p>This is a variant of #1.  Use of <code>synchronized(this)</code> is part of your interface.  If you don't want/need this exposed, don't do it.</p></body></html>

===ID===
584e5b003e2ca51be94fee82
===QUESTION===
How to capitalize the first character of each word in a string
Is there a function built into Java that capitalizes the first character of each word in a String, and does not affect the others? Examples: *( Old McDonald  would be find too, but I don't expect it to be THAT smart.) A quick look at the  Java String Documentation  reveals only  toUpperCase()  and  toLowerCase() , which of course do not provide the desired behavior. Naturally, Google results are dominated by those two functions. It seems like a wheel that must have been invented already, so it couldn't hurt to ask so I can use it in the future.  
===LINK===
http://stackoverflow.com/questions/1892765/how-to-capitalize-the-first-character-of-each-word-in-a-string
===KEYWORDS===
examples 
===ANSWER===
509
<html><body><p><a href="http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/text/WordUtils.html" rel="nofollow noreferrer"><code>WordUtils.capitalize(str)</code></a> (from <a href="http://commons.apache.org/lang/" rel="nofollow noreferrer">apache commons-lang</a>)</p><p>(Note: if you need <code>"fOO BAr"</code> to become <code>"Foo Bar"</code>, then use <code>capitalizeFully(..)</code> instead)</p></body></html>

===ID===
584e5b013e2ca51be94fee83
===QUESTION===
How to properly compare two Integers in Java?
I know that if you compare a boxed primitive Integer with a constant such as: a  will automatically be unboxed and the comparison will work. However, what happens when you are comparing two boxed  Integers  and want to compare either equality or less than/greater than? Will above code result in checking to see if they are the same object, or will it auto-unbox in that case? What about: ? 
===LINK===
http://stackoverflow.com/questions/1514910/how-to-properly-compare-two-integers-in-java
===KEYWORDS===
unboxed 
===ANSWER===
179
<html><body><p>No, == between Integer, Long etc will check for <em>reference equality</em> - i.e.</p><pre><code>Integer x = ...;
Integer y = ...;

System.out.println(x == y);
</code></pre><p>this will check whether <code>x</code> and <code>y</code> refer to the <em>same object</em> rather than <em>equal</em> objects.</p><p>So</p><pre><code>Integer x = new Integer(10);
Integer y = new Integer(10);

System.out.println(x == y);
</code></pre><p>is guaranteed to print <code>false</code>. Interning of "small" autoboxed values can lead to tricky results:</p><pre><code>Integer x = 10;
Integer y = 10;

System.out.println(x == y);
</code></pre><p>This will print <code>true</code>, due to the rules of boxing (<a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.7" rel="nofollow noreferrer">JLS section 5.1.7</a>). It's still reference equality being used, but the references genuinely <em>are</em> equal.</p><p>Personally I'd use:</p><pre><code>if (x.intValue() == y.intValue())
</code></pre><p>or</p><pre><code>if (x.equals(y))
</code></pre><p>The latter is slightly less efficient - there isn't an overload for <code>Integer.equals(Integer)</code> so it will have to do execution time type checking, whereas the first uses the fact that we already know that both objects are <code>Integer</code>s.</p><p>Fortunately, <code>compareTo</code> knows about the types, so:</p><pre><code>if (x.compareTo(y) &lt; 0)
</code></pre><p>should still be efficient. Of course, this is micro-optimisation territory and you should use the code you find clearest - after making sure it's correct :)</p><p>As you say, for any comparison between a wrapper type (<code>Integer</code>, <code>Long</code> etc) and a numeric type (<code>int</code>, <code>long</code> etc) the wrapper type value is <em>unboxed</em> and the test is applied to the primitive values involved.</p><p>This occurs as part of binary numeric promotion (<a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.6.2" rel="nofollow noreferrer">JLS section 5.6.2</a>). Look at each individual operator's documentation to see whether it's applied. For example, from the docs for == and != (<a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.21.1" rel="nofollow noreferrer">JLS 15.21.1</a>):</p><p>If the operands of an equality
  operator are both of numeric type, or
  one is of numeric type and the other
  is convertible (§5.1.8) to numeric
  type, binary numeric promotion is
  performed on the operands (§5.6.2).</p><p>and for &lt;, &lt;=, &gt; and &gt;= (<a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.20.1" rel="nofollow noreferrer">JLS 15.20.1</a>)</p><p>The type of each of the operands of a
  numerical comparison operator must be
  a type that is convertible (§5.1.8) to
  a primitive numeric type, or a
  compile-time error occurs. Binary
  numeric promotion is performed on the
  operands (§5.6.2). If the promoted
  type of the operands is int or long,
  then signed integer comparison is
  performed; if this promoted type is
  float or double, then floating-point
  comparison is performed.</p><p>Note how none of this is considered as part of the situation where <em>neither</em> type is a numeric type.</p></body></html>

===ID===
584e5b013e2ca51be94fee84
===QUESTION===
Error: Could not find or load main class [duplicate]
This question already has an answer here: I am having trouble compiling and running my Java code, intended to allow me to interface Java with a shared object for Vensim, a simulation modeling package. The following code compiles without error: However, when I try to run the following: I get the following error: "Error: Could not find or load main class SpatialModel
".  My SpatialModel.java code does contain a 'main' method (below), so I'm not sure what the problem is - can anyone please help me out?  Thanks. 
===LINK===
http://stackoverflow.com/questions/7485670/error-could-not-find-or-load-main-class
===KEYWORDS===
spatialmodel 
===ANSWER===
196
<html><body><p>You must ensure that you add the location of your <code>.class</code> file to your classpath. So, if its in the current folder then add <code>.</code> to your classpath.
Note that the windows classpath separator is a semi-colon ie <code>;</code></p></body></html>

===ID===
584e5b023e2ca51be94fee85
===QUESTION===
java runtime.getruntime() getting output from executing a command line program
I am using the runtime to run command prompt commands from my java program.  However I am not aware of how I can get the output the command returns. Here is my code. I tried doing system.out.print(proc); but that did not return anything.  The execution of that command should return two numbers separated by a semicolon, how could I get this in a variable to print out? Thanks, Here is the code I am using now: But I am not getting anything as my output but when I run that command myself it works fine. 
===LINK===
http://stackoverflow.com/questions/5711084/java-runtime-getruntime-getting-output-from-executing-a-command-line-program
===KEYWORDS===
execution 
===ANSWER===
113
<html><body><p>Here is the way to go:</p><pre><code>Runtime rt = Runtime.getRuntime();
String[] commands = {"system.exe","-get t"};
Process proc = rt.exec(commands);

BufferedReader stdInput = new BufferedReader(new 
     InputStreamReader(proc.getInputStream()));

BufferedReader stdError = new BufferedReader(new 
     InputStreamReader(proc.getErrorStream()));

// read the output from the command
System.out.println("Here is the standard output of the command:\n");
String s = null;
while ((s = stdInput.readLine()) != null) {
    System.out.println(s);
}

// read any errors from the attempted command
System.out.println("Here is the standard error of the command (if any):\n");
while ((s = stdError.readLine()) != null) {
    System.out.println(s);
}
</code></pre><p>Better read the Javadoc for more details <a href="http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ProcessBuilder.html">here</a>. <code>ProcessBuilder</code> would be good choice to use</p></body></html>

===ID===
584e5b023e2ca51be94fee86
===QUESTION===
What does servletcontext.getRealPath(“/”) mean and when should I use it
In the following snippet: What does  /  in the method  getRealPath()  represent? When should I use it? 
===LINK===
http://stackoverflow.com/questions/12160639/what-does-servletcontext-getrealpath-mean-and-when-should-i-use-it
===KEYWORDS===
snippet 
===ANSWER===
55
<html><body><p>The <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#getRealPath%28java.lang.String%29"><code>ServletContext#getRealPath()</code></a> is intented to convert a web content path (the path in the expanded WAR folder structure on the server's disk file system) to an absolute disk file system path.</p><p>The <code>"/"</code> represents the web content root. I.e. it represents the <code>web</code> folder as in the below project structure:</p><pre class="lang-none prettyprint-override"><code>YourWebProject
 |-- src
 |    :
 |
 |-- web
 |    |-- META-INF
 |    |    `-- MANIFEST.MF
 |    |-- WEB-INF
 |    |    `-- web.xml
 |    |-- index.jsp
 |    `-- login.jsp
 :    
</code></pre><p>So, passing the <code>"/"</code> to <code>getRealPath()</code> would return you the absolute disk file system path of the <code>/web</code> folder of the expanded WAR file of the project. Something like <code>/path/to/server/work/folder/some.war/</code> which you should be able to further use in <code>File</code> or <code>FileInputStream</code>.</p><p>Note that most starters don't seem to see/realize that you can actually pass the whole web content path to it and that they often use</p><pre><code>String absolutePathToIndexJSP = servletContext.getRealPath("/") + "index.jsp";
</code></pre><p>instead of</p><pre><code>String absolutePathToIndexJSP = servletContext.getRealPath("/index.jsp");
</code></pre><p>Also note that even though you can write new files into it using <code>FileOutputStream</code>, all changes (e.g. new files or edited files) will <strong>get lost</strong> whenever the WAR is redeployed; with the simple reason that all those changes are not contained in the original WAR file. So all starters who are attempting to save uploaded files in there are doing it wrong. </p><p>Moreover, <code>getRealPath()</code> will always return <code>null</code> or a completely unexpected path when the server isn't configured to expand the WAR file into the disk file system, but instead into e.g. memory as a virtual file system. </p><p>Use <code>getRealPath()</code> carefully. There are actually no sensible real world use cases for it. If all you actually need is to get an <code>InputStream</code> of the web resource, better use <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#getResourceAsStream%28java.lang.String%29"><code>ServletContext#getResourceAsStream()</code></a> instead, this will work regardless of the way how the WAR is expanded. So, if you for example want an <code>InputStream</code> of <code>index.jsp</code>, then do <strong>not</strong> do:</p><pre><code>InputStream input = new FileInputStream(servletContext.getRealPath("/index.jsp")); // Wrong!
</code></pre><p>But instead do:</p><pre><code>InputStream input = servletContext.getResourceAsStream("/index.jsp"); // Right!
</code></pre><p>Or if you intend to obtain a list of all available web resource paths, use <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#getResourcePaths(java.lang.String)"><code>ServletContext#getResourcePaths()</code></a> instead.</p><pre><code>Set&lt;String&gt; resourcePaths = servletContext.getResourcePaths("/");
</code></pre><p>You can obtain an individual resource as <code>URL</code> via <a href="http://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html#getResource%28java.lang.String%29"><code>ServletContext#getResource()</code></a>. This will return <code>null</code> when the resource does not exist.</p><pre><code>URL resource = servletContext.getResource(path);
</code></pre><p>Or if you intend to save an uploaded file, or create a temporary file, then see the below "See also" links.</p><li><a href="http://stackoverflow.com/questions/2308188/getresourceasstream-vs-fileinputstream">getResourceAsStream() vs FileInputStream</a></li><li><a href="http://stackoverflow.com/questions/18664579/recommended-way-to-save-uploaded-files-in-a-servlet-application">Recommended way to save uploaded files in a servlet application</a></li><li><a href="http://stackoverflow.com/questions/27804742/simple-ways-to-keep-data-on-redeployment-of-java-ee-7-web-application/">Simple ways to keep data on redeployment of Java EE 7 web application</a></li></body></html>

===ID===
584e5b033e2ca51be94fee87
===QUESTION===
javafx 8 compatibility issues - FXML static fields
I have designed a javafx application which works fine in jdk 7. When I try to run it in java 8 I am getting the below exceptions: I found out the reason for this is in the initialize method of the controller class I am not able to use the inbuilt methods in any static component. (For example: staticMyTextField.setText() is causing the problem in java 8 but not in java 7). I am not able to find out anything documented regarding this in the javafx guides. Can someone please provide some ideas on why this is causing an issue in Java 8? And also share documents related to this if any. 
===LINK===
http://stackoverflow.com/questions/23105433/javafx-8-compatibility-issues-fxml-static-fields
===KEYWORDS===
documented 
===ANSWER===
27
<html><body><p>It sounds like you are trying to inject a <code>TextField</code> into a static field. Something like</p><pre><code>@FXML
private static TextField myTextField ;
</code></pre><p>This apparently worked in JavaFX 2.2. It doesn't work in JavaFX 8. Since no official documentation ever supported this use, it's doesn't really violate backward compatibility, though in fairness the documentation on exactly what the <code>FXMLLoader</code> does is pretty woeful.</p><p>Why would you ever want to do this though? It's clearly a really terrible idea. Suppose you decided to reuse your FXML file twice in the same application: the second use would overwrite the value for the static field, and all sorts of chaos would ensue. Simply put, if you are trying to have static fields injected in your controller, you're doing things wrong anyway.</p><p><strong>Update</strong>: Response to question in comments</p><p>In particular, don't use static fields just to enable them to be accessible from outside the class. A static field has a single value belonging to the class, instead of a value for each instance of the class, and the decision to make fields static should only be made if that makes sense. To allow access to instance data, you just have to have a reference to the instance. The <code>FXMLLoader</code> has a <code>getController()</code> method that allows you to retrieve a reference to the controller. </p><p>A related point: it's also not a good idea to expose the UI controls from the controller. You should instead expose the data. For example, instead of defining a <code>getTextField()</code> method in the controller, instead define a <code>textProperty()</code> method that returns a <code>StringProperty</code> representing the contents of the <code>TextField</code>. The reason for this is that when your boss comes to the office and tells you he wants the <code>TextField</code> to be replaced by a <code>TextArea</code>, or a <code>ComboBox&lt;String&gt;</code>, or some other control, then it's going to be a lot harder if classes outside of the controller are using your <code>TextField</code>. The structure of the data represented by your controller is much less likely to change than the implementation of how that data is presented to the user.</p><p>For some examples </p><li><a href="http://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml">Passing Parameters JavaFX FXML</a></li><li><a href="http://stackoverflow.com/questions/23118330/javafx-data-mangement/">JavaFX Data Mangement</a> </li><li><a href="http://stackoverflow.com/questions/23048500/access-fields-from-another-controller-in-javafx/">Access fields from another Controller in JavaFX</a></li><li><a href="https://github.com/james-d/LeastCommonMultipleCalculator">https://github.com/james-d/LeastCommonMultipleCalculator</a></li><li><a href="https://github.com/james-d/Nested-Controller-Example">https://github.com/james-d/Nested-Controller-Example</a></li><li><a href="https://github.com/james-d/Dialog-FXML-Example">https://github.com/james-d/Dialog-FXML-Example</a></li><li><a href="https://github.com/james-d/Shared-Data-Controller">https://github.com/james-d/Shared-Data-Controller</a></li></body></html>

===ID===
584e5b053e2ca51be94fee88
===QUESTION===
Why doesn't RecyclerView have onItemClickListener()? And how RecyclerView is different from Listview?
I don't know whether I am asking the right question. I was exploring  RecyclerView  and I was surprised to see that  RecyclerView  does not have  onItemClickListener() . Because  RecyclerView  extends      android.view.ViewGroup and  ListView  extends  android.widget.AbsListView .  However I solved my problem by writing  onClick  in my  RecyclerView.Adapter : But still I want to know why Google removed  onItemClickListener() ?  Is there a performance issue or something else? 
===LINK===
http://stackoverflow.com/questions/24885223/why-doesnt-recyclerview-have-onitemclicklistener-and-how-recyclerview-is-dif
===KEYWORDS===
viewgroup 
===ANSWER===
874
<html><body><p><strong>tl;dr 2016</strong> Use RxJava and a PublishSubject to expose an Observable for the clicks.</p><pre><code>public class ReactiveAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {
    String[] mDataset = { "Data", "In", "Adapter" };

    private final PublishSubject&lt;String&gt; onClickSubject = PublishSubject.create();

    @Override 
    public void onBindViewHolder(final ViewHolder holder, int position) {
        final String element = mDataset[position];

        holder.itemView.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
               onClickSubject.onNext(element);
            }
        });
    }

    public Observable&lt;String&gt; getPositionClicks(){
        return onClickSubject.asObservable();
    }
}
</code></pre><p><strong>Original Post:</strong></p><p>Since the introduction of <code>ListView</code>, <code>onItemClickListener</code> has been problematic. The moment you have a click listener for any of the internal elements the callback would not be triggered but it wasn't notified or well documented (if at all) so there was a lot of confusion and SO questions about it.</p><p>Given that <code>RecyclerView</code> takes it a step further and doesn't have a concept of a row/column, but rather an arbitrarily laid out amount of children, they have delegated the onClick to each one of them, or to programmer implementation.</p><p>Think of <code>Recyclerview</code> not as a <code>ListView</code> 1:1 replacement but rather as a more flexible component for complex use cases. And as you say, your solution is what google expected of you. Now you have an adapter who can delegate onClick to an interface passed on the constructor, which is the correct pattern for both <code>ListView</code> and <code>Recyclerview</code>.</p><pre><code>public static class ViewHolder extends RecyclerView.ViewHolder implements OnClickListener {

    public TextView txtViewTitle;
    public ImageView imgViewIcon;
    public IMyViewHolderClicks mListener;

    public ViewHolder(View itemLayoutView, IMyViewHolderClicks listener) {
        super(itemLayoutView);
        mListener = listener;
        txtViewTitle = (TextView) itemLayoutView.findViewById(R.id.item_title);
        imgViewIcon = (ImageView) itemLayoutView.findViewById(R.id.item_icon);
        imgViewIcon.setOnClickListener(this);
        itemLayoutView.setOnClickListener(this);
    }

    @Override
    public void onClick(View v) {
        if (v instanceof ImageView){
           mListener.onTomato((ImageView)v);
        } else {
           mListener.onPotato(v);
        }
    }

    public static interface IMyViewHolderClicks {
        public void onPotato(View caller);
        public void onTomato(ImageView callerImage);
    }

}
</code></pre><p>and then on your adapter</p><pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {

   String[] mDataset = { "Data" };

   @Override
   public MyAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
       View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.my_layout, parent, false);

       MyAdapter.ViewHolder vh = new ViewHolder(v, new MyAdapter.ViewHolder.IMyViewHolderClicks() { 
           public void onPotato(View caller) { Log.d("VEGETABLES", "Poh-tah-tos"); };
           public void onTomato(ImageView callerImage) { Log.d("VEGETABLES", "To-m8-tohs"); }
        });
        return vh;
    }

    // Replace the contents of a view (invoked by the layout manager) 
    @Override 
    public void onBindViewHolder(ViewHolder holder, int position) {
        // Get element from your dataset at this position 
        // Replace the contents of the view with that element 
        // Clear the ones that won't be used
        holder.txtViewTitle.setText(mDataset[position]);
    } 

    // Return the size of your dataset (invoked by the layout manager) 
    @Override 
    public int getItemCount() { 
        return mDataset.length;
    } 
  ...
</code></pre><p>Now look into that last piece of code: <code>onCreateViewHolder(ViewGroup parent, int viewType)</code> the signature already suggest different view types. For each one of them you'll require a different viewholder too, and subsequently each one of them can have a different set of clicks. Or you can just create a generic viewholder that takes any view and one <code>onClickListener</code> and applies accordingly. Or delegate up one level to the orchestrator so several fragments/activities have the same list with different click behaviour. Again, all flexibility is on your side.</p><p>It is a really needed component and fairly close to what our internal implementations and improvements to <code>ListView</code> were until now. It's good that Google finally acknowledges it.</p></body></html>

===ID===
584e5b053e2ca51be94fee89
===QUESTION===
How do you assert that a certain exception is thrown in JUnit 4 tests?
How can I use JUnit4 idiomatically to test that some code throws an exception? While I can certainly do something like this: I recall that there is an annotation or an Assert.xyz or  something  that is far less kludgy and far more in-the-spirit of JUnit for these sorts of situations. 
===LINK===
http://stackoverflow.com/questions/156503/how-do-you-assert-that-a-certain-exception-is-thrown-in-junit-4-tests
===KEYWORDS===
thrown 
===ANSWER===
1282
<html><body><p>JUnit 4 has support for this:</p><pre><code>@Test(expected=IndexOutOfBoundsException.class)
public void testIndexOutOfBoundsException() {
    ArrayList emptyList = new ArrayList();
    Object o = emptyList.get(0);
}
</code></pre></body></html>

===ID===
584e5b073e2ca51be94fee8a
===QUESTION===
Android Studio installation on Windows 7 fails, no JDK found
I downloaded Android Studio and attempted to launch the program. This is running on Windows 7 64-bit with Java 1.7. During the installation my Java 1.7 is detected, and the rest of the installation goes through just fine. However, when attempting to launch the application from the desktop icon, nothing happens. Looking at the task manager, a new process from the CMD is loaded. This is because it's attempting to run the batch file  studio.bat . When I execute via CMD, I get the following error: ERROR: cannot start Android Studio. No JDK found. Please validate
  either ANDROID_STUDIO_JDK, or JDK_HOME or JAVA_HOME points to valid
  JDK installation. ECHO is off. Press any key to continue . . . I've attempted to open the  idea  properties file to see if there was something I could configure for this  ANDROID_STUDIO_JDK  or something like that. However, I found nothing. I hope some of you can let me know if you were able to install this or if you are having problems as well. 
===LINK===
http://stackoverflow.com/questions/16574189/android-studio-installation-on-windows-7-fails-no-jdk-found
===KEYWORDS===
program 
===ANSWER===
438
<html><body><p>Adding a system variable <code>JDK_HOME</code> with value <code>c:\Program Files\Java\jdk1.7.0_21\</code> worked for me. The latest Java release can be downloaded <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html">here</a>.</p><p>Additionally, make sure the variable <code>JAVA_HOME</code> is also set with the above location. <a href="http://hints.steptoinstall.com/how-to-set-java_home-environment-variable-in-windows-7-8-for-java.html">Steps are here</a>. <a href="https://www.youtube.com/watch?v=GR1mUi5HSBU">For Video</a></p></body></html>

===ID===
584e5b073e2ca51be94fee8b
===QUESTION===
custom listview adapter getView method being called multiple times, and in no coherent order
I have a custom list adapter: in the overridden 'getView' method I do a print to check what position is and whether it is a convertView or not: The output of this (when the list is first displayed, no user input as yet) AFAIK, though I couldn't find it stated explicitly, getView() is only called for visible rows. Since my app starts with four visible rows at least the position numbers cycling from 0-3 makes sense. But the rest is a mess: I did a bit of reseach, and without getting a good answer, I did notice that people were associating this issue with layout issues. So in case, here's the layout that contains the list: and the layout of each individual row: Thank you for your time 
===LINK===
http://stackoverflow.com/questions/2618272/custom-listview-adapter-getview-method-being-called-multiple-times-and-in-no-co
===KEYWORDS===
afaik 
===ANSWER===
231
<html><body><p>This is not an issue, there is absolutely no guarantee on the order in which <code>getView()</code> will be called nor how many times. In your particular case you are doing the worst thing possible with a <code>ListView</code> by giving it a <code>height=wrap_content</code>. This forces <code>ListView</code> to measure a few children out of the adapter at layout time, to know how big it should be. This is what provides <code>ListView</code> with the <code>convertViews</code> you see passed to <code>getView()</code> even before you scroll.</p></body></html>

===ID===
584e5b083e2ca51be94fee8c
===QUESTION===
How to convert number to words in java
We currently have a crude mechanism to convert numbers to words (e.g. using a few static arrays) and based on the size of the number translating that into an english text. But we are running into issues for numbers which are huge. Is there an easy to use function in any of the math libraries which I can use for this purpose? 
===LINK===
http://stackoverflow.com/questions/3911966/how-to-convert-number-to-words-in-java
===KEYWORDS===
function 
===ANSWER===
57
<html><body><p><a href="http://www.rgagnon.com/javadetails/java-0426.html">Here</a> is the code, I don't think there is any method in SE.</p><p>It basically converts number to string and parses String and associates it with the weight</p><p><strong>for example</strong></p><pre><code>1000
</code></pre><p><code>1</code> is treated as thousand position and <code>1</code> gets mapped to <code>"one"</code> and thousand because of position</p><p><br>
This is the code from the website:</br></p><p><strong>English</strong></p><pre><code>import java.text.DecimalFormat;

public class EnglishNumberToWords {

  private static final String[] tensNames = {
    "",
    " ten",
    " twenty",
    " thirty",
    " forty",
    " fifty",
    " sixty",
    " seventy",
    " eighty",
    " ninety"
  };

  private static final String[] numNames = {
    "",
    " one",
    " two",
    " three",
    " four",
    " five",
    " six",
    " seven",
    " eight",
    " nine",
    " ten",
    " eleven",
    " twelve",
    " thirteen",
    " fourteen",
    " fifteen",
    " sixteen",
    " seventeen",
    " eighteen",
    " nineteen"
  };

  private EnglishNumberToWords() {}

  private static String convertLessThanOneThousand(int number) {
    String soFar;

    if (number % 100 &lt; 20){
      soFar = numNames[number % 100];
      number /= 100;
    }
    else {
      soFar = numNames[number % 10];
      number /= 10;

      soFar = tensNames[number % 10] + soFar;
      number /= 10;
    }
    if (number == 0) return soFar;
    return numNames[number] + " hundred" + soFar;
  }


  public static String convert(long number) {
    // 0 to 999 999 999 999
    if (number == 0) { return "zero"; }

    String snumber = Long.toString(number);

    // pad with "0"
    String mask = "000000000000";
    DecimalFormat df = new DecimalFormat(mask);
    snumber = df.format(number);

    // XXXnnnnnnnnn
    int billions = Integer.parseInt(snumber.substring(0,3));
    // nnnXXXnnnnnn
    int millions  = Integer.parseInt(snumber.substring(3,6));
    // nnnnnnXXXnnn
    int hundredThousands = Integer.parseInt(snumber.substring(6,9));
    // nnnnnnnnnXXX
    int thousands = Integer.parseInt(snumber.substring(9,12));

    String tradBillions;
    switch (billions) {
    case 0:
      tradBillions = "";
      break;
    case 1 :
      tradBillions = convertLessThanOneThousand(billions)
      + " billion ";
      break;
    default :
      tradBillions = convertLessThanOneThousand(billions)
      + " billion ";
    }
    String result =  tradBillions;

    String tradMillions;
    switch (millions) {
    case 0:
      tradMillions = "";
      break;
    case 1 :
      tradMillions = convertLessThanOneThousand(millions)
         + " million ";
      break;
    default :
      tradMillions = convertLessThanOneThousand(millions)
         + " million ";
    }
    result =  result + tradMillions;

    String tradHundredThousands;
    switch (hundredThousands) {
    case 0:
      tradHundredThousands = "";
      break;
    case 1 :
      tradHundredThousands = "one thousand ";
      break;
    default :
      tradHundredThousands = convertLessThanOneThousand(hundredThousands)
         + " thousand ";
    }
    result =  result + tradHundredThousands;

    String tradThousand;
    tradThousand = convertLessThanOneThousand(thousands);
    result =  result + tradThousand;

    // remove extra spaces!
    return result.replaceAll("^\\s+", "").replaceAll("\\b\\s{2,}\\b", " ");
  }

  /**
   * testing
   * @param args
   */
  public static void main(String[] args) {
    System.out.println("*** " + EnglishNumberToWords.convert(0));
    System.out.println("*** " + EnglishNumberToWords.convert(1));
    System.out.println("*** " + EnglishNumberToWords.convert(16));
    System.out.println("*** " + EnglishNumberToWords.convert(100));
    System.out.println("*** " + EnglishNumberToWords.convert(118));
    System.out.println("*** " + EnglishNumberToWords.convert(200));
    System.out.println("*** " + EnglishNumberToWords.convert(219));
    System.out.println("*** " + EnglishNumberToWords.convert(800));
    System.out.println("*** " + EnglishNumberToWords.convert(801));
    System.out.println("*** " + EnglishNumberToWords.convert(1316));
    System.out.println("*** " + EnglishNumberToWords.convert(1000000));
    System.out.println("*** " + EnglishNumberToWords.convert(2000000));
    System.out.println("*** " + EnglishNumberToWords.convert(3000200));
    System.out.println("*** " + EnglishNumberToWords.convert(700000));
    System.out.println("*** " + EnglishNumberToWords.convert(9000000));
    System.out.println("*** " + EnglishNumberToWords.convert(9001000));
    System.out.println("*** " + EnglishNumberToWords.convert(123456789));
    System.out.println("*** " + EnglishNumberToWords.convert(2147483647));
    System.out.println("*** " + EnglishNumberToWords.convert(3000000010L));

    /*
     *** zero
     *** one
     *** sixteen
     *** one hundred
     *** one hundred eighteen
     *** two hundred
     *** two hundred nineteen
     *** eight hundred
     *** eight hundred one
     *** one thousand three hundred sixteen
     *** one million
     *** two millions
     *** three millions two hundred
     *** seven hundred thousand
     *** nine millions
     *** nine millions one thousand
     *** one hundred twenty three millions four hundred
     **      fifty six thousand seven hundred eighty nine
     *** two billion one hundred forty seven millions
     **      four hundred eighty three thousand six hundred forty seven
     *** three billion ten
     **/
  }
}
</code></pre><p><strong>Français</strong>
Quite different than the english version but french is a lot more difficult!</p><pre><code>package com.rgagnon.howto;

import java.text.*;

class FrenchNumberToWords {
  private static final String[] dizaineNames = {
    "",
    "",
    "vingt",
    "trente",
    "quarante",
    "cinquante",
    "soixante",
    "soixante",
    "quatre-vingt",
    "quatre-vingt"
  };

  private static final String[] uniteNames1 = {
    "",
    "un",
    "deux",
    "trois",
    "quatre",
    "cinq",
    "six",
    "sept",
    "huit",
    "neuf",
    "dix",
    "onze",
    "douze",
    "treize",
    "quatorze",
    "quinze",
    "seize",
    "dix-sept",
    "dix-huit",
    "dix-neuf"
  };

  private static final String[] uniteNames2 = {
    "",
    "",
    "deux",
    "trois",
    "quatre",
    "cinq",
    "six",
    "sept",
    "huit",
    "neuf",
    "dix"
  };

  private FrenchNumberToWords() {}

  private static String convertZeroToHundred(int number) {

    int laDizaine = number / 10;
    int lUnite = number % 10;
    String resultat = "";

    switch (laDizaine) {
    case 1 :
    case 7 :
    case 9 :
      lUnite = lUnite + 10;
      break;
    default:
    }

    // séparateur "-" "et"  ""
    String laLiaison = "";
    if (laDizaine &gt; 1) {
      laLiaison = "-";
    }
    // cas particuliers
    switch (lUnite) {
    case 0:
      laLiaison = "";
      break;
    case 1 :
      if (laDizaine == 8) {
        laLiaison = "-";
      }
      else {
        laLiaison = " et ";
      }
      break;
    case 11 :
      if (laDizaine==7) {
        laLiaison = " et ";
      }
      break;
    default:
    }

    // dizaines en lettres
    switch (laDizaine) {
    case 0:
      resultat = uniteNames1[lUnite];
      break;
    case 8 :
      if (lUnite == 0) {
        resultat = dizaineNames[laDizaine];
      }
      else {
        resultat = dizaineNames[laDizaine]
                                + laLiaison + uniteNames1[lUnite];
      }
      break;
    default :
      resultat = dizaineNames[laDizaine]
                              + laLiaison + uniteNames1[lUnite];
    }
    return resultat;
  }

  private static String convertLessThanOneThousand(int number) {

    int lesCentaines = number / 100;
    int leReste = number % 100;
    String sReste = convertZeroToHundred(leReste);

    String resultat;
    switch (lesCentaines) {
    case 0:
      resultat = sReste;
      break;
    case 1 :
      if (leReste &gt; 0) {
        resultat = "cent " + sReste;
      }
      else {
        resultat = "cent";
      }
      break;
    default :
      if (leReste &gt; 0) {
        resultat = uniteNames2[lesCentaines] + " cent " + sReste;
      }
      else {
        resultat = uniteNames2[lesCentaines] + " cents";
      }
    }
    return resultat;
  }

  public static String convert(long number) {
    // 0 à 999 999 999 999
    if (number == 0) { return "zéro"; }

    String snumber = Long.toString(number);

    // pad des "0"
    String mask = "000000000000";
    DecimalFormat df = new DecimalFormat(mask);
    snumber = df.format(number);

    // XXXnnnnnnnnn
    int lesMilliards = Integer.parseInt(snumber.substring(0,3));
    // nnnXXXnnnnnn
    int lesMillions  = Integer.parseInt(snumber.substring(3,6));
    // nnnnnnXXXnnn
    int lesCentMille = Integer.parseInt(snumber.substring(6,9));
    // nnnnnnnnnXXX
    int lesMille = Integer.parseInt(snumber.substring(9,12));

    String tradMilliards;
    switch (lesMilliards) {
    case 0:
      tradMilliards = "";
      break;
    case 1 :
      tradMilliards = convertLessThanOneThousand(lesMilliards)
         + " milliard ";
      break;
    default :
      tradMilliards = convertLessThanOneThousand(lesMilliards)
         + " milliards ";
    }
    String resultat =  tradMilliards;

    String tradMillions;
    switch (lesMillions) {
    case 0:
      tradMillions = "";
      break;
    case 1 :
      tradMillions = convertLessThanOneThousand(lesMillions)
         + " million ";
      break;
    default :
      tradMillions = convertLessThanOneThousand(lesMillions)
         + " millions ";
    }
    resultat =  resultat + tradMillions;

    String tradCentMille;
    switch (lesCentMille) {
    case 0:
      tradCentMille = "";
      break;
    case 1 :
      tradCentMille = "mille ";
      break;
    default :
      tradCentMille = convertLessThanOneThousand(lesCentMille)
         + " mille ";
    }
    resultat =  resultat + tradCentMille;

    String tradMille;
    tradMille = convertLessThanOneThousand(lesMille);
    resultat =  resultat + tradMille;

    return resultat;
  }

  public static void main(String[] args) {
    System.out.println("*** " + FrenchNumberToWords.convert(0));
    System.out.println("*** " + FrenchNumberToWords.convert(9));
    System.out.println("*** " + FrenchNumberToWords.convert(19));
    System.out.println("*** " + FrenchNumberToWords.convert(21));
    System.out.println("*** " + FrenchNumberToWords.convert(28));
    System.out.println("*** " + FrenchNumberToWords.convert(71));
    System.out.println("*** " + FrenchNumberToWords.convert(72));
    System.out.println("*** " + FrenchNumberToWords.convert(80));
    System.out.println("*** " + FrenchNumberToWords.convert(81));
    System.out.println("*** " + FrenchNumberToWords.convert(89));
    System.out.println("*** " + FrenchNumberToWords.convert(90));
    System.out.println("*** " + FrenchNumberToWords.convert(91));
    System.out.println("*** " + FrenchNumberToWords.convert(97));
    System.out.println("*** " + FrenchNumberToWords.convert(100));
    System.out.println("*** " + FrenchNumberToWords.convert(101));
    System.out.println("*** " + FrenchNumberToWords.convert(110));
    System.out.println("*** " + FrenchNumberToWords.convert(120));
    System.out.println("*** " + FrenchNumberToWords.convert(200));
    System.out.println("*** " + FrenchNumberToWords.convert(201));
    System.out.println("*** " + FrenchNumberToWords.convert(232));
    System.out.println("*** " + FrenchNumberToWords.convert(999));
    System.out.println("*** " + FrenchNumberToWords.convert(1000));
    System.out.println("*** " + FrenchNumberToWords.convert(1001));
    System.out.println("*** " + FrenchNumberToWords.convert(10000));
    System.out.println("*** " + FrenchNumberToWords.convert(10001));
    System.out.println("*** " + FrenchNumberToWords.convert(100000));
    System.out.println("*** " + FrenchNumberToWords.convert(2000000));
    System.out.println("*** " + FrenchNumberToWords.convert(3000000000L));
    System.out.println("*** " + FrenchNumberToWords.convert(2147483647));
    /*
     *** OUTPUT
     *** zéro
     *** neuf
     *** dix-neuf
     *** vingt et un
     *** vingt-huit
     *** soixante et onze
     *** soixante-douze
     *** quatre-vingt
     *** quatre-vingt-un
     *** quatre-vingt-neuf
     *** quatre-vingt-dix
     *** quatre-vingt-onze
     *** quatre-vingt-dix-sept
     *** cent
     *** cent un
     *** cent dix
     *** cent vingt
     *** deux cents
     *** deux cent un
     *** deux cent trente-deux
     *** neuf cent quatre-vingt-dix-neuf
     *** mille
     *** mille un
     *** dix mille
     *** dix mille un
     *** cent mille
     *** deux millions
     *** trois milliards
     *** deux milliards cent quarante-sept millions
     **          quatre cent quatre-vingt-trois mille six cent quarante-sept
     */
  }
}
</code></pre><p>You can handle "dollar and cent" conversion by calling the "convert" method two times.</p><pre><code>String phrase = "12345.67" ;
Float num = new Float( phrase ) ;
int dollars = (int)Math.floor( num ) ;
int cent = (int)Math.floor( ( num - dollars ) * 100.0f ) ;

String s = "$ " + EnglishNumberToWords.convert( dollars ) + " and "
           + EnglishNumberToWords.convert( cent ) + " cents" ;
</code></pre><p>Another way to use a built-in function of your DBMS (if available).
For <strong>Oracle</strong></p><pre><code>SQL&gt; select to_char(to_date(873,'J'), 'JSP') as converted_form from dual;

CONVERTED_FORM
---------------------------
EIGHT HUNDRED SEVENTY-THREE

SQL&gt;
'JSP' means :
J : the Julian format.
SP : spells the word for the number passed to to_date
</code></pre></body></html>

===ID===
584e5b0a3e2ca51be94fee8d
===QUESTION===
Why can't I do assignment outside a method?
If I try to assign a value to a variable in a class, but outside a method I get an error. but, if I initialize it during the creation, it works. Inside a method, it works in both cases. 
===LINK===
http://stackoverflow.com/questions/12062481/why-cant-i-do-assignment-outside-a-method
===KEYWORDS===
assignment 
===ANSWER===
15
<html><body><p>you need to do</p><pre><code>class one{
 Integer b;
 {
    b=Integer.valueOf(2);
 }
}
</code></pre><p>as statements have to appear in a block of code.</p><p>In this case, the block is an initailiser block which is added to every constructor (or the default constructor in this case) It is run after any call to <code>super()</code> and before the main block of code in any constructor.</p><p>BTW: You can have a static initialiser block with <code>static { }</code> which is called when the class is initialised.</p><p>e.g.</p><pre><code>class one{
 static final Integer b;

 static {
    b=Integer.valueOf(2);
 }
}
</code></pre></body></html>

===ID===
584e5b0b3e2ca51be94fee8e
===QUESTION===
Https Connection Android
I am doing a https post and I'm getting an exception of ssl exception Not trusted server certificate. If i do normal http it is working perfectly fine. Do I have to accept the server certificate somehow? 
===LINK===
http://stackoverflow.com/questions/995514/https-connection-android
===KEYWORDS===
exception 
===ANSWER===
45
<html><body><p>I'm making a guess, but if you want an actual handshake to occur, you have to let android know of your certificate.  If you want to just accept no matter what, then use this pseudo-code to get what you need with the Apache HTTP Client:</p><pre><code>SchemeRegistry schemeRegistry = new SchemeRegistry ();

schemeRegistry.register (new Scheme ("http",
    PlainSocketFactory.getSocketFactory (), 80));
schemeRegistry.register (new Scheme ("https",
    new CustomSSLSocketFactory (), 443));

ThreadSafeClientConnManager cm = new ThreadSafeClientConnManager (
    params, schemeRegistry);


return new DefaultHttpClient (cm, params);
</code></pre><p>CustomSSLSocketFactory:</p><pre><code>public class CustomSSLSocketFactory extends org.apache.http.conn.ssl.SSLSocketFactory
{
private SSLSocketFactory FACTORY = HttpsURLConnection.getDefaultSSLSocketFactory ();

public CustomSSLSocketFactory ()
    {
    super(null);
    try
        {
        SSLContext context = SSLContext.getInstance ("TLS");
        TrustManager[] tm = new TrustManager[] { new FullX509TrustManager () };
        context.init (null, tm, new SecureRandom ());

        FACTORY = context.getSocketFactory ();
        }
    catch (Exception e)
        {
        e.printStackTrace();
        }
    }

public Socket createSocket() throws IOException
{
    return FACTORY.createSocket();
}

 // TODO: add other methods like createSocket() and getDefaultCipherSuites().
 // Hint: they all just make a call to member FACTORY 
}
</code></pre><p>FullX509TrustManager is a class that implements javax.net.ssl.X509TrustManager, yet none of the methods actually perform any work, get a sample <a href="http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d4e537" rel="nofollow noreferrer">here</a>.</p><p>Good Luck!</p></body></html>

===ID===
584e5b0c3e2ca51be94fee8f
===QUESTION===
Declaring variables inside or outside of a loop
Why does the following work fine? But this one is said to be dangerous/incorrect: Is it necessary to declare variables outside the loop? 
===LINK===
http://stackoverflow.com/questions/8803674/declaring-variables-inside-or-outside-of-a-loop
===KEYWORDS===
loop 
===ANSWER===
203
<html><body><p>In your example I presume <code>str</code> is <em>not</em> used outside of the <code>while</code> loop, otherwise you would not be asking the question, because declaring it inside the <code>while</code> loop would not be an option, since it would not compile.</p><p>So, since <code>str</code> is <em>not</em> used outside the loop, the smallest possible scope for <code>str</code> is <em>within</em> the while loop.</p><p>So, the answer is <em>emphatically</em> that <code>str</code> absolutely ought to be declared within the while loop. No ifs, no ands, no buts.</p><p>The only case where this rule might be violated is if for some reason it is of vital importance that every clock cycle must be squeezed out of the code, in which case you might want to consider instantiating something in an outer scope and reusing it instead of re-instantiating it on every iteration of an inner scope. However, this does not apply to your example, due to the immutability of strings in java: a new instance of str will always be created in the beginning of your loop and it will have to be thrown away at the end of it, so there is no possibility to optimize there.</p><p><strong>EDIT:</strong> (this is something that I wrote in a comment below, but I think it is worth making part of the answer.)</p><p>In any case, the right way to do things is to write all your code properly, establish a performance requirement for your product, measure your final product against this requirement, and if it does not satisfy it, then go optimize things. And what usually ends up happening is that you find ways to provide some nice and formal algorithmic optimizations in just a couple of places which make our program meet its performance requirements instead of having to go all over your entire code base and tweak and hack things in order to squeeze clock cycles here and there.</p></body></html>

===ID===
584e5b0d3e2ca51be94fee90
===QUESTION===
How are SSL certificate server names resolved/Can I add alternative names using keytool?
These may be phrased as separate questions for clarity, but they are all related to the same issue. How are SSL certificate server names resolved? Why do browsers seem to use the CN field of the certificate, but Java's mechanism seem to only look at "subject alternative names" only? Is it possible to add alternative names to a SSL certificate using keytool?
If not, is using openSSL instead a good option?? Just a little background:  I need to get a main server to communicate with several servers using HTTPS. Obviously, we don't want to buy SSL certificates for every server (there could be many), so I want to use self-signed certificates (I have been using keytool to generate them). After I add the certificates as trusted in the OS, the browsers (IE and Chrome) happily accept the connection as trusted. However, even after adding the certificates to Java's cacerts, Java still won't accept the connection as trusted and throws the following Exception: Caused by: java.security.cert.CertificateException: No subject alternative names
   present
          at sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:142)
          at sun.security.util.HostnameChecker.match(HostnameChecker.java:75)
          at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkIdentity(X509T
  rustManagerImpl.java:264)
          at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(
  X509TrustManagerImpl.java:250)
          at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(Clien
  tHandshaker.java:1185)
          ... 14 more I found that I can make Java trust the certificate implementing my own HostNameVerifier, which I copied from here:  com.sun.jbi.internal.security.https.DefaultHostnameVerifier  just to test (by the way, the hostname passed as an argument to the HostnameVerifier is correct, so I think it should have been accepted). I have been using the certificate field CN as the hostname (usually the IP address). Can anybody please tell me if I am doing something wrong and point me in the right direction?  
===LINK===
http://stackoverflow.com/questions/8443081/how-are-ssl-certificate-server-names-resolved-can-i-add-alternative-names-using
===KEYWORDS===
checkservertrusted 
===ANSWER===
67
<html><body><p>How host name verification should be done is defined in <a href="http://tools.ietf.org/html/rfc6125">RFC 6125</a>, which is quite recent and generalises the practice to all protocols, and replaces <a href="http://tools.ietf.org/html/rfc2818">RFC 2818</a>, which was specific to HTTPS. (I'm not even sure Java 7 uses RFC 6125, which might be too recent for this.)</p><p>From <a href="http://tools.ietf.org/html/rfc2818#section-3.1">RFC 2818 (Section 3.1)</a>:</p><p>If a subjectAltName extension of type dNSName is present, that MUST
  be used as the identity. Otherwise, the (most specific) Common Name 
  field in the Subject field of the certificate MUST be used. Although 
  the use of the Common Name is existing practice, it is deprecated and
  Certification Authorities are encouraged to use the dNSName instead.</p><p>[...]</p><p>In some cases, the URI is specified as an IP address rather than a
  hostname. In this case, the iPAddress subjectAltName must be present 
  in the certificate and must exactly match the IP in the URI.</p><p>Essentially, the specific problem you have comes from the fact that you're using IP addresses in your CN and not a host name. Some browsers might work because not all tools follow this specification strictly, in particular because "most specific" in RFC 2818 isn't clearly defined (see discussions in RFC 6215).</p><p>If you're using <code>keytool</code>, <a href="http://docs.oracle.com/javase/7/docs/technotes/tools/solaris/keytool.html">as of Java 7, <code>keytool</code></a> has an option to include a Subject Alternative Name (see the table in the documentation for <code>-ext</code>): you could use <code>-ext san=dns:www.example.com</code> or <code>-ext san=ip:10.0.0.1</code>.</p><p><strong>EDIT:</strong></p><p>You can request a SAN in OpenSSL by changing <code>openssl.cnf</code> (it will pick the copy in the current directory if you don't want to edit the global configuration, as far as I remember, or you can choose an explicit location using the <code>OPENSSL_CONF</code> environment variable).</p><p>Set the following options (find the appropriate sections within brackets first):</p><pre><code>[req]
req_extensions = v3_req

[ v3_req ]
subjectAltName=IP:10.0.0.1
# or subjectAltName=DNS:www.example.com
</code></pre><p>There's also a nice trick to use an environment variable for this (rather in than fixing it in a configuration file) here: <a href="http://www.crsr.net/Notes/SSL.html">http://www.crsr.net/Notes/SSL.html</a></p></body></html>

===ID===
584e5b0e3e2ca51be94fee91
===QUESTION===
Java Reflection: How to get the name of a variable?
Using Java Reflection, is it possible to get the name of a local variable?  For example, if I have this: is it possible to implement a method that can find the names of those variables, like so: EDIT: This question is different from  Is there a way in Java to find the name of the variable that was passed to a function?  in that it more purely asks the question about whether one can use reflection to determine the name of a local variable, whereas the other question (including the accepted answer) is more focused on testing values of variables. 
===LINK===
http://stackoverflow.com/questions/744226/java-reflection-how-to-get-the-name-of-a-variable
===KEYWORDS===
function 
===ANSWER===
50
<html><body><p>As of Java 8, some local variable name information is available through reflection. See the <em>"Update"</em> section below.</p><p>Complete information is often stored in class files. One compile-time optimization is to remove it, saving space (and providing some obsfuscation). However, when it is is present, each method has a local variable table attribute that lists the type and name of local variables, and the range of instructions where they are in scope.</p><p>Perhaps a byte-code engineering library like <a href="http://asm.ow2.org/" rel="nofollow noreferrer">ASM</a> would allow you to inspect this information at runtime. The only reasonable place I can think of for needing this information is in a development tool, and so byte-code engineering is likely to be useful for other purposes too.</p><p><em>Update:</em> Limited support for this was <a href="http://openjdk.java.net/jeps/118" rel="nofollow noreferrer">added to Java 8.</a> Parameter (a special class of local variable) names are now available via reflection. Among other purposes, this can help to replace <code>@ParameterName</code> annotations used by dependency injection containers.</p></body></html>

===ID===
584e5b0e3e2ca51be94fee92
===QUESTION===
How do I fix a NoSuchMethodError?
I'm getting a  NoSuchMethodError  error when running my Java program.  What's wrong and how do I fix it? 
===LINK===
http://stackoverflow.com/questions/35186/how-do-i-fix-a-nosuchmethoderror
===KEYWORDS===
running 
===ANSWER===
109
<html><body><p>Without any more information it is difficult to pinpoint the problem, but the root cause is that you most likely have compiled a class against a different version of the class that is missing a method, than the one you are using when running it.</p><p>Look at the stack trace ... If the exception appears when calling a method on an object in a library, you are most likely using separate versions of the library when compiling and running. Make sure you have the right version both places.</p><p>If the exception appears when calling a method on objects instantiated by classes <em>you</em> made, then your build process seems to be faulty. Make sure the class files that you are actually running are updated when you compile.</p></body></html>

===ID===
584e5b0f3e2ca51be94fee93
===QUESTION===
Why is the result of 1/3 == 0?
I was writing this code: The result is 0.  Why is this, and how do I solve this problem? 
===LINK===
http://stackoverflow.com/questions/4685450/why-is-the-result-of-1-3-0
===KEYWORDS===
problem 
===ANSWER===
45
<html><body><p>The two operands (1 and 3) are integers, therefore integer arithmetic (division here) is used. Declaring the result variable as double just causes an implicit conversion to occur <em>after division</em>.</p><p>Integer division of course returns the true result of division rounded <em>down</em> to the nearest integer. The result of <code>0.333...</code> is thus rounded down to 0 here. (Note that the processor doesn't actually do any rounding, but you can think of it that way still.)</p><p>Also, note that if <em>both</em> operands (numbers) are given as floats; 3.0 and 1.0, or even just the <em>first</em>, then floating-point arithmetic is used, giving you <code>0.333...</code>.</p></body></html>

===ID===
584e5b103e2ca51be94fee94
===QUESTION===
Swing animation running extremely slow
I have a problem with my current animation that I'm running using Java Swing. It is a discrete event simulation and the text based simulation is working fine, I'm just having problems connecting the simulating to GUI output. For this example I will have 10 cars to be simulated. The cars are represented by  JPanels  which I will elaborate on in a few moments. So consider, the event process_car_arrival. Every time this event is scheduled for execution, I'm adding a  Car  object to an  ArrayList  called  cars  in my  Model  class. The  Car  class has the following relevant attributes: In addition it has the following method  move()  : This is all well. so in theory the car traverses along a straight road from east to west as I just invoke the  move()  method for each car I want to move. Returning to the process_car_arrival event. After adding a Car object it invokes a method  addCarToEast()  in the  View  class. This adds a JPanel at the start of the road going from east to west. Going to the  View  class now I have a ** separate** thread which does the following ( the run() method) : The above does move the car from east to west smoothly at first. But after there is 3-4 cars moving it just ends up being EXTREMELY slow and when I have 10 cars moving it just ends up moving very little. Just to clear up, at the moment in the  Model  class there's an  ArrayList  of  Car  objects, and in the  View  class there is also an  ArrayList  of  JPanel  objects representing the cars. I'm trying to match the  Car  objects to the  JPanels , but I'm obviously doing a cra**y job.  I suspect that I'm doing something insanely inefficient but I don't know what. I thought initially maybe it's accessing the  ArrayList  so much which I guess would make it really slow. Any pointers to what I can change to make it run smoothly? 
===LINK===
http://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow
===KEYWORDS===
moments 
===ANSWER===
11
<html><body><p>Based on this previous <a href="http://stackoverflow.com/a/5617957/230513">answer</a>, the example below simulates a fleet of three cabs moving randomly on a rectangular grid. A <code>javax.swing.Timer</code> drives the animation at 5 Hz. The model and view are tightly coupled in <code>CabPanel</code>, but the animation may provide some useful insights. In particular, you might increase the number of cabs or lower the timer delay.</p><p><img alt="image" src="https://i.stack.imgur.com/OuBzD.png"/></p><pre><code>import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.GridLayout;
import java.awt.Point;
import java.awt.RenderingHints;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.text.DecimalFormat;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.Timer;

/**
 * @see http://stackoverflow.com/a/14887457/230513
 * @see http://stackoverflow.com/questions/5617027
 */

public class FleetPanel extends JPanel {

    private static final Random random = new Random();
    private final MapPanel map = new MapPanel();
    private final JPanel control = new JPanel();
    private final List&lt;CabPanel&gt; fleet = new ArrayList&lt;CabPanel&gt;();
    private final Timer timer = new Timer(200, null);

    public FleetPanel() {
        super(new BorderLayout());
        fleet.add(new CabPanel("Cab #1", Hue.Cyan));
        fleet.add(new CabPanel("Cab #2", Hue.Magenta));
        fleet.add(new CabPanel("Cab #3", Hue.Yellow));
        control.setLayout(new GridLayout(0, 1));
        for (CabPanel cp : fleet) {
            control.add(cp);
            timer.addActionListener(cp.listener);
        }
        this.add(map, BorderLayout.CENTER);
        this.add(control, BorderLayout.SOUTH);
    }

    public void start() {
        timer.start();
    }

    private class CabPanel extends JPanel {

        private static final String format = "000000";
        private final DecimalFormat df = new DecimalFormat(format);
        private JLabel name = new JLabel("", JLabel.CENTER);
        private Point point = new Point();
        private JLabel position = new JLabel(toString(point), JLabel.CENTER);
        private int blocks;
        private JLabel odometer = new JLabel(df.format(0), JLabel.CENTER);
        private final JComboBox colorBox = new JComboBox();
        private final JButton reset = new JButton("Reset");
        private final ActionListener listener = new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                int ds = random.nextInt(3) - 1;
                if (random.nextBoolean()) {
                    point.x += ds;
                } else {
                    point.y += ds;
                }
                blocks += Math.abs(ds);
                update();
            }
        };

        public CabPanel(String s, Hue hue) {
            super(new GridLayout(1, 0));
            name.setText(s);
            this.setBackground(hue.getColor());
            this.add(map, BorderLayout.CENTER);
            for (Hue h : Hue.values()) {
                colorBox.addItem(h);
            }
            colorBox.setSelectedIndex(hue.ordinal());
            colorBox.addActionListener(new ActionListener() {

                @Override
                public void actionPerformed(ActionEvent e) {
                    Hue h = (Hue) colorBox.getSelectedItem();
                    CabPanel.this.setBackground(h.getColor());
                    update();
                }
            });
            reset.addActionListener(new ActionListener() {

                @Override
                public void actionPerformed(ActionEvent e) {
                    point.setLocation(0, 0);
                    blocks = 0;
                    update();
                }
            });
            this.add(name);
            this.add(odometer);
            this.add(position);
            this.add(colorBox);
            this.add(reset);
        }

        private void update() {
            position.setText(CabPanel.this.toString(point));
            odometer.setText(df.format(blocks));
            map.repaint();
        }

        private String toString(Point p) {
            StringBuilder sb = new StringBuilder();
            sb.append(Math.abs(p.x));
            sb.append(p.x &lt; 0 ? " W" : " E");
            sb.append(", ");
            sb.append(Math.abs(p.y));
            sb.append(p.y &lt; 0 ? " N" : " S");
            return sb.toString();
        }
    }

    private class MapPanel extends JPanel {

        private static final int SIZE = 16;

        public MapPanel() {
            this.setPreferredSize(new Dimension(32 * SIZE, 32 * SIZE));
            this.setBackground(Color.lightGray);
        }

        @Override
        protected void paintComponent(Graphics g) {
            super.paintComponent(g);
            Graphics2D g2d = (Graphics2D) g;
            g2d.setRenderingHint(
                RenderingHints.KEY_ANTIALIASING,
                RenderingHints.VALUE_ANTIALIAS_ON);
            int w = this.getWidth();
            int h = this.getHeight();
            g2d.setColor(Color.gray);
            for (int col = SIZE; col &lt;= w; col += SIZE) {
                g2d.drawLine(col, 0, col, h);
            }
            for (int row = SIZE; row &lt;= h; row += SIZE) {
                g2d.drawLine(0, row, w, row);
            }

            for (CabPanel cp : fleet) {
                Point p = cp.point;
                int x = SIZE * (p.x + w / 2 / SIZE) - SIZE / 2;
                int y = SIZE * (p.y + h / 2 / SIZE) - SIZE / 2;
                g2d.setColor(cp.getBackground());
                g2d.fillOval(x, y, SIZE, SIZE);
            }
        }
    }

    public enum Hue {

        Cyan(Color.cyan), Magenta(Color.magenta), Yellow(Color.yellow),
        Red(Color.red), Green(Color.green), Blue(Color.blue),
        Orange(Color.orange), Pink(Color.pink);
        private final Color color;

        private Hue(Color color) {
            this.color = color;
        }

        public Color getColor() {
            return color;
        }
    }

    private static void display() {
        JFrame f = new JFrame("Dispatch");
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        FleetPanel fp = new FleetPanel();
        f.add(fp);
        f.pack();
        f.setLocationRelativeTo(null);
        f.setVisible(true);
        fp.start();
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                display();
            }
        });
    }
}
</code></pre></body></html>

===ID===
584e5b103e2ca51be94fee95
===QUESTION===
Integer with leading zeroes
When I write  System.out.println(0123);  I get  83  however  System.out.println((int)0123F);  prints  123 . Why does it work that way? 
===LINK===
http://stackoverflow.com/questions/565634/integer-with-leading-zeroes
===KEYWORDS===
println 
===ANSWER===
48
<html><body><p>0123 means octal 123, that is 1*8*8 + 2*8 + 3, which equals 83.
For some reason, octal floats are not available.</p><p>Creating 0123 means the integer 83.
Creating 0123F means the floating 123. When converted back to integer, it remains 123.</p><p>Just don't use the leading 0 if you don't mean octal. After all, they are not exactly useful(and programmers who do know about octal numbers will get confused when they see 09F).</p></body></html>

===ID===
584e5b113e2ca51be94fee96
===QUESTION===
How do I convert from int to String?
I'm working on a project where all conversions from  int  to  String  are done like this: I'm not familiar with Java. Is this usual practice or is something wrong, as I suppose? 
===LINK===
http://stackoverflow.com/questions/4105331/how-do-i-convert-from-int-to-string
===KEYWORDS===
conversions 
===ANSWER===
728
<html><body><p>Normal ways would be <code>Integer.toString(i)</code> or <code>String.valueOf(i)</code>.</p><p>The concatenation will work, but it is unconventional and could be a bad smell as it suggests the author doesn't know about the two methods above (what else might they not know?).</p><p>Java has special support for the + operator when used with strings (see <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html">the documentation</a>) which translates the code you posted into:</p><pre><code>StringBuilder sb = new StringBuilder();
sb.append("");
sb.append(i);
String strI = sb.toString();
</code></pre><p>at compile-time. It's slightly less efficient (<code>sb.append()</code> ends up calling <code>Integer.getChars()</code>, which is what <code>Integer.toString()</code> would've done anyway), but it works.</p><p>To answer Grodriguez's comment: ** No, the compiler <em>doesn't</em> optimise out the empty string in this case - look:</p><pre><code>simon@lucifer:~$ cat TestClass.java
public class TestClass {
  public static void main(String[] args) {
    int i = 5;
    String strI = "" + i;
  }
}
simon@lucifer:~$ javac TestClass.java &amp;&amp; javap -c TestClass
Compiled from "TestClass.java"
public class TestClass extends java.lang.Object{
public TestClass();
  Code:
   0:    aload_0
   1:    invokespecial    #1; //Method java/lang/Object."&lt;init&gt;":()V
   4:    return

public static void main(java.lang.String[]);
  Code:
   0:    iconst_5
   1:    istore_1
</code></pre><p>Initialise the StringBuilder:</p><pre><code>   2:    new    #2; //class java/lang/StringBuilder
   5:    dup
   6:    invokespecial    #3; //Method java/lang/StringBuilder."&lt;init&gt;":()V
</code></pre><p>Append the empty string:</p><pre><code>   9:    ldc    #4; //String
   11:    invokevirtual    #5; //Method java/lang/StringBuilder.append:
(Ljava/lang/String;)Ljava/lang/StringBuilder;
</code></pre><p>Append the integer:</p><pre><code>   14:    iload_1
   15:    invokevirtual    #6; //Method java/lang/StringBuilder.append:
(I)Ljava/lang/StringBuilder;
</code></pre><p>Extract the final string:</p><pre><code>   18:    invokevirtual    #7; //Method java/lang/StringBuilder.toString:
()Ljava/lang/String;
   21:    astore_2
   22:    return
}
</code></pre><p>There's <a href="https://bugs.openjdk.java.net/browse/JDK-8085796">a proposal</a> and ongoing work to change this behaviour, targetted for JDK 9.</p></body></html>

===ID===
584e5b123e2ca51be94fee97
===QUESTION===
Print query string in Hibernate with parameter values
Is it possible in Hibernate to print generated SQL queries with real values instead of question marks? How would you suggest to print queries with real values if it is not possible with Hibernate API? 
===LINK===
http://stackoverflow.com/questions/1710476/print-query-string-in-hibernate-with-parameter-values
===KEYWORDS===
suggest 
===ANSWER===
262
<html><body><p>You need to enable <a href="http://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html#configuration-logging" rel="nofollow noreferrer">logging</a> for the the following categories at <code>debug</code> and <code>trace</code> levels respectively:</p><li><code>org.hibernate.SQL</code>   - Log all SQL DML statements as they are executed</li><li><code>org.hibernate.type</code> - Log all JDBC parameters</li><p>So a log4j configuration could look like:</p><pre><code># logs the SQL statements
log4j.logger.org.hibernate.SQL=debug 

# Logs the JDBC parameters passed to a query
log4j.logger.org.hibernate.type=trace 
</code></pre><p>The first is equivalent to <code>hibernate.show_sql=true</code> legacy <a href="http://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html#configuration-optional" rel="nofollow noreferrer">property</a>, the second <strong>prints the bound parameters among other things.</strong></p><p>Another solution (non hibernate based) would be to use a JDBC proxy driver like <a href="https://github.com/p6spy/p6spy" rel="nofollow noreferrer">P6Spy</a>.</p></body></html>

===ID===
584e5b123e2ca51be94fee98
===QUESTION===
Java Hashmap: How to get key from value?
If I have the value  "foo" , and a  HashMap<String> ftw  for which  ftw.containsValue("foo")  returns  true , how can I get the corresponding key? Do I have to loop through the hashmap? What is the best way to do that? 
===LINK===
http://stackoverflow.com/questions/1383797/java-hashmap-how-to-get-key-from-value
===KEYWORDS===
hashmap 
===ANSWER===
152
<html><body><p>If you choose to use the <a href="http://commons.apache.org/collections/" rel="nofollow noreferrer">Commons Collections library</a> instead of the standard Java Collections API, you can achieve this with ease.</p><p>The <a href="http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/BidiMap.html" rel="nofollow noreferrer">BidiMap</a> interface in the Collections library is a bi-directional map, allowing you to map a key to a value (like normal maps), and also to map a value to a key, thus allowing you to perform lookups in both directions. Obtaining a key for a value is supported by the <a href="http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/BidiMap.html#getKey%28java.lang.Object%29" rel="nofollow noreferrer">getKey() method</a>.</p><p>There is a caveat though, bidi maps cannot have multiple values mapped to keys, and hence unless your data set has 1:1 mappings between keys and values, you cannot use bidimaps.</p><p><strong>Update</strong></p><p>If you want to rely on the Java Collections API, you will have to ensure the 1:1 relationship between keys and values at the time of inserting the value into the map. This is easier said than done.</p><p>Once you can ensure that, use the <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html#entrySet()" rel="nofollow noreferrer">entrySet() method</a> to obtain the set of entries (mappings) in the Map. Once you have obtained the set whose type is <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html" rel="nofollow noreferrer">Map.Entry</a>, iterate through the entries, comparing the <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getValue()" rel="nofollow noreferrer">stored value</a> against the expected, and obtain the <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getKey()" rel="nofollow noreferrer">corresponding key</a>.</p><p><strong>Update #2</strong></p><p>Support for bidi maps with generics can be found in <a href="https://github.com/google/guava" rel="nofollow noreferrer">Google Guava</a> and the refactored <a href="http://sourceforge.net/projects/collections/" rel="nofollow noreferrer">Commons-Collections</a> libraries (the latter is not an Apache project). Thanks to Esko for pointing out the missing generic support in Apache Commons Collections. Using collections with generics makes more maintainable code.</p></body></html>

===ID===
584e5b133e2ca51be94fee99
===QUESTION===
Why does this() and super() have to be the first statement in a constructor?
Java requires that if you call this() or super() in a constructor, it must be the first statement. Why? For example: The Sun compiler says "call to super must be first statement in constructor". The Eclipse compiler says "Constructor call must be the first statement in a constructor". However, you can get around this by re-arranging the code a little bit: Here is another example: So, it is  not stopping you from executing logic  before the call to super. It is just stopping you from executing logic that you can't fit into a single expression. There are similar rules for calling  this() . The compiler says "call to this must be first statement in constructor". Why does the compiler have these restrictions? Can you give a code example where, if the compiler did not have this restriction, something bad would happen? 
===LINK===
http://stackoverflow.com/questions/1168345/why-does-this-and-super-have-to-be-the-first-statement-in-a-constructor
===KEYWORDS===
restrictions 
===ANSWER===
129
<html><body><p>The parent class' <code>constructor</code> needs to be called before the subclass' <code>constructor</code>. This will ensure that if you call any methods on the parent class in your constructor, the parent class has already been set up correctly.</p><p>What you are trying to do, pass args to the super constructor is perfectly legal, you just need to construct those args inline as you are doing, or pass them in to your constructor and then pass them to <code>super</code>:</p><pre><code>public MySubClassB extends MyClass {
        public MySubClassB(Object[] myArray) {
                super(myArray);
        }
}
</code></pre><p>If the compiler did not enforce this you could do this:</p><pre><code>public MySubClassB extends MyClass {
        public MySubClassB(Object[] myArray) {
                someMethodOnSuper(); //ERROR super not yet constructed
                super(myArray);
        }
}
</code></pre><p>In cases where a <code>parent</code> class has a default constructor the call to super is inserted for you automatically by the <code>compiler</code>. Since every class in Java inherits from <code>Object</code>, objects constructor must be called somehow and it must be executed first. The automatic insertion of super() by the compiler allows this. Enforcing super to appear first, enforces that constructor bodies are executed in the correct order which would be: Object -&gt; Parent -&gt; Child -&gt; ChildOfChild -&gt; SoOnSoForth</p></body></html>

===ID===
584e5b143e2ca51be94fee9a
===QUESTION===
How to use wait and notify in Java?
I have 2 matrices and I need to multiply them and then print the results of each cell. As soon as one cell is ready I need to print it, but for example I need to print the [0][0] cell before cell [2][0] even if the result of [2][0] is ready first. So I need to print it by order.
So my idea is to make the printer thread wait until the  multiplyThread  notifies it that the correct cell is ready to be printed and then the  printerThread  will print the cell and go back to waiting and so on.. So I have this thread that does the multiplication: Thread that prints the result of each cell: Now it throws me these exceptions: line 49 in  multiplyThread  is the "notify()"..I think I need to use the synchronized differently but I am not sure how. If anyone can help this code to work I will really appreciate it. 
===LINK===
http://stackoverflow.com/questions/886722/how-to-use-wait-and-notify-in-java
===KEYWORDS===
printerthread 
===ANSWER===
190
<html><body><p>To be able to call <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html#notify()" rel="nofollow noreferrer">notify()</a> you need to synchronize on the same object.</p><pre><code>synchronized (someObject) {
    someObject.wait();
}

/* different thread / object */
synchronized (someObject) {
    someObject.notify();
}
</code></pre></body></html>

===ID===
584e5b163e2ca51be94fee9b
===QUESTION===
Splitting a Java String by the pipe symbol using split(“|”)
The Java official documentation states: The string  "boo:and:foo" , for example, yields the following results with these expressions 
Regex   Result
:    And that's the way I need it to work. However, if I run this: it prints: Which is far from what I would expect: Why is this happening? Thanks in advance 
===LINK===
http://stackoverflow.com/questions/10796160/splitting-a-java-string-by-the-pipe-symbol-using-split
===KEYWORDS===
prints 
===ANSWER===
235
<html><body><p>You need </p><pre><code>test.split("\\|");
</code></pre><p><code>split</code> uses regular expression and in <em>regex</em> <code>|</code> is a metacharacter representing the <code>OR</code> operator. You need to escape that character using <code>\</code> (written in String as <code>"\\"</code> since <code>\</code> is also a metacharacter in String literals and require another <code>\</code> to escape it).</p><p>You can also use </p><pre><code>test.split(Pattern.quote("|"));
</code></pre><p>and let <code>Pattern.quote</code> create the escaped version of the regex representing <code>|</code>.</p></body></html>

===ID===
584e5b173e2ca51be94fee9c
===QUESTION===
What is a JavaBean exactly?
I understood, I think, that a "Bean" is a Java class with properties and getters/setters. As much as I understand, it is the equivalent of a C struct. Is that true? Also, is there a real  syntactic  difference between a bean and a regular class? Is there any special definition or an interface? Basically, why is there a term for this? Edit : If you can be so kind and add information regarding the  Serializable  interface, and what it means, to your answer, I'd be very grateful. 
===LINK===
http://stackoverflow.com/questions/3295496/what-is-a-javabean-exactly
===KEYWORDS===
term 
===ANSWER===
997
<html><body><p>A JavaBean is just a <a href="http://www.oracle.com/technetwork/java/javase/documentation/spec-136004.html" rel="nofollow noreferrer">standard</a></p><li>All properties private (use <a href="http://en.wikipedia.org/wiki/Mutator_method" rel="nofollow noreferrer">getters/setters</a>)</li><li>A public <a href="http://en.wikipedia.org/wiki/Nullary_constructor" rel="nofollow noreferrer">no-argument constructor</a></li><li>Implements <a href="http://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" rel="nofollow noreferrer"><code>Serializable</code></a>.</li><p>That's it. It's just a convention.  Lots of libraries depend on it though....</p><p>With respect to <code>Serializable</code>, from the <a href="http://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" rel="nofollow noreferrer">API documentation</a>:</p><p>Serializability of a class is enabled by the class implementing the
  java.io.Serializable interface. Classes that do not implement this
  interface will not have any of their state serialized or deserialized.
  All subtypes of a serializable class are themselves serializable. The
  serialization interface has no methods or fields and serves only to
  identify the semantics of being serializable.</p><p>In other words, serializable objects can be written to streams, and hence files, object databases, anything really.  </p><p>Also, there is no syntactic difference between a JavaBean and another class -- a class defines a JavaBean if it follows the standards.</p><p>There is a term for it because the standard allows libraries to programmatically do things with class instances you define in a predefined way. For example, if a library wants to stream any object you pass into it, it knows it can because your object is serializable (assuming the lib requires your objects be proper JavaBeans). </p></body></html>

===ID===
584e5b183e2ca51be94fee9d
===QUESTION===
How to get a class instance of generics type T
I have a generics class,  Foo<T> . In a method of  Foo , I want to get the class instance of type T, but I just can't call  T.class . What is the preferred way to get around it using  T.class ? 
===LINK===
http://stackoverflow.com/questions/3437897/how-to-get-a-class-instance-of-generics-type-t
===KEYWORDS===
preferred 
===ANSWER===
288
<html><body><p>The short answer is, that there is no way to find out the runtime type of generic type parameters in Java. I suggest reading the chapter about type erasure in the <a href="http://download.oracle.com/javase/tutorial/java/generics/erasure.html" rel="nofollow noreferrer">Java Tutorial</a> for more details.</p><p>A popular solution to this is to pass the <code>Class</code> of the type parameter into the constructor of the generic type, e.g.</p><pre><code>class Foo&lt;T&gt; {
    final Class&lt;T&gt; typeParameterClass;

    public Foo(Class&lt;T&gt; typeParameterClass) {
        this.typeParameterClass = typeParameterClass;
    }

    public void bar() {
        // you can access the typeParameterClass here and do whatever you like
    }
}
</code></pre></body></html>

===ID===
584e5b193e2ca51be94fee9e
===QUESTION===
Difference between Statement and PreparedStatement
The Prepared Statement is a slightly more powerful version of a Statement, and should always be at least as quick and easy to handle as a Statement. 
The Prepared Statement may be parametrized  Most relational databases handles a JDBC / SQL query in four steps:   A Statement will always proceed through the four steps above for each SQL query sent to the database. A Prepared Statement pre-executes steps (1) - (3) in the execution process above. Thus, when creating a Prepared Statement some pre-optimization is performed immediately. The effect is to lessen the load on the database engine at execution time.   Now my question is that - "Is any other advantage of using Prepared Statement?" 
===LINK===
http://stackoverflow.com/questions/3271249/difference-between-statement-and-preparedstatement
===KEYWORDS===
pre 
===ANSWER===
128
<html><body><p>Advantages of a <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html" rel="nofollow noreferrer"><code>PreparedStatement</code></a>:</p><li><p>Precompilation and DB-side caching of the SQL statement leads to overall faster execution and the ability to reuse the same SQL statement in <a href="http://stackoverflow.com/questions/2467125/reusing-a-preparedstatement-multiple-times">batches</a>.</p></li><p>Precompilation and DB-side caching of the SQL statement leads to overall faster execution and the ability to reuse the same SQL statement in <a href="http://stackoverflow.com/questions/2467125/reusing-a-preparedstatement-multiple-times">batches</a>.</p><li><p>Automatic prevention of <a href="http://en.wikipedia.org/wiki/SQL_injection" rel="nofollow noreferrer">SQL injection</a> <a href="http://unixwiz.net/techtips/sql-injection.html" rel="nofollow noreferrer">attacks</a> by builtin escaping of quotes and other special characters. Note that this requires that you use any of the <code>PreparedStatement</code> <code>setXxx()</code> methods to set the values </p>
<pre><code>preparedStatement = connection.prepareStatement("INSERT INTO Person (name, email, birthdate, photo) VALUES (?, ?, ?, ?)");
preparedStatement.setString(1, person.getName());
preparedStatement.setString(2, person.getEmail());
preparedStatement.setTimestamp(3, new Timestamp(person.getBirthdate().getTime()));
preparedStatement.setBinaryStream(4, person.getPhoto());
preparedStatement.executeUpdate();
</code></pre>
<p>and thus <strong>don't</strong> inline the values in the SQL string by string-concatenating.</p>
<pre><code>preparedStatement = connection.prepareStatement("INSERT INTO Person (name, email) VALUES ('" + person.getName() + "', '" + person.getEmail() + "'");
preparedStatement.executeUpdate();
</code></pre></li><p>Automatic prevention of <a href="http://en.wikipedia.org/wiki/SQL_injection" rel="nofollow noreferrer">SQL injection</a> <a href="http://unixwiz.net/techtips/sql-injection.html" rel="nofollow noreferrer">attacks</a> by builtin escaping of quotes and other special characters. Note that this requires that you use any of the <code>PreparedStatement</code> <code>setXxx()</code> methods to set the values </p><pre><code>preparedStatement = connection.prepareStatement("INSERT INTO Person (name, email, birthdate, photo) VALUES (?, ?, ?, ?)");
preparedStatement.setString(1, person.getName());
preparedStatement.setString(2, person.getEmail());
preparedStatement.setTimestamp(3, new Timestamp(person.getBirthdate().getTime()));
preparedStatement.setBinaryStream(4, person.getPhoto());
preparedStatement.executeUpdate();
</code></pre><p>and thus <strong>don't</strong> inline the values in the SQL string by string-concatenating.</p><pre><code>preparedStatement = connection.prepareStatement("INSERT INTO Person (name, email) VALUES ('" + person.getName() + "', '" + person.getEmail() + "'");
preparedStatement.executeUpdate();
</code></pre><li><p>Eases setting of non-standard Java objects in a SQL string, e.g. <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setDate%28int,%20java.sql.Date%29" rel="nofollow noreferrer"><code>Date</code></a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setTime%28int,%20java.sql.Time%29" rel="nofollow noreferrer"><code>Time</code></a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setTimestamp%28int,%20java.sql.Timestamp%29" rel="nofollow noreferrer"><code>Timestamp</code></a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBigDecimal%28int,%20java.math.BigDecimal%29" rel="nofollow noreferrer"><code>BigDecimal</code></a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBinaryStream%28int,%20java.io.InputStream%29" rel="nofollow noreferrer"><code>InputStream</code></a> (<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBlob%28int,%20java.sql.Blob%29" rel="nofollow noreferrer"><code>Blob</code></a>) and <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setCharacterStream%28int,%20java.io.Reader%29" rel="nofollow noreferrer"><code>Reader</code></a> (<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setClob%28int,%20java.sql.Clob%29" rel="nofollow noreferrer"><code>Clob</code></a>). On most of those types you can't "just" do a <code>toString()</code> as you would do in a simple <code>Statement</code>. You could even refactor it all to using <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setObject%28int,%20java.lang.Object%29" rel="nofollow noreferrer"><code>PreparedStatement#setObject()</code></a> inside a loop as demonstrated in the utility method below:</p>
<pre><code>public static void setValues(PreparedStatement preparedStatement, Object... values) throws SQLException {
    for (int i = 0; i &lt; values.length; i++) {
        preparedStatement.setObject(i + 1, values[i]);
    }
}
</code></pre>
<p>Which can be used as below:</p>
<pre><code>preparedStatement = connection.prepareStatement("INSERT INTO Person (name, email, birthdate, photo) VALUES (?, ?, ?, ?)");
setValues(preparedStatement, person.getName(), person.getEmail(), new Timestamp(person.getBirthdate().getTime()), person.getPhoto());
preparedStatement.executeUpdate();
</code></pre></li><p>Eases setting of non-standard Java objects in a SQL string, e.g. <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setDate%28int,%20java.sql.Date%29" rel="nofollow noreferrer"><code>Date</code></a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setTime%28int,%20java.sql.Time%29" rel="nofollow noreferrer"><code>Time</code></a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setTimestamp%28int,%20java.sql.Timestamp%29" rel="nofollow noreferrer"><code>Timestamp</code></a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBigDecimal%28int,%20java.math.BigDecimal%29" rel="nofollow noreferrer"><code>BigDecimal</code></a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBinaryStream%28int,%20java.io.InputStream%29" rel="nofollow noreferrer"><code>InputStream</code></a> (<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setBlob%28int,%20java.sql.Blob%29" rel="nofollow noreferrer"><code>Blob</code></a>) and <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setCharacterStream%28int,%20java.io.Reader%29" rel="nofollow noreferrer"><code>Reader</code></a> (<a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setClob%28int,%20java.sql.Clob%29" rel="nofollow noreferrer"><code>Clob</code></a>). On most of those types you can't "just" do a <code>toString()</code> as you would do in a simple <code>Statement</code>. You could even refactor it all to using <a href="http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setObject%28int,%20java.lang.Object%29" rel="nofollow noreferrer"><code>PreparedStatement#setObject()</code></a> inside a loop as demonstrated in the utility method below:</p><pre><code>public static void setValues(PreparedStatement preparedStatement, Object... values) throws SQLException {
    for (int i = 0; i &lt; values.length; i++) {
        preparedStatement.setObject(i + 1, values[i]);
    }
}
</code></pre><p>Which can be used as below:</p><pre><code>preparedStatement = connection.prepareStatement("INSERT INTO Person (name, email, birthdate, photo) VALUES (?, ?, ?, ?)");
setValues(preparedStatement, person.getName(), person.getEmail(), new Timestamp(person.getBirthdate().getTime()), person.getPhoto());
preparedStatement.executeUpdate();
</code></pre></body></html>

===ID===
584e5b1a3e2ca51be94fee9f
===QUESTION===
Scanning Java annotations at runtime
What is the best way of searching the whole classpath for an annotated class? I'm doing a library and I want to allow the users to annotate their classes, so when the Web application starts I need to scan the whole classpath for certain annotation. Do you know a library or a Java facility to do this? Edit: I'm thinking about something like the new functionality for Java EE 5 Web Services or EJB's. You annotate your class with  @WebService  or  @EJB  and the system finds these classes while loading so they are accessible remotely. 
===LINK===
http://stackoverflow.com/questions/259140/scanning-java-annotations-at-runtime
===KEYWORDS===
loading 
===ANSWER===
139
<html><body><p>Use <a href="http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/context/annotation/ClassPathScanningCandidateComponentProvider.html" rel="nofollow noreferrer">org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider</a> </p><p>API</p><p>A component provider that scans the classpath from a base package. It then applies exclude and include filters to the resulting classes to find candidates. </p><pre><code>ClassPathScanningCandidateComponentProvider scanner =
new ClassPathScanningCandidateComponentProvider(&lt;DO_YOU_WANT_TO_USE_DEFALT_FILTER&gt;);

scanner.addIncludeFilter(new AnnotationTypeFilter(&lt;TYPE_YOUR_ANNOTATION_HERE&gt;.class));

for (BeanDefinition bd : scanner.findCandidateComponents(&lt;TYPE_YOUR_BASE_PACKAGE_HERE&gt;))
    System.out.println(bd.getBeanClassName());
</code></pre></body></html>

===ID===
584e5b1b3e2ca51be94feea0
===QUESTION===
Unicode equivalents for \w and \b in Java regular expressions?
Many modern regex implementations interpret the  \w  character class shorthand as "any letter, digit, or connecting punctuation" (usually: underscore). That way, a regex like  \w+  matches words like  hello ,  élève ,  GOÄ_432  or  gefräßig . Unfortunately, Java doesn't. In Java,  \w  is limited to  [A-Za-z0-9_] . This makes matching words like those mentioned above difficult, among other problems. It also appears that the  \b  word separator matches in places where it shouldn't.  What would be the correct equivalent of a .NET-like, Unicode-aware  \w  or  \b  in Java? Which other shortcuts need "rewriting" to make them Unicode-aware? 
===LINK===
http://stackoverflow.com/questions/4304928/unicode-equivalents-for-w-and-b-in-java-regular-expressions
===KEYWORDS===
gefräßig 
===ANSWER===
197
<html><body><p>The source code for the rewriting functions I discuss below <strong><a href="http://training.perl.com/scripts/tchrist-unicode-charclasses__alpha.java">is available here</a>.</strong></p><p>Sun’s updated <code>Pattern</code> class for JDK7 has a marvelous new flag, <code>UNICODE_CHARACTER_CLASS</code>, which makes everything work right again. It’s available as an embeddable <code>(?U)</code> for inside the pattern, so you can use it with the <code>String</code> class’s wrappers, too.  It also sports corrected definitions for various other properties, too.  It now tracks The Unicode Standard, in both <a href="http://unicode.org/reports/tr18/#Categories">RL1.2</a> and <a href="http://unicode.org/reports/tr18/#Compatibility_Properties">RL1.2a</a> from <em>UTS#18: Unicode Regular Expressions</em>. This is an exciting and dramatic improvement, and the development team is to be commended for this important effort.</p><p>The problem with Java regexes is that the Perl 1.0 charclass escapes — meaning <code>\w</code>, <code>\b</code>, <code>\s</code>, <code>\d</code> and their complements — are not in Java extended to work with Unicode.  Alone amongst these, <code>\b</code> enjoys certain extended semantics, but these map neither to <a href="http://unicode.org/reports/tr18/#word"><code>\w</code></a>, nor to <a href="http://www.unicode.org/reports/tr31/">Unicode identifiers</a>, nor to <a href="http://www.unicode.org/reports/tr29/WordBreakTest.html">Unicode line-break properties</a>.</p><p>Additionally, the POSIX properties in Java are accessed this way:</p><pre><code>POSIX syntax    Java syntax

[[:Lower:]]     \p{Lower}
[[:Upper:]]     \p{Upper}
[[:ASCII:]]     \p{ASCII}
[[:Alpha:]]     \p{Alpha}
[[:Digit:]]     \p{Digit}
[[:Alnum:]]     \p{Alnum}
[[:Punct:]]     \p{Punct}
[[:Graph:]]     \p{Graph}
[[:Print:]]     \p{Print}
[[:Blank:]]     \p{Blank}
[[:Cntrl:]]     \p{Cntrl}
[[:XDigit:]]    \p{XDigit}
[[:Space:]]     \p{Space}
</code></pre><p>This is a real mess, because it means that things like <code>Alpha</code>, <code>Lower</code>, and <code>Space</code> do <strong>not</strong> in Java map to the Unicode <code>Alphabetic</code>, <code>Lowercase</code>, or <code>Whitespace</code> properties. This is exceeedingly annoying. Java’s Unicode property support is <strong>strictly antemillennial</strong>, by which I mean it supports no Unicode property that has come out in the last decade.  </p><p>Not being able to talk about whitespace properly is super-annoying.  Consider the following table. For each of those code points, there is both a J-results column
for Java and a P-results column for Perl or any other PCRE-based regex engine:</p><pre><code>             Regex    001A    0085    00A0    2029
                      J  P    J  P    J  P    J  P
                \s    1  1    0  1    0  1    0  1
               \pZ    0  0    0  0    1  1    1  1
            \p{Zs}    0  0    0  0    1  1    0  0
         \p{Space}    1  1    0  1    0  1    0  1
         \p{Blank}    0  0    0  0    0  1    0  0
    \p{Whitespace}    -  1    -  1    -  1    -  1
\p{javaWhitespace}    1  -    0  -    0  -    1  -
 \p{javaSpaceChar}    0  -    0  -    1  -    1  -
</code></pre><p>See that?</p><p>Virtually every one of those Java white space results is   ̲w̲r̲o̲n̲g̲  according to Unicode.  It’s a <strong>really big problem.</strong>  Java is just messed up, giving answers that are “wrong” according to existing practice and also according to Unicode.  Plus Java doesn’t even give you access to the real Unicode properties! In fact, Java does not support <em>any</em> property that corresponds to Unicode whitespace. </p><p>To deal with this and many other related problems, yesterday I wrote a Java function to rewrite a pattern string that rewrites these 14 charclass escapes:</p><pre><code>\w \W \s \S \v \V \h \H \d \D \b \B \X \R
</code></pre><p>by replacing them with things that actually work to match Unicode in a predictable and consistent fashion. It’s only an alpha prototype from a single hack session, but it is completely functional. </p><p>The short story is that my code rewrites those 14 as follows:</p><pre><code>\s =&gt; [\u0009-\u000D\u0020\u0085\u00A0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]
\S =&gt; [^\u0009-\u000D\u0020\u0085\u00A0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]

\v =&gt; [\u000A-\u000D\u0085\u2028\u2029]
\V =&gt; [^\u000A-\u000D\u0085\u2028\u2029]

\h =&gt; [\u0009\u0020\u00A0\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]
\H =&gt; [^\u0009\u0020\u00A0\u1680\u180E\u2000\u2001-\u200A\u202F\u205F\u3000]

\w =&gt; [\pL\pM\p{Nd}\p{Nl}\p{Pc}[\p{InEnclosedAlphanumerics}&amp;&amp;\p{So}]]
\W =&gt; [^\pL\pM\p{Nd}\p{Nl}\p{Pc}[\p{InEnclosedAlphanumerics}&amp;&amp;\p{So}]]

\b =&gt; (?:(?&lt;=[\pL\pM\p{Nd}\p{Nl}\p{Pc}[\p{InEnclosedAlphanumerics}&amp;&amp;\p{So}]])(?![\pL\pM\p{Nd}\p{Nl}\p{Pc}[\p{InEnclosedAlphanumerics}&amp;&amp;\p{So}]])|(?&lt;![\pL\pM\p{Nd}\p{Nl}\p{Pc}[\p{InEnclosedAlphanumerics}&amp;&amp;\p{So}]])(?=[\pL\pM\p{Nd}\p{Nl}\p{Pc}[\p{InEnclosedAlphanumerics}&amp;&amp;\p{So}]]))
\B =&gt; (?:(?&lt;=[\pL\pM\p{Nd}\p{Nl}\p{Pc}[\p{InEnclosedAlphanumerics}&amp;&amp;\p{So}]])(?=[\pL\pM\p{Nd}\p{Nl}\p{Pc}[\p{InEnclosedAlphanumerics}&amp;&amp;\p{So}]])|(?&lt;![\pL\pM\p{Nd}\p{Nl}\p{Pc}[\p{InEnclosedAlphanumerics}&amp;&amp;\p{So}]])(?![\pL\pM\p{Nd}\p{Nl}\p{Pc}[\p{InEnclosedAlphanumerics}&amp;&amp;\p{So}]]))

\d =&gt; \p{Nd}
\D =&gt; \P{Nd}

\R =&gt; (?:(?&gt;\u000D\u000A)|[\u000A\u000B\u000C\u000D\u0085\u2028\u2029])

\X =&gt; (?&gt;\PM\pM*)
</code></pre><p>Some things to consider...</p><li><p>That uses for its <code>\X</code> definition what <a href="http://www.unicode.org/reports/tr29">Unicode now refers to</a> as a <em>legacy grapheme cluster</em>, not an <em>extended grapheme cluster</em>, as the latter is rather more complicated. Perl itself now uses the fancier version, but the old version is still perfectly workable for the most common situations. <strong>EDIT:</strong> See addendum at bottom.</p></li><p>That uses for its <code>\X</code> definition what <a href="http://www.unicode.org/reports/tr29">Unicode now refers to</a> as a <em>legacy grapheme cluster</em>, not an <em>extended grapheme cluster</em>, as the latter is rather more complicated. Perl itself now uses the fancier version, but the old version is still perfectly workable for the most common situations. <strong>EDIT:</strong> See addendum at bottom.</p><li><p>What to do about <code>\d</code> depends on your intent, but the default is the Uniode definition. I can see people not always wanting <code>\p{Nd}</code>, but sometimes either <code>[0-9]</code> or <code>\pN</code>.</p></li><p>What to do about <code>\d</code> depends on your intent, but the default is the Uniode definition. I can see people not always wanting <code>\p{Nd}</code>, but sometimes either <code>[0-9]</code> or <code>\pN</code>.</p><li><p>The two boundary definitions, <code>\b</code> and <code>\B</code>, are specifically written to use the <code>\w</code> definition.</p></li><p>The two boundary definitions, <code>\b</code> and <code>\B</code>, are specifically written to use the <code>\w</code> definition.</p><li><p>That <code>\w</code> definition is overly broad, because it grabs the parenned letters not just the circled ones. The Unicode <code>Other_Alphabetic</code> property isn’t available until JDK7, so that’s the best you can do.</p></li><p>That <code>\w</code> definition is overly broad, because it grabs the parenned letters not just the circled ones. The Unicode <code>Other_Alphabetic</code> property isn’t available until JDK7, so that’s the best you can do.</p><p>Boundaries have been a problem ever since Larry Wall first coined the <code>\b</code> and <code>\B</code> syntax for talking about them for Perl 1.0 back in 1987. The key to understanding how <code>\b</code> and <code>\B</code> both work is to dispel two pervasive myths about them:</p><li>They are <strong>only ever looking</strong> for <code>\w</code> word characters, <strong>never</strong> for non-word characters.</li><li>They do not specifically look for the edge of the string.</li><p>A <code>\b</code> boundary means:</p><pre><code>    IF does follow word
        THEN doesn't precede word
    ELSIF doesn't follow word
        THEN does precede word
</code></pre><p>And those are all  defined perfectly straightforwardly as:</p><li><em>follows word</em> is <code>(?&lt;=\w)</code>.</li><li><em>precedes word</em> is <code>(?=\w)</code>.</li><li><em>doesn’t follow word</em> is <code>(?&lt;!\w)</code>.</li><li><em>doesn’t precede word</em> is <code>(?!\w)</code>.</li><p>Therefore, since <code>IF-THEN</code> is encoded as an <code>and</code> ed-together <code>AB</code> in regexes,  an <code>or</code> is <code>X|Y</code>, and because the <code>and</code> is  higher in precedence than <code>or</code>, that is simply <code>AB|CD</code>.  So every <code>\b</code> that means a boundary can be safely replaced with:</p><pre><code>    (?:(?&lt;=\w)(?!\w)|(?&lt;!\w)(?=\w))
</code></pre><p>with the <code>\w</code> defined in the appropriate way. </p><p>(You might think it strange that the <code>A</code> and <code>C</code> components are opposites. In a perfect world, you should be able to write that <code>AB|D</code>, but for a while I was chasing down mutual exclusion contradictions in Unicode properties — which I <em>think</em> I’ve taken care of, but I left the double condition in the boundary just in case. Plus this makes it more extensible if you get extra ideas later.)</p><p>For the <code>\B</code> non-boundaries, the logic is:</p><pre><code>    IF does follow word
        THEN does precede word
    ELSIF doesn't follow word
        THEN doesn't precede word
</code></pre><p>Allowing all instances of <code>\B</code> to be replaced with:</p><pre><code>    (?:(?&lt;=\w)(?=\w)|(?&lt;!\w)(?!\w))
</code></pre><p>This really is how <code>\b</code> and <code>\B</code> behave.  Equivalent patterns for them are</p><li><code>\b</code> using the <code>((IF)THEN|ELSE)</code> construct is <code>(?(?&lt;=\w)(?!\w)|(?=\w))</code></li><li><code>\B</code> using the <code>((IF)THEN|ELSE)</code> construct is <code>(?(?=\w)(?&lt;=\w)|(?&lt;!\w))</code></li><p>But the versions with just <code>AB|CD</code> are fine, especially if you lack conditional patterns in your regex language — like Java.  ☹</p><p>I’ve already verified the behaviour of the boundaries using all three equivalent definitions with a test suite that checks 110,385,408  matches per run, and which I've run on a dozen different data configurations according to:</p><pre><code>     0 ..     7F    the ASCII range
    80 ..     FF    the non-ASCII Latin1 range
   100 ..   FFFF    the non-Latin1 BMP (Basic Multilingual Plane) range
 10000 .. 10FFFF    the non-BMP portion of Unicode (the "astral" planes)
</code></pre><p>However, people often want a different sort of boundary. They want something that is whitespace and edge-of-string aware:</p><li><em>left edge</em>  as <code>(?:(?&lt;=^)|(?&lt;=\s))</code> </li><li><em>right edge</em> as <code>(?=$|\s)</code></li><p>The code I posted in <a href="http://stackoverflow.com/questions/3537706/howto-unescape-a-java-string-literal-in-java/4298836#4298836">my other answer</a> provides this and quite a few other conveniences. This includes definitions for natural-language words, dashes, hyphens, and apostrophes, plus a bit more.</p><p>It also allows you to specify Unicode characters in logical code points, not in idiotic UTF-16 surrogates. <strong>It’s hard to overstress how important that is!</strong> And that’s just for the string expansion.  </p><p>For regex charclass substitution that makes the charclass in your Java regexes <em>finally</em> work on Unicode, <em>and work correctly,</em>  grab <strong><a href="http://training.perl.com/scripts/tchrist-unicode-charclasses__alpha.java">the full source from here</a>.</strong>  You may do with it as you please, of course. If you make fixes to it, I’d love to hear of it, but you don’t have to. It’s pretty short. The guts of the main regex rewriting function is simple:</p><pre><code>switch (code_point) {

    case 'b':  newstr.append(boundary);
               break; /* switch */
    case 'B':  newstr.append(not_boundary);
               break; /* switch */

    case 'd':  newstr.append(digits_charclass);
               break; /* switch */
    case 'D':  newstr.append(not_digits_charclass);
               break; /* switch */

    case 'h':  newstr.append(horizontal_whitespace_charclass);
               break; /* switch */
    case 'H':  newstr.append(not_horizontal_whitespace_charclass);
               break; /* switch */

    case 'v':  newstr.append(vertical_whitespace_charclass);
               break; /* switch */
    case 'V':  newstr.append(not_vertical_whitespace_charclass);
               break; /* switch */

    case 'R':  newstr.append(linebreak);
               break; /* switch */

    case 's':  newstr.append(whitespace_charclass);
               break; /* switch */
    case 'S':  newstr.append(not_whitespace_charclass);
               break; /* switch */

    case 'w':  newstr.append(identifier_charclass);
               break; /* switch */
    case 'W':  newstr.append(not_identifier_charclass);
               break; /* switch */

    case 'X':  newstr.append(legacy_grapheme_cluster);
               break; /* switch */

    default:   newstr.append('\\');
               newstr.append(Character.toChars(code_point));
               break; /* switch */

}
saw_backslash = false;
</code></pre><p>Anyway, that code is just an alpha release, stuff I hacked up over the weekend. It won’t stay that way.</p><p>For the beta I intend to:</p><li><p>fold together the code duplication</p></li><p>fold together the code duplication</p><li><p>provide a clearer interface regarding unescaping string escapes versus augmenting regex escapes</p></li><p>provide a clearer interface regarding unescaping string escapes versus augmenting regex escapes</p><li><p>provide some flexibility in the <code>\d</code> expansion, and maybe the <code>\b</code></p></li><p>provide some flexibility in the <code>\d</code> expansion, and maybe the <code>\b</code></p><li><p>provide convenience methods that handle turning around and calling Pattern.compile or String.matches or whatnot for you</p></li><p>provide convenience methods that handle turning around and calling Pattern.compile or String.matches or whatnot for you</p><p>For production release, it should have javadoc and a JUnit test suite. I may include my gigatester, but it’s not written as JUnit tests.</p><p>I have good news and bad news.  </p><p>The good news is that I’ve now got a <strong>very</strong> close approximation to an <em>extended grapheme cluster</em> to use for an improved <code>\X</code>. </p><p>The bad news ☺ is that that pattern is: </p><pre><code>(?:(?:\u000D\u000A)|(?:[\u0E40\u0E41\u0E42\u0E43\u0E44\u0EC0\u0EC1\u0EC2\u0EC3\u0EC4\uAAB5\uAAB6\uAAB9\uAABB\uAABC]*(?:[\u1100-\u115F\uA960-\uA97C]+|([\u1100-\u115F\uA960-\uA97C]*((?:[[\u1160-\u11A2\uD7B0-\uD7C6][\uAC00\uAC1C\uAC38]][\u1160-\u11A2\uD7B0-\uD7C6]*|[\uAC01\uAC02\uAC03\uAC04])[\u11A8-\u11F9\uD7CB-\uD7FB]*))|[\u11A8-\u11F9\uD7CB-\uD7FB]+|[^[\p{Zl}\p{Zp}\p{Cc}\p{Cf}&amp;&amp;[^\u000D\u000A\u200C\u200D]]\u000D\u000A])[[\p{Mn}\p{Me}\u200C\u200D\u0488\u0489\u20DD\u20DE\u20DF\u20E0\u20E2\u20E3\u20E4\uA670\uA671\uA672\uFF9E\uFF9F][\p{Mc}\u0E30\u0E32\u0E33\u0E45\u0EB0\u0EB2\u0EB3]]*)|(?s:.))
</code></pre><p>which in Java you’d write as:</p><pre><code>String extended_grapheme_cluster = "(?:(?:\\u000D\\u000A)|(?:[\\u0E40\\u0E41\\u0E42\\u0E43\\u0E44\\u0EC0\\u0EC1\\u0EC2\\u0EC3\\u0EC4\\uAAB5\\uAAB6\\uAAB9\\uAABB\\uAABC]*(?:[\\u1100-\\u115F\\uA960-\\uA97C]+|([\\u1100-\\u115F\\uA960-\\uA97C]*((?:[[\\u1160-\\u11A2\\uD7B0-\\uD7C6][\\uAC00\\uAC1C\\uAC38]][\\u1160-\\u11A2\\uD7B0-\\uD7C6]*|[\\uAC01\\uAC02\\uAC03\\uAC04])[\\u11A8-\\u11F9\\uD7CB-\\uD7FB]*))|[\\u11A8-\\u11F9\\uD7CB-\\uD7FB]+|[^[\\p{Zl}\\p{Zp}\\p{Cc}\\p{Cf}&amp;&amp;[^\\u000D\\u000A\\u200C\\u200D]]\\u000D\\u000A])[[\\p{Mn}\\p{Me}\\u200C\\u200D\\u0488\\u0489\\u20DD\\u20DE\\u20DF\\u20E0\\u20E2\\u20E3\\u20E4\\uA670\\uA671\\uA672\\uFF9E\\uFF9F][\\p{Mc}\\u0E30\\u0E32\\u0E33\\u0E45\\u0EB0\\u0EB2\\u0EB3]]*)|(?s:.))";
</code></pre><p><em>¡Tschüß!</em></p></body></html>

===ID===
584e5b1c3e2ca51be94feea1
===QUESTION===
Why in Java 8 split sometimes removes empty strings at start of result array?
Before Java 8  when we split on empty string like  split mechanism would split in places marked with  | because empty space  ""  exists before and after each character. So as result it would generate at first this array and later will  remove trailing empty strings  (because we didn't explicitly provide negative value to  limit  argument) so it will finally return  In Java 8  split mechanism seems to have changed. Now when we use  we will get  ["a", "b", "c"]  array instead of  ["", "a", "b", "c"]  so it looks like empty strings at start are also removed. But this theory fails because for instance is returning array with empty string at start  ["", "bc"] .  Can someone explain what is going on here and how rules of split for this cases have changed in Java 8? 
===LINK===
http://stackoverflow.com/questions/22718744/why-in-java-8-split-sometimes-removes-empty-strings-at-start-of-result-array
===KEYWORDS===
changed 
===ANSWER===
54
<html><body><p>The behavior of <code>String.split</code> (which calls <code>Pattern.split</code>) changes between Java 7 and Java 8.</p><p>Comparing between the documentation of <code>Pattern.split</code> in <a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#split%28java.lang.CharSequence,%20int%29">Java 7</a> and <a href="http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#split-java.lang.CharSequence-int-">Java 8</a>, we observe the following clause being added:</p><p>When there is a positive-width match at the beginning of the input sequence then an empty leading substring is included at the beginning of the resulting array. A zero-width match at the beginning however never produces such empty leading substring.</p><p>The same clause is also added to <code>String.split</code> in <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-">Java 8</a>, compared to <a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#split%28java.lang.CharSequence,%20int%29">Java 7</a>.</p><p>Let us compare the code of <code>Pattern.split</code> of the reference implemetation in Java 7 and Java 8. The code is retrieved from grepcode, for version 7u40-b43 and 8-b132.</p><pre><code>public String[] split(CharSequence input, int limit) {
    int index = 0;
    boolean matchLimited = limit &gt; 0;
    ArrayList&lt;String&gt; matchList = new ArrayList&lt;&gt;();
    Matcher m = matcher(input);

    // Add segments before each match found
    while(m.find()) {
        if (!matchLimited || matchList.size() &lt; limit - 1) {
            String match = input.subSequence(index, m.start()).toString();
            matchList.add(match);
            index = m.end();
        } else if (matchList.size() == limit - 1) { // last one
            String match = input.subSequence(index,
                                             input.length()).toString();
            matchList.add(match);
            index = m.end();
        }
    }

    // If no match was found, return this
    if (index == 0)
        return new String[] {input.toString()};

    // Add remaining segment
    if (!matchLimited || matchList.size() &lt; limit)
        matchList.add(input.subSequence(index, input.length()).toString());

    // Construct result
    int resultSize = matchList.size();
    if (limit == 0)
        while (resultSize &gt; 0 &amp;&amp; matchList.get(resultSize-1).equals(""))
            resultSize--;
    String[] result = new String[resultSize];
    return matchList.subList(0, resultSize).toArray(result);
}
</code></pre><pre><code>public String[] split(CharSequence input, int limit) {
    int index = 0;
    boolean matchLimited = limit &gt; 0;
    ArrayList&lt;String&gt; matchList = new ArrayList&lt;&gt;();
    Matcher m = matcher(input);

    // Add segments before each match found
    while(m.find()) {
        if (!matchLimited || matchList.size() &lt; limit - 1) {
            if (index == 0 &amp;&amp; index == m.start() &amp;&amp; m.start() == m.end()) {
                // no empty leading substring included for zero-width match
                // at the beginning of the input char sequence.
                continue;
            }
            String match = input.subSequence(index, m.start()).toString();
            matchList.add(match);
            index = m.end();
        } else if (matchList.size() == limit - 1) { // last one
            String match = input.subSequence(index,
                                             input.length()).toString();
            matchList.add(match);
            index = m.end();
        }
    }

    // If no match was found, return this
    if (index == 0)
        return new String[] {input.toString()};

    // Add remaining segment
    if (!matchLimited || matchList.size() &lt; limit)
        matchList.add(input.subSequence(index, input.length()).toString());

    // Construct result
    int resultSize = matchList.size();
    if (limit == 0)
        while (resultSize &gt; 0 &amp;&amp; matchList.get(resultSize-1).equals(""))
            resultSize--;
    String[] result = new String[resultSize];
    return matchList.subList(0, resultSize).toArray(result);
}
</code></pre><p>The addition of the following code in Java 8 excludes the zero-length match at the beginning of the input string, which explains the behavior above.</p><pre><code>            if (index == 0 &amp;&amp; index == m.start() &amp;&amp; m.start() == m.end()) {
                // no empty leading substring included for zero-width match
                // at the beginning of the input char sequence.
                continue;
            }
</code></pre><p>To make <code>split</code> behaves consistently across versions and compatible with the behavior in Java 8:</p><li>If your regex <strong>can</strong> match zero-length string, just add <code>(?!\A)</code> at <strong>the end</strong> of the regex and wrap the original regex in non-capturing group <code>(?:...)</code> (if necessary).</li><li>If your regex <strong>can't</strong> match zero-length string, you don't need to do anything.</li><li>If you don't know whether the regex can match zero-length string or not, do both the actions in step 1.</li><p><code>(?!\A)</code> checks that the string does not end at the beginning of the string, which implies that the match is an empty match at the beginning of the string.</p><p>There is no general solution to make <code>split</code> backward-compatible with Java 7 and prior, short of replacing all instance of <code>split</code> to point to your own custom implementation.</p></body></html>

===ID===
584e5b1d3e2ca51be94feea2
===QUESTION===
Is it safe to use a static java.sql.Connection instance in a multithreaded system?
I'm running a web application on Tomcat. I have a class that handles all DB queries.
This class contains the  Connection  object and methods that returns query results. This is the connection object: It has only one instance (singleton). In addition, I have methods that execute queries, such as search for a user in the db: This method uses the static  Connection  object. My question is, is my use in static  Connection  object thread safe? Or can it cause problems when a lot of users will call the  searchUser  method? 
===LINK===
http://stackoverflow.com/questions/9428573/is-it-safe-to-use-a-static-java-sql-connection-instance-in-a-multithreaded-syste
===KEYWORDS===
singleton 
===ANSWER===
39
<html><body><p><em>is my use in static Connection object thread safe?</em></p><p>This way the connection going to be shared among all requests sent by all users and thus all queries will interfere with each other. But threadsafety is not your only problem, resource leaking is also your other problem. You're keeping a single connection open during the entire application's lifetime. The average database will reclaim the connection whenever it's been open for too long which is usually between 30 minutes and 8 hours, depending on DB's configuration. So if your web application runs longer than that, the connection is lost and you won't be able to execute queries anymore.</p><p>This problem also applies when those resources are held as a non-<code>static</code> instance variable of a class instance which is reused multiple times.</p><p>You should <em>always</em> acquire and close the connection, statement and resultset in the <strong>shortest possible scope</strong>, preferably inside the very same <a href="https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html"><code>try-with-resources</code> block</a> as where you're executing the query according the following JDBC idiom:</p><pre class="lang-java prettyprint-override"><code>public User find(String username, String password) throws SQLException {
    User user = null;

    try (
        Connection connection = dataSource.getConnection();
        PreparedStatement statement = connection.prepareStatement("SELECT id, username, email FROM user WHERE username=? AND password=md5(?)");
    ) {
        statement.setString(1, username);
        statement.setString(2, password);

        try (ResultSet resultSet = statement.executeQuery()) {
            if (resultSet.next()) {
                user = new User();
                user.setId(resultSet.getLong("id"));
                user.setUsername(resultSet.getString("username"));
                user.setEmail(resultSet.getString("email"));
            }
        }
    }       

    return user;
}
</code></pre><p>Note that you should <strong>not</strong> return a <code>ResultSet</code> here. If you're not on Java 7 yet, then use a <code>try-finally</code> block wherein you manually close the closeable resources in the reverse order as you've acquired them.</p><p>If you worry about connecting performance, then you should be using connection pooling instead. This is built-in into many Java EE application servers and even barebones servletcontainers like Tomcat supports it. Just create a JNDI datasource in the server itself and let your webapp grab it as <code>DataSource</code>. It's transparently already a connection pool.</p><li><a href="http://stackoverflow.com/questions/2299469/how-should-i-connect-to-a-mysql-data-source-from-eclipse/">How should I connect to a MySQL data source from Eclipse?</a></li><li><a href="http://stackoverflow.com/questions/8345133/when-my-app-loses-connection-how-should-i-try-to-recover">When my app loses connection, how should I recover it?</a></li><li><a href="http://stackoverflow.com/questions/7592056/am-i-using-jdbc-connection-pooling">Am I Using JDBC Connection Pooling?</a></li><li><a href="http://stackoverflow.com/questions/5003142/jsp-using-mvc-and-jdbc">Show JDBC ResultSet in HTML &lt;table&gt; in JSP page using MVC pattern</a></li><li><a href="http://balusc.blogspot.com/2008/07/dao-tutorial-data-layer.html">DAO tutorial with JDBC</a></li></body></html>

===ID===
584e5b1e3e2ca51be94feea3
===QUESTION===
Real differences between “java -server” and “java -client”?
Is there any real practical difference between "java -server" and "java -client"?  All I can find on Sun's site is a vague "-server starts slower but should run faster".  What are the real differences?  (Using JDK 1.6.0_07 currently.) 
===LINK===
http://stackoverflow.com/questions/198577/real-differences-between-java-server-and-java-client
===KEYWORDS===
server” 
===ANSWER===
285
<html><body><p>This is really linked to <em>HotSpot</em> and the default <em>option values</em> (<a href="http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html" rel="nofollow noreferrer">Java HotSpot VM Options</a>) which differ between client and server configuration.</p><p>From <a href="http://www.oracle.com/technetwork/java/whitepaper-135217.html#2" rel="nofollow noreferrer">Chapter 2</a> of the whitepaper (<a href="http://www.oracle.com/technetwork/java/whitepaper-135217.html" rel="nofollow noreferrer">The Java HotSpot Performance Engine Architecture</a>):</p><p>The JDK includes two flavors of the VM -- a client-side offering, and a VM tuned for server applications. These two solutions share the Java HotSpot runtime environment code base, but use different compilers that are suited to the distinctly unique performance characteristics of clients and servers. These differences include the compilation inlining policy and heap defaults. </p><p>Although the Server and the Client VMs are similar, the Server VM has been specially tuned to maximize peak operating speed. It is intended for executing long-running server applications, which need the fastest possible operating speed more than a fast start-up time or smaller runtime memory footprint.</p><p>The Client VM compiler serves as an upgrade for both the Classic VM and the just-in-time (JIT) compilers used by previous versions of the JDK. The Client VM offers improved run time performance for applications and applets. The Java HotSpot Client VM has been specially tuned to reduce application start-up time and memory footprint, making it particularly well suited for client environments. In general, the client system is better for GUIs. </p><p>So the real difference is also on the compiler level:</p><p>The Client VM compiler does not try to execute many of the more complex optimizations performed by the compiler in the Server VM, but in exchange, it requires less time to analyze and compile a piece of code. This means the Client VM can start up faster and requires a smaller memory footprint.</p><p>The Server VM contains an advanced adaptive compiler that supports many of the same types of optimizations performed by optimizing C++ compilers, as well as some optimizations that cannot be done by traditional compilers, such as aggressive inlining across virtual method invocations. This is a competitive and performance advantage over static compilers. Adaptive optimization technology is very flexible in its approach, and typically outperforms even advanced static analysis and compilation techniques. </p><p>Note: The release of <em>jdk6 update 10</em> (see <a href="http://www.oracle.com/technetwork/java/javase/6u10-142936.html" rel="nofollow noreferrer">Update Release Notes:Changes in 1.6.0_10</a>) tried to improve startup time, but for a different reason than the hotspot options, being packaged differently with a much smaller kernel.</p><p><a href="http://stackoverflow.com/users/1037316/g-demecki">G. Demecki</a> points out <a href="http://stackoverflow.com/questions/198577/real-differences-between-java-server-and-java-client/198651?noredirect=1#comment59707599_198651">in the comments</a> that in 64-bit versions of JDK, the <code>-client</code> option is ignored for many years.<br>
See <a href="https://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html" rel="nofollow noreferrer">Windows <code>java</code> command</a>:</br></p><pre><code>-client
</code></pre><p>Selects the Java HotSpot Client VM.<br>
<strong>A 64-bit capable JDK currently ignores this option and instead uses the Java Hotspot Server VM</strong>.</br></p></body></html>

===ID===
584e5b203e2ca51be94feea4
===QUESTION===
How do I check if a file exists in Java?
How can I check whether a file exists, before opening it for reading in Java? (equivalent of Perl's  -e $filename ).   The only  similar question on SO  deals with writing the file and was thus answered using FileWriter which is obviously not applicable here. If possible I'd prefer a real API call returning true/false as opposed to some "Call API to open a file and catch when it throws an exception which you check for 'no file' in text", but I can live with the latter. 
===LINK===
http://stackoverflow.com/questions/1816673/how-do-i-check-if-a-file-exists-in-java
===KEYWORDS===
$filename 
===ANSWER===
868
<html><body><p>Using <code>java.io.File</code>:</p><pre><code>File f = new File(filePathString);
if(f.exists() &amp;&amp; !f.isDirectory()) { 
    // do something
}
</code></pre></body></html>

===ID===
584e5b213e2ca51be94feea5
===QUESTION===
Get generic type of java.util.List
I have; Is there a (easy) way to retrieve the generic type of the list? 
===LINK===
http://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list
===KEYWORDS===
util 
===ANSWER===
256
<html><body><p>If those are actually fields of a certian class, then you can get them with a little help of reflection:</p><pre><code>package test;

import java.lang.reflect.Field;
import java.lang.reflect.ParameterizedType;
import java.util.ArrayList;
import java.util.List;

public class Test {

    List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();
    List&lt;Integer&gt; integerList = new ArrayList&lt;Integer&gt;();

    public static void main(String... args) throws Exception {
        Field stringListField = Test.class.getDeclaredField("stringList");
        ParameterizedType stringListType = (ParameterizedType) stringListField.getGenericType();
        Class&lt;?&gt; stringListClass = (Class&lt;?&gt;) stringListType.getActualTypeArguments()[0];
        System.out.println(stringListClass); // class java.lang.String.

        Field integerListField = Test.class.getDeclaredField("integerList");
        ParameterizedType integerListType = (ParameterizedType) integerListField.getGenericType();
        Class&lt;?&gt; integerListClass = (Class&lt;?&gt;) integerListType.getActualTypeArguments()[0];
        System.out.println(integerListClass); // class java.lang.Integer.
    }
}
</code></pre><p>You can also do that for parameter types and return type of methods.</p><p>But if they're inside the same scope of the class/method where you need to know about them, then there's no point of knowing them, because you already have declared them yourself.</p></body></html>

===ID===
584e5b223e2ca51be94feea6
===QUESTION===
Why is spawning threads in Java EE container discouraged?
One of the first things I've learned about Java EE development is that I shouldn't spawn my own threads inside a Java EE container. But when I come to think about it, I don't know the reason. Can you clearly explain why it is discouraged?  I am sure most enterprise applications need some kind of asynchronous jobs like mail daemons, idle sessions, cleanup jobs etc. So, if indeed one shouldn't spawn threads, what is the correct way to do it when needed? 
===LINK===
http://stackoverflow.com/questions/533783/why-is-spawning-threads-in-java-ee-container-discouraged
===KEYWORDS===
spawn 
===ANSWER===
73
<html><body><p>It is discouraged because all resources within the environment are meant to be managed, and potentially monitored, by the server.  Also, much of the context in which a thread is being used is typically attached to the thread of execution itself.  If you simply start your own thread (which I believe some servers will not even allow), it cannot access other resources.  What this means, is that you cannot get an InitialContext and do JNDI lookups to access other system resources such as JMS Connection Factories and Datasources.</p><p>There are ways to do this "correctly", but it is dependent on the platform being used.  </p><p><a href="http://web.archive.org/web/20120510185357/http://www.ibm.com/developerworks/library/specification/j-commonj-sdowmt/index.html" rel="nofollow noreferrer">The commonj WorkManager is common for WebSphere and WebLogic as well as others</a></p><p><a href="http://www.theserverside.com/discussions/thread.tss?thread_id=44353" rel="nofollow noreferrer">More info here</a></p><p><a href="http://docs.oracle.com/middleware/1212/wls/WLPRG/topics.htm#sthref219" rel="nofollow noreferrer">And here</a></p><p>Also somewhat duplicates <a href="http://stackoverflow.com/questions/532360/thread-in-app-server/532440#532440">this one </a> from this morning</p><p>UPDATE: Please note that this question and answer relate to the state of Java EE in 2009, things have improved since then!</p></body></html>

===ID===
584e5b233e2ca51be94feea7
===QUESTION===
How to force garbage collection in Java?
Is it possible to force garbage collection in Java, even it is tricky to do? I know about  System.gc();  and  Runtime.gc();  but they only suggest to do GC. How can I force GC? 
===LINK===
http://stackoverflow.com/questions/1481178/how-to-force-garbage-collection-in-java
===KEYWORDS===
tricky 
===ANSWER===
105
<html><body><p>Your best option is to call <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#gc()" rel="nofollow noreferrer"><code>System.gc()</code></a> which simply is a hint to the garbage collector that you want it to do a collection.  There is no way to <em>force</em> and immediate collection though as the garbage collector is non-deterministic.</p></body></html>

===ID===
584e5b233e2ca51be94feea8
===QUESTION===
Using scanner.nextLine() [duplicate]
This question already has an answer here: I have been having trouble while attempting to use the nextLine() method from java.util.Scanner.  Here is what I tried: Example #1:  This example works as intended. The line  String sentence = scanner.nextLine();  waits for input to be entered before continuing on to  System.out.print("Enter an index:\t"); . This produces the output: Example #2:  This example does not work as intended. This example uses a while loop and and if - else structure to allow the user to choose what to do. Once the program gets to  String sentence = scanner.nextLine(); , it does not wait for input but instead executes the line  System.out.print("Enter an index:\t"); . This produces the output: Which makes it impossible to enter a sentence. Why does example #2 not work as intended? The only difference between Ex. 1 and 2 is that Ex. 2 has a while loop and an if-else structure. I don't understand why this affects the behavior of scanner.nextInt().  
===LINK===
http://stackoverflow.com/questions/5032356/using-scanner-nextline
===KEYWORDS===
scanner 
===ANSWER===
93
<html><body><p>I think your problem is that</p><pre><code>int selection = scanner.nextInt();
</code></pre><p>reads just the number, not the end of line or anything after the number.  When you</p><pre><code>String sentence = scanner.nextLine();
</code></pre><p>This read the remainder of the line with the number on it (with nothing after the number I suspect) </p><p>Try placing a scanner.nextLine(); after each nextInt() if you intend to ignore the rest of the line.</p></body></html>

===ID===
584e5b243e2ca51be94feea9
===QUESTION===
Dynamic JComboBoxes
I have following data (String): I'd like to create two  JComboBox  (JComboBox1, JComboBox2) so that JComboBox1 contains Course1,Course2,Course3, etc. If I select, say, Course2 from JComboBox1 then corresponding B1,B2,B3,B4 should be populated in JComboBox2. How to implement this? Many Thanks. 
===LINK===
http://stackoverflow.com/questions/3191837/dynamic-jcomboboxes
===KEYWORDS===
string 
===ANSWER===
19
<html><body><p>Yes, simply create a <a href="http://java.sun.com/javase/6/docs/api/javax/swing/DefaultComboBoxModel.html" rel="nofollow noreferrer"><code>DefaultComboBoxModel</code></a> for each set, and do <code>setModel()</code> on <code>JComboBox2</code> when <code>JComboBox1</code> changes.</p><p>Addendum: For example,</p><pre><code>import java.awt.EventQueue;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.ComboBoxModel;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JPanel;

public class ComboTest extends JPanel implements ActionListener, Runnable {

    private final JComboBox combo1 = new JComboBox(
        new String[]{"Course 1", "Course 2", "Course 3"});
    private final JComboBox combo2 = new JComboBox();
    private ComboBoxModel[] models = new ComboBoxModel[3];

    public ComboTest() {
        models[0] = new DefaultComboBoxModel(
            new String[]{"A1", "A2"});
        models[1] = new DefaultComboBoxModel(
            new String[]{"B1", "B2", "B3", "B4"});
        models[2] = new DefaultComboBoxModel(
            new String[]{"C1", "C2"});

        combo2.setModel(models[0]);
        this.add(combo1);
        this.add(combo2);
        combo1.addActionListener(this);
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        int i = combo1.getSelectedIndex();
        combo2.setModel(models[i]);
    }

    @Override
    public void run() {
        JFrame f = new JFrame("ComboTest");
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        f.add(this);
        f.pack();
        f.setLocationRelativeTo(null);
        f.setVisible(true);
    }

    public static void main(String[] args) {
        EventQueue.invokeLater(new ComboTest());
    }
}
</code></pre></body></html>

===ID===
584e5b243e2ca51be94feeaa
===QUESTION===
Is there an advantage to use a Synchronized Method instead of a Synchronized Block?
Can any one tell me the advantage of synchronized method over synchronized block with an example? 
===LINK===
http://stackoverflow.com/questions/574240/is-there-an-advantage-to-use-a-synchronized-method-instead-of-a-synchronized-blo
===KEYWORDS===
advantage 
===ANSWER===
332
<html><body><p><em>Can any one tell me the advantage of synchronized method over synchronized block with an example?Thanks.</em></p><p>There is not a clear advantage of using synchronized method over block. </p><p>Perhaps the only one ( but I wouldn't call it advantage ) is you don't need to include the object reference <code>this</code>.</p><p>Method:</p><pre><code>public synchronized void method() { // blocks "this" from here.... 
    ...
    ...
    ...
} // to here
</code></pre><p>Block:</p><pre><code>public void method() { 
    synchronized( this ) { // blocks "this" from here .... 
        ....
        ....
        ....
    }  // to here...
}
</code></pre><p>See? No advantage at all. </p><p>Blocks <strong>do</strong> have advantages over methods, most of all in flexibility because you can use other object as lock whereas syncing the method would lock the complete class.</p><p>Compare: </p><pre><code>// locks the whole object
... 
private synchronized void someInputRelatedWork() {
    ... 
}
private synchronized void someOutputRelatedWork() {
    ... 
}
</code></pre><p>Vs. </p><pre><code>// Using specific locks
Object inputLock = new Object();
Object outputLock = new Object();

private void someInputRelatedWork() {
    synchronize(inputLock) { 
        ... 
    } 
}
private void someOutputRelatedWork() {
    synchronize(outputLock) { 
        ... 
    }
}
</code></pre><p>Also if the method grows you can still keep the synchronized section separated:</p><pre><code> private void method() {
     ... code here
     ... code here
     ... code here
    synchronized( lock ) { 
        ... very few lines of code here
    }
     ... code here
     ... code here
     ... code here
     ... code here
}
</code></pre></body></html>

===ID===
584e5b263e2ca51be94feeab
===QUESTION===
When does static class initialization happen?
When are static fields initialized? If I never instantiate a class, but I access a static field, are ALL the static blocks and private static methods used to instantiate private static fields called (in order) at that instant? What if I call a static method? Does it also run all the static blocks? Before the method? 
===LINK===
http://stackoverflow.com/questions/3499214/when-does-static-class-initialization-happen
===KEYWORDS===
instant 
===ANSWER===
119
<html><body><p>A classes static initialization normally happens immediately before the first time one of the following events occurs:</p><li>an instance of the class is created,</li><li>a static method of the class is invoked,</li><li>a static field of the class is assigned,</li><li>a non-constant static field is used, or </li><li>for a top-level class, an assert statement lexically nested within the class is executed.</li><p>See <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.1" rel="nofollow noreferrer">JLS 12.4.1</a>.</p><p>It is also possible to force a class to initialize (if it hasn't already initialized) by using <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#forName(java.lang.String,%20boolean,%20java.lang.ClassLoader)" rel="nofollow noreferrer"><code>Class.forName(fqn, true, classLoader)</code></a> or the short form <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#forName(java.lang.String)" rel="nofollow noreferrer"><code>Class.forName(fqn)</code></a></p></body></html>

===ID===
584e5b263e2ca51be94feeac
===QUESTION===
Why aren't Java Collections remove methods generic?
Why isn't  Collection.remove(Object o)  generic?   Seems like  Collection<E>  could have  boolean remove(E o);   Then, when you accidentally try to remove (for example)  Set<String>  instead of each individual String from a  Collection<String> , it would be a compile time error instead of a debugging problem later. 
===LINK===
http://stackoverflow.com/questions/104799/why-arent-java-collections-remove-methods-generic
===KEYWORDS===
set<string> 
===ANSWER===
59
<html><body><p>Josh Bloch and Bill Pugh refer to this issue in <a href="https://www.youtube.com/watch?v=wDN_EYUvUq0" rel="nofollow noreferrer"><em>Java Puzzlers IV: The 
Phantom Reference Menace, Attack of the Clone, and Revenge of The 
Shift</em></a>.</p><p>Josh Bloch says (6:41) that they attempted to generify the get method 
of Map, remove method and some other, but "it simply didn't work".</p><p>There are too many reasonable programs that could not be generified if 
you only allow the generic type of the collection as parameter type. 
The example given by him is an intersection of a <code>List</code> of <code>Number</code>s and a 
<code>List</code> of <code>Long</code>s.</p></body></html>

===ID===
584e5b273e2ca51be94feead
===QUESTION===
Java default constructor
What exactly is a default constructor — can you tell me which one of the following is a default constructor and what differentiates it from any other constructor? 
===LINK===
http://stackoverflow.com/questions/4488716/java-default-constructor
===KEYWORDS===
differentiates 
===ANSWER===
146
<html><body><p>Neither of them. If you define it, it's not the default.</p><p>The default constructor is the no-argument constructor automatically generated unless you define another constructor. It initialises any uninitialised fields to their default values. For your example, it would look like this assuming that the types are <code>String</code>, <code>int</code> and <code>int</code>:</p><pre><code>public Module()
{
  super();
  this.name = null;
  this.credits = 0;
  this.hours = 0;
}
</code></pre><p>This is exactly the same as</p><pre><code>public Module()
{}
</code></pre><p>And exactly the same as having no constructors at all. However, if you define at least one constructor, the default constructor is not generated.</p><p>Reference: <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.8.9" rel="nofollow">Java Language Specification</a></p><p>Technically it is not the constructor (default or otherwise) that default-initialises the fields. However, I am leaving this in the answer as </p><li>the question got the defaults wrong and </li><li>including them or not, the constructor has exactly the same effect.</li></body></html>

===ID===
584e5b283e2ca51be94feeae
===QUESTION===
Difference between <context:annotation-config> vs <context:component-scan>
I'm learning Spring 3 and I don't seem to grasp the functionality behind  <context:annotation-config>  and  <context:component-scan> . From what I've read they seem to handle different annotations (@Required, @Autowired etc vs @Component, @Repository, @Service etc) but also from what I've read they register the same bean post processor classes. To confuse me even more, there is an  annotation-config  attribute on  <context:component-scan> . Can someone shed some light on these tags? What's similar, what's different, is one superseded by the other, they complete each other, do I need one of them, both? 
===LINK===
http://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan
===KEYWORDS===
shed 
===ANSWER===
1046
<html><body><p><code>&lt;context:annotation-config&gt;</code> is used to activate annotations in beans already registered in the application context (no matter if they were defined with XML or by package scanning).</p><p><code>&lt;context:component-scan&gt;</code> can also do what <code>&lt;context:annotation-config&gt;</code> does but <code>&lt;context:component-scan&gt;</code> also scans packages to find and register beans within the application context.</p><p>I'll use some examples to show the differences/similarities. </p><p>Lets start with a basic setup of three beans of type <code>A</code>, <code>B</code> and <code>C</code>, with <code>B</code> and <code>C</code> being injected into <code>A</code>.</p><pre><code>package com.xxx;
public class B {
  public B() {
    System.out.println("creating bean B: " + this);
  }
}

package com.xxx;
public class C {
  public C() {
    System.out.println("creating bean C: " + this);
  }
}

package com.yyy;
import com.xxx.B;
import com.xxx.C;
public class A { 
  private B bbb;
  private C ccc;
  public A() {
    System.out.println("creating bean A: " + this);
  }
  public void setBbb(B bbb) {
    System.out.println("setting A.bbb with " + bbb);
    this.bbb = bbb;
  }
  public void setCcc(C ccc) {
    System.out.println("setting A.ccc with " + ccc);
    this.ccc = ccc; 
  }
}
</code></pre><p>With the following XML configuration :</p><pre><code>&lt;bean id="bBean" class="com.xxx.B" /&gt;
&lt;bean id="cBean" class="com.xxx.C" /&gt;
&lt;bean id="aBean" class="com.yyy.A"&gt;
  &lt;property name="bbb" ref="bBean" /&gt;
  &lt;property name="ccc" ref="cBean" /&gt;
&lt;/bean&gt;
</code></pre><p>Loading the context produces the following output:</p><pre><code>creating bean B: com.xxx.B@c2ff5
creating bean C: com.xxx.C@1e8a1f6
creating bean A: com.yyy.A@1e152c5
setting A.bbb with com.xxx.B@c2ff5
setting A.ccc with com.xxx.C@1e8a1f6
</code></pre><p>OK, this is the expected output. But this is "old style" Spring. Now we have annotations so lets use those to simplify the XML.</p><p>First, lets autowire the <code>bbb</code> and <code>ccc</code> properties on bean <code>A</code> like so:</p><pre><code>package com.yyy;
import org.springframework.beans.factory.annotation.Autowired;
import com.xxx.B;
import com.xxx.C;
public class A { 
  private B bbb;
  private C ccc;
  public A() {
    System.out.println("creating bean A: " + this);
  }
  @Autowired
  public void setBbb(B bbb) {
    System.out.println("setting A.bbb with " + bbb);
    this.bbb = bbb;
  }
  @Autowired
  public void setCcc(C ccc) {
    System.out.println("setting A.ccc with " + ccc);
    this.ccc = ccc;
  }
}
</code></pre><p>This allows me to remove the following rows from the XML:</p><pre><code>&lt;property name="bbb" ref="bBean" /&gt;
&lt;property name="ccc" ref="cBean" /&gt;
</code></pre><p>My XML is now simplified to this:</p><pre><code>&lt;bean id="bBean" class="com.xxx.B" /&gt;
&lt;bean id="cBean" class="com.xxx.C" /&gt;
&lt;bean id="aBean" class="com.yyy.A" /&gt;
</code></pre><p>When I load the context I get the following output:</p><pre><code>creating bean B: com.xxx.B@5e5a50
creating bean C: com.xxx.C@54a328
creating bean A: com.yyy.A@a3d4cf
</code></pre><p>OK, this is wrong! What happened? Why aren't my properties autowired?</p><p>Well, annotations are a nice feature but by themselves they do nothing whatsoever. They just annotate stuff. You need a processing tool to find the annotations and do something with them. </p><p><code>&lt;context:annotation-config&gt;</code> to the rescue. This activates the actions for the annotations that it finds on the beans defined in the same application context where itself is defined.</p><p>If I change my XML to this:</p><pre><code>&lt;context:annotation-config /&gt;
&lt;bean id="bBean" class="com.xxx.B" /&gt;
&lt;bean id="cBean" class="com.xxx.C" /&gt;
&lt;bean id="aBean" class="com.yyy.A" /&gt;
</code></pre><p>when I load the application context I get the proper result:</p><pre><code>creating bean B: com.xxx.B@15663a2
creating bean C: com.xxx.C@cd5f8b
creating bean A: com.yyy.A@157aa53
setting A.bbb with com.xxx.B@15663a2
setting A.ccc with com.xxx.C@cd5f8b
</code></pre><p>OK, this is nice, but I've removed two rows from the XML and added one. That's not a very big difference. The idea with annotations is that it's supposed to remove the XML.</p><p>So let's remove the XML definitions and replace them all with annotations:</p><pre><code>package com.xxx;
import org.springframework.stereotype.Component;
@Component
public class B {
  public B() {
    System.out.println("creating bean B: " + this);
  }
}

package com.xxx;
import org.springframework.stereotype.Component;
@Component
public class C {
  public C() {
    System.out.println("creating bean C: " + this);
  }
}

package com.yyy;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;
import com.xxx.B;
import com.xxx.C;
@Component
public class A { 
  private B bbb;
  private C ccc;
  public A() {
    System.out.println("creating bean A: " + this);
  }
  @Autowired
  public void setBbb(B bbb) {
    System.out.println("setting A.bbb with " + bbb);
    this.bbb = bbb;
  }
  @Autowired
  public void setCcc(C ccc) {
    System.out.println("setting A.ccc with " + ccc);
    this.ccc = ccc;
  }
}
</code></pre><p>While in the XML we only keep this:</p><pre><code>&lt;context:annotation-config /&gt;
</code></pre><p>We load the context and the result is... Nothing. No beans are created, no beans are autowired. Nothing!</p><p>That's because, as I said in the first paragraph, the <code>&lt;context:annotation-config /&gt;</code> only works on beans registered within the application context. Because I removed the XML configuration for the three beans there is no bean created and <code>&lt;context:annotation-config /&gt;</code> has no "targets" to work on.</p><p>But that won't be a problem for <code>&lt;context:component-scan&gt;</code> which can scan a package for "targets" to work on. Let's change the content of the XML config into the following entry:</p><pre><code>&lt;context:component-scan base-package="com.xxx" /&gt;
</code></pre><p>When I load the context I get the following output:</p><pre><code>creating bean B: com.xxx.B@1be0f0a
creating bean C: com.xxx.C@80d1ff
</code></pre><p>Hmmmm... something is missing. Why? </p><p>If you look closelly at the classes, class <code>A</code> has package <code>com.yyy</code> but I've specified in the <code>&lt;context:component-scan&gt;</code> to use package <code>com.xxx</code> so this completely missed my <code>A</code> class and only picked up <code>B</code> and <code>C</code> which are on the <code>com.xxx</code> package.</p><p>To fix this, I add this other package also:</p><pre><code>&lt;context:component-scan base-package="com.xxx,com.yyy" /&gt;
</code></pre><p>and now we get the expected result:</p><pre><code>creating bean B: com.xxx.B@cd5f8b
creating bean C: com.xxx.C@15ac3c9
creating bean A: com.yyy.A@ec4a87
setting A.bbb with com.xxx.B@cd5f8b
setting A.ccc with com.xxx.C@15ac3c9
</code></pre><p>And that's it! Now you don't have XML definitions anymore, you have annotations.</p><p>As a final example, keeping the annotated classes <code>A</code>, <code>B</code> and <code>C</code> and adding the following to the XML, what will we get after loading the context?</p><pre><code>&lt;context:component-scan base-package="com.xxx" /&gt;
&lt;bean id="aBean" class="com.yyy.A" /&gt;
</code></pre><p>We still get the correct result:</p><pre><code>creating bean B: com.xxx.B@157aa53
creating bean C: com.xxx.C@ec4a87
creating bean A: com.yyy.A@1d64c37
setting A.bbb with com.xxx.B@157aa53
setting A.ccc with com.xxx.C@ec4a87
</code></pre><p>Even if the bean for class <code>A</code> isn't obtained by scanning, the processing tools are still applied by <code>&lt;context:component-scan&gt;</code> on all beans registered
in the application context, even for <code>A</code> which was manually registered in the XML.</p><p>But what if we have the following XML, will we get duplicated beans because we've specified both <code>&lt;context:annotation-config /&gt;</code> and <code>&lt;context:component-scan&gt;</code>?</p><pre><code>&lt;context:annotation-config /&gt;
&lt;context:component-scan base-package="com.xxx" /&gt;
&lt;bean id="aBean" class="com.yyy.A" /&gt;
</code></pre><p>No, no duplications, We again get the expected result:</p><pre><code>creating bean B: com.xxx.B@157aa53
creating bean C: com.xxx.C@ec4a87
creating bean A: com.yyy.A@1d64c37
setting A.bbb with com.xxx.B@157aa53
setting A.ccc with com.xxx.C@ec4a87
</code></pre><p>That's because both tags register the same processing tools (<code>&lt;context:annotation-config /&gt;</code> can be omitted if <code>&lt;context:component-scan&gt;</code> is specified) but Spring takes care of running them only once.</p><p>Even if you register the processing tools yourself multiple times, Spring will still make sure they do their magic only once; this XML:</p><pre><code>&lt;context:annotation-config /&gt;
&lt;context:component-scan base-package="com.xxx" /&gt;
&lt;bean id="aBean" class="com.yyy.A" /&gt;
&lt;bean id="bla" class="org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor" /&gt;
&lt;bean id="bla1" class="org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor" /&gt;
&lt;bean id="bla2" class="org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor" /&gt;
&lt;bean id="bla3" class="org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor" /&gt;
</code></pre><p>will still generate the following result:</p><pre><code>creating bean B: com.xxx.B@157aa53
creating bean C: com.xxx.C@ec4a87
creating bean A: com.yyy.A@25d2b2
setting A.bbb with com.xxx.B@157aa53
setting A.ccc with com.xxx.C@ec4a87
</code></pre><p>OK, that about raps it up. </p><p>I hope this information along with the responses from @Tomasz Nurkiewicz and @Sean Patrick Floyd are all you need to understand how 
<code>&lt;context:annotation-config&gt;</code> and <code>&lt;context:component-scan&gt;</code> work.</p></body></html>

===ID===
584e5b293e2ca51be94feeaf
===QUESTION===
How to avoid Dependency Injection constructor madness?
I find that my constructors are starting to look like this: with ever increasing parameter list. Since "Container" is my dependency injection container, why can't I just do this: for every class? What are the downsides? If I do this, it feels like I'm using a glorified static. Please share your thoughts on IoC and Dependency Injection madness. 
===LINK===
http://stackoverflow.com/questions/2420193/how-to-avoid-dependency-injection-constructor-madness
===KEYWORDS===
container 
===ANSWER===
269
<html><body><p>You are right that if you use the container as a Service Locator, it's more or less a glorified static factory. For lots of reasons <a href="http://blog.ploeh.dk/2010/02/03/ServiceLocatorIsAnAntiPattern.aspx" rel="nofollow noreferrer">I consider this an anti-pattern</a>.</p><p>One of the wonderful benefits of Constructor Injection is that it makes violations of the <a href="http://en.wikipedia.org/wiki/Single_responsibility_principle" rel="nofollow noreferrer">Single Responsibility Principle</a> glaringly obvious.</p><p>When that happens, it's time to <a href="http://blog.ploeh.dk/2010/02/02/RefactoringToAggregateServices.aspx" rel="nofollow noreferrer">refactor to Facade Services</a>. In short, create a new, more <strong>coarse-grained</strong> interface that hides the interaction between some or all of the fine-grained dependencies you currently require.</p></body></html>

===ID===
584e5b293e2ca51be94feeb0
===QUESTION===
How to create a windows service from java app
I've just inherited a java application that needs to be installed as a service on XP and vista. It's been about 8 years since I've used windows in any form and I've never had to create a service, let alone from something like a java app (I've got a jar for the app and a single dependency jar - log4j).  What is the magic necessary to make this run as a service?  I've got the source, so code modifications, though preferably avoided, are possible. 
===LINK===
http://stackoverflow.com/questions/68113/how-to-create-a-windows-service-from-java-app
===KEYWORDS===
vista 
===ANSWER===
54
<html><body><p>I've had some luck with <a href="http://wrapper.tanukisoftware.org/doc/english/introduction.html" rel="nofollow noreferrer">the Java Service Wrapper</a></p></body></html>

===ID===
584e5b2a3e2ca51be94feeb1
===QUESTION===
How to set the java.library.path from Eclipse
How can I set the java.library.path for a whole Eclipse Project? I'm using a Java library that relies on OS specific files and need to find a .dll/.so/.jnilib. But the Application always exits with an error message that those files are not found on the library path.  I would like to configure this whole project to use the library path. I tried to add the path as a VM argument to some run configurations in eclipse but that didn't work. 
===LINK===
http://stackoverflow.com/questions/957700/how-to-set-the-java-library-path-from-eclipse
===KEYWORDS===
relies 
===ANSWER===
263
<html><body><p>Don't mess with the library path!  Eclipse builds it itself!</p><p>Instead, go into the library settings for your projects and, for each jar/etc that requires a native library, expand it in the <em>Libraries</em> tab.  In the tree view there, each library has items for source/javadoc and native library locations.</p><p>Specifically: select <code>Project</code>, right click -&gt; <em>Properties</em> / <em>Java Build Path</em> / <em>Libraries</em> tab, select a .jar, expand it, select <em>Native library location</em>, click <em>Edit</em>, folder chooser dialog will appear)</p><p>Messing with the library path on the command line should be your last ditch effort, because you might break something that is already properly set by eclipse.</p><p><img alt="Native library location" src="https://i.stack.imgur.com/zeFNt.png"/></p></body></html>

===ID===
584e5b2b3e2ca51be94feeb2
===QUESTION===
Java - escape string to prevent SQL injection
I'm trying to put some anti sql injection in place in java and am finding it very difficult to work with the the "replaceAll" string function. Ultimately I need a function that will convert any existing  \  to  \\ , any  "  to  \" , any  '  to  \' , and any  \n  to  \\n  so that when the string is evaluated by MySQL SQL injections will be blocked.  I've jacked up some code I was working with and all the  \\\\\\\\\\\  in the function are making my eyes go nuts. If anyone happens to have an example of this I would greatly appreciate it. 
===LINK===
http://stackoverflow.com/questions/1812891/java-escape-string-to-prevent-sql-injection
===KEYWORDS===
function 
===ANSWER===
188
<html><body><p>PreparedStatements are the way to go, because they make SQL injection impossible.  Here's a simple example taking the user's input as the parameters:</p><pre><code>public insertUser(String name, String email) {
   Connection conn = null;
   PreparedStatement stmt = null;
   try {
      conn = setupTheDatabaseConnectionSomehow();
      stmt = conn.prepareStatement("INSERT INTO person (name, email) values (?, ?)");
      stmt.setString(1, name);
      stmt.setString(2, email);
      stmt.executeUpdate();
   }
   finally {
      try {
         if (stmt != null) { stmt.close(); }
      }
      catch (Exception e) {
         // log this error
      }
      try {
         if (conn != null) { conn.close(); }
      }
      catch (Exception e) {
         // log this error
      }
   }
}
</code></pre><p>No matter what characters are in name and email, those characters will be placed directly in the database.  They won't affect the INSERT statement in any way.</p><p>There are different set methods for different data types -- which one you use depends on what your database fields are.  For example, if you have an INTEGER column in the database, you should use a <code>setInt</code> method.  <a href="http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html" rel="nofollow noreferrer">The PreparedStatement documentation</a> lists all the different methods available for setting and getting data.</p></body></html>

